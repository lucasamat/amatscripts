function MutipleCheckBoxDrop_Onclick(ele) {
	var current_dropdown_offset = $(ele).offset().left;
	var window_width = $(window).width();
	var current_distance = window_width - current_dropdown_offset;
	if (current_distance < 250) {
		var drop_down_width = $(ele).css('width');
		var down_id_txt = $(ele).attr('aria-owns');
		var less_width = current_distance - 10;
		less_width = less_width + 'px';
		$('#' + down_id_txt).css('min-width', '0px');
		$('#' + down_id_txt).css('width', less_width);
		$('#' + down_id_txt).css('border-right', '1px solid #dcdcdc');
	} else { }
} 
function openBillingMatrixDateChangeModal(ele) {
	console.log('18----billing matrix--', ele)
	var billingDate = ele;
	$('div#billing_matrix_viewModal input#BILLING_DATE').val(billingDate);
	$('#spare-parts-bulk-save-btn').css('display', 'none');
	$('#spare-parts-bulk-cancel-btn').css('display', 'none');
	$('div#billing_matrix_viewModal input#BILLING_DATE_ORIGINAL').val(billingDate);
	$('#billing_matrix_viewModal').modal('show');
	$('#billingmatrix_save').css('display', 'none');
	$('#billingmatrix_cancel').css('display', 'none');
}
function PageFunctest(a) {
	var xxx = a.value;
	PaginationFunct(xxx);
}
function showSBillMatBulksave(ele) {

	TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	TreeParam = localStorage.getItem('CommonTreeParam');

	var GEtBilldictdata = JSON.parse(localStorage.getItem('getbilldictdata'));
	var getedited_amt = localStorage.getItem('getbillamt');
	TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	TreeParam = localStorage.getItem('CommonTreeParam');
	//var totalyear = document.getElementById("getbillyear").innerHTML
	var totalyear = $('#COMMON_TABS li.active').text().trim();

	cpq.server.executeScript("CQBILLEDIT", {
		'billdict': GEtBilldictdata,
		'totalyear': totalyear,
		'getedited_amt': getedited_amt,
		'TreeParam': TreeParam,
		'TreeParentParam': TreeParentParam



	}, function (data) {
		//console.log('inside---data----',data);
		data2 = data[1];
		//console.log('inside--data2--',data2);
		if (data2 == 'NOTSAVE') {
			$('#billingmatrix_save').css('display', 'none');
			$('#billingmatrix_cancel').css('display', 'none');
			loadRelatedList('SYOBJR-00007', 'div_CTR_Billing_Matrix');
			$('#generatingbillingmatrix').css('display', 'none');
			$('.notificatsection').css('display', 'block');
			$('.cpq_notification_div').css('display', 'block');
			$('.cpq_cust_notify').css('display', 'block');
			$('.alert-warning').css('display', 'block');
			$('.cpq_cust_notify').html(data[2]);
		} else {
			$('#billingmatrix_save').css('display', 'none');
			$('#billingmatrix_cancel').css('display', 'none');

			$('#generatingbillingmatrix').css('display', 'none');
			//$('.notificatsection').css('display','none');


			var get_notifydiv = $('.approval_msg').css('display');
			if (get_notifydiv == 'none') {
				$('.notificatsection').css('display', 'none');
			}
			else {
				console.log('78--->')
				$('.notificatsection').css('display', 'block');
			}
			$('.cpq_notification_div').css('display', 'none');
			$('.cpq_cust_notify').css('display', 'none');
			$('.alert-warning').css('display', 'none');

		} loadRelatedList('SYOBJR-00007', 'div_CTR_Billing_Matrix');

	});
	localStorage.setItem('getbilldictdata', '');
	localStorage.setItem('getbillamt', '')
}

function showSBillMatBulkcancel(ele) {

	$('#billingmatrix_save').css('display', 'none');
	$('#billingmatrix_cancel').css('display', 'none');
	loadRelatedList('SYOBJR-00007', 'div_CTR_Billing_Matrix');
	$('#generatingbillingmatrix').css('display', 'block');
	$('.notificatsection').css('display', 'none');
	$('.cust_notify').css('display', 'none');
	$('.cpq_notification_div').css('display', 'none');
	$('.cpq_cust_notify').css('display', 'none');
	$('.alert-warning').css('display', 'none');
}


function PageFunctestChild(a, tabName, rec, table_id) {
	TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	TreeParam = localStorage.getItem('CommonTreeParam');
	var counter = a.value;
	if (tabName == 'MaterialTreeView' || tabName == 'RelatedList' || tabName == 'EntriesRelated_list' || tabName == 'AtrrPivot_RelatedList' || tabName == 'PLANT_RelatedList' || tabName == 'Pricefactor' || tabName == 'Price_factors' || tabName == 'LISTPRICEBOOKSINPRICEMODEL' || tabName == 'Grid_Copart' || tabName == 'prcfvavalue') {
		x = table_id + "_PageCountValue"
		y = table_id + "_NumberofItem"
		page_count = document.getElementById(x).innerHTML
		NumberofItem = document.getElementById(y).innerHTML
	}
	else if (tabName == 'Quote' || tabName == 'Quotes' || tabname == 'Contract') {
		x = table_id + "___PageCountValue"
		y = table_id + "___NumberofItem"
		page_count = document.getElementById(x).innerHTML
		NumberofItem = document.getElementById(y).innerHTML
	}
	else if (tabName == 'Contract' || tabName == 'Contracts') {
		x = table_id + "___PageCountValue"
		y = table_id + "___NumberofItem"
		page_count = document.getElementById(x).innerHTML
		NumberofItem = document.getElementById(y).innerHTML
	}
	else {
		page_count = document.getElementById("page_count").innerHTML
		NumberofItem = document.getElementById("NumberofItem").innerHTML

	}
	a = NumberofItem.split(' ')[0]
	b = NumberofItem.split(' ')[2]
	if (!(a == '') && !(b == '')) {
		if (counter == '10') {
			PageInform = '1___10___1'
		} else if (counter == '20') {
			PageInform = '1___20___1'
		} else if (counter == '50') {
			PageInform = '1___50___1'
		} else if (counter == '100') {
			PageInform = '1___100___1'
		} else if (counter == '200') {
			PageInform = '1___200___1'
		}
		var A_Keys = [];
		var A_Values = [];
		if (tabName == 'Categories') {
			var A_Keys = ["CATEGORY_RECORD_ID", "CATEGORY_NAME", "CATEGORY_ID", "RANK"]
			var CATEGORY_NAME = $("#catTreeTable_CATEGORY_NAME_InputFilter").val();
			var CATEGORY_ID = $("#catTreeTable_CATEGORY_ID_InputFilter").val();
			var RANK = $("#catTreeTable_RANK_InputFilter").val();
			A_Values.push('');
			A_Values.push(CATEGORY_NAME);
			A_Values.push(CATEGORY_ID);
			A_Values.push(RANK);
			try {
				cpq.server.executeScript("SYCATTREVW", {
					'TABNAME': 'CategoriesFilter',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					var employees = datas[0];
					$("#catTreeTable").ejTreeGrid({
						sizeSettings: {
							height: '500px'
						}
					});
					$("#catTreeTable").ejTreeGrid({
						dataSource: employees,
					});
					var treegridObj = $("#catTreeTable").data("ejTreeGrid");
					if (treegridObj != null && treegridObj != undefined) {
						treegridObj.collapseAll();
					}
					$("#catTreeTable").ejTreeGrid({
						sizeSettings: {
							height: 'auto'
						}
					});
					data5 = datas[5];
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data5;
					}
				});
			} catch (e) {
				console.log(e);
			}
		} else if (tabName == 'Price Classes') {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("SYCATTREVW", {
					'TABNAME': 'PriceClassesFilter',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#table_price_class').bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Master starts..
		else if ((tabName == 'Quote' && TreeParentParam != "Complementary Products" && table_id.includes("table_equipment_parent")) && (TreeParam != "Sending Equipment" && TreeParam != "Receiving Equipment" && TreeParentParam != "Sending Equipment" && TreeParentParam != "Receiving Equipment") && (TreeSuperParentParam != "Sending Equipment" && TreeSuperParentParam != "Receiving Equipment")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Equipment Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Master ends..
		else if (tabName == 'Quote' && table_id.includes("table_event_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Event Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data2 = datas[2];
					data11 = datas[11];
					data14 = datas[14];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
					if (data14 != "True") {
						$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').removeAttr('disabled')
						$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').attr("onclick", "OnclickAssemblyEdit(this,'TKM')");
					}

				});
			} catch (e) {
				console.log(e);
			}
		}
		else if (tabName == 'Quote' && table_id.includes("table_equipment_parent") && (TreeParentParam == "Sending Equipment" || TreeParentParam == "Receiving Equipment" || TreeParentParam == "Complementary Products" || TreeSuperParentParam == "Sending Equipment" || TreeSuperParentParam == "Receiving Equipment" || TreeParam == "Sending Equipment")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			if (TreeParentParam == "Complementary Products" && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
				var curr_tabname = 'CovObj Master Pagination'
			}
			else {
				var curr_tabname = 'Sending Equipment Parent Pagination'
			}
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': curr_tabname,
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					data2 = datas[2];
					$('#' + data2).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Quote Items Node Starts
		else if (tabName == 'Quote' && table_id.includes("table_common_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Common Parent',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Quote Items Node Ends
		//quote items node nested grid pagination starts
		else if (tabName == 'Quote' && table_id.includes("CommonChildTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ');
					x = x[x.length - 1]
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'Common Child',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//quote items node nested grid pagination ends
		else if (tabName == 'Quote' && table_id.includes("WithBundleParentTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId");
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'WITH BUNLDLE PARENT TABLE',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Equipment Master starts...
		else if (tabName == 'Contract' && table_id.includes("table_Contract_equipment_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract Equipment Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Equipment Master ends...
		else if (tabName == 'Contract' && (TreeParentParam == "Fab Locations" || TreeSuperParentParam == "Fab Locations" || TreeParam == "Fab Locations") && table_id != "table_contract_equipment") {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract Equipment Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#table_Contract_equipment_parent').bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Child starts...
		else if (tabName == 'Quote' && table_id.includes("table_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Equipment Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
					'CPQ_TAB_ID': ChildEquipcpId
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Child ends...
		else if (tabName == 'Quote' && table_id.includes("table_events_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Events Child filter',
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		else if (tabName == 'Quote' && table_id.includes("table_sending_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Sendingequp Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform,
					'EQUIPMENTID': ChildEquipmentId,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Contract Equipment Master starts..
		else if (tabName == 'Contract' && table_id.includes("table_Contract_equipment_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Contract Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}

			});
		}
		//Contract Equipment Master ends..
		//Covered object Master starts...
		else if (tabName == 'Quote' && table_id.includes("table_covered_obj_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ');
					x = x[x.length - 1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Covered object Master ends...
		// Contract Covered object Master starts...
		else if (tabName == 'Contract' && table_id.includes("table_contract_covered_obj_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Covered object Master ends...
		//Covered object Child starts..
		else if (tabName == 'Quote' && table_id.includes("covered_obj_child")) {
			CoveredobjectEquipmentId = localStorage.getItem("CoveredobjectchildEquipmentId")
			CPQ_TAB_ID = localStorage.getItem("CoveredobjectchildEquipmentcpId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'CoveredObj Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': CoveredobjectEquipmentId,
					'PerPage': counter,
					'PageInform': PageInform,
					'CPQ_TAB_ID': CPQ_TAB_ID
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
					if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
						$("#" + table_id + " #INCLUDED").attr('disabled', 'disabled');
					}
					else {
						$("#" + table_id + " #INCLUDED").removeAttr('disabled');
						$("#" + table_id + " #INCLUDED").attr("onclick", "OnclickAssemblyEdit(this)");
					}

				});
			} catch (e) {
				console.log(e);
			}
		}
		//Covered object Child ends..
		// Contract Covered object Master starts...
		else if (tabName == 'Contract' && table_id.includes("table_contract_covered_obj_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform,
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Covered object Master ends...
		else if (tabName == 'Contracts' && TreeParentParam == "Comprehensive Services") {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#table_contract_covered_obj_parent').bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events Master pagination starts..
		else if (tabName == 'Quote' && table_id.includes("table_Preventive_Maintainence_parent")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			sort_column = localStorage.getItem(table_id + '_SortColumn');
			sort_order = localStorage.getItem(table_id + '_SortColumnOrder');
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					values = values.split(' ');
					index = values.indexOf(values.find(ele => ele.includes('bootstrap-table-filter-control')))
					x = values[index];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Parent Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'PerPage': counter,
					'PageInform': PageInform,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events Master pagination ends...
		//Events child pagination starts..
		else if (tabName == 'Quote' && table_id.includes("table_preventive_maintainence_child")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			PM_Id = localStorage.getItem("PM_ID")
			Kit_Id = localStorage.getItem("KIT_ID")
			Kit_Number = localStorage.getItem("KIT_NUMBER")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'KITID': Kit_Id,
					'KITNUMBER': Kit_Number,
					'PM_ID': PM_Id,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events child pagination ends...
		//A043S001P01-10888 START
		else if (tabName == 'Roles') {
			var A_Keys = ["ROLE_RECORD_ID", "ROLE_NAME", "ROLE_ID", "ROLE_DESCRIPTION", "PAR_ROLE_RECORD_ID", "PAR_ROLE_ID", "START_PAGE"]
			var ROLE_NAME = $("#RolesTreeTable_ROLE_NAME_InputFilter").val();
			var ROLE_ID = $("#RolesTreeTable_ROLE_ID_InputFilter").val();
			var ROLE_DESCRIPTION = $("#RolesTreeTable_ROLE_DESCRIPTION_InputFilter").val();
			var PAR_ROLE_ID = $("#RolesTreeTable_PAR_ROLE_ID_InputFilter").val();
			var START_PAGE = $("#RolesTreeTable_START_PAGE_InputFilter").val();
			A_Values.push('');
			A_Values.push(ROLE_NAME);
			A_Values.push(ROLE_ID);
			A_Values.push(ROLE_DESCRIPTION);
			A_Values.push(PAR_ROLE_ID);
			A_Values.push(START_PAGE);
			try {
				cpq.server.executeScript("SYCATTREVW", {
					'TABNAME': 'RolesFilter',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					var employees = datas[0];
					$("#catTreeTable").ejTreeGrid({
						sizeSettings: {
							height: '500px'
						}
					});
					$("#catTreeTable").ejTreeGrid({
						dataSource: employees,
					});
					var treegridObj = $("#catTreeTable").data("ejTreeGrid");
					if (treegridObj != null && treegridObj != undefined) {
						treegridObj.collapseAll();
					}
					$("#catTreeTable").ejTreeGrid({
						sizeSettings: {
							height: 'auto'
						}
					});
					data5 = datas[5];
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data5;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// A043S001P01-10888 END
		else if (tabName == 'Pricebook Sets') {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if ((values.split(' ').length) == 2) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					A_Keys.push(y);
					A_Values.push(xyz);
				} else {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					A_Keys.push(y);
					A_Values.push(xyz);
				}
			});
			try {
				cpq.server.executeScript("SYCATTREVW", {
					'TABNAME': 'ListPricebookSetsFilter',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#table_price_class').bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		} else if (tabName == 'MaterialTreeView' || tabName == 'RelatedList' || tabName == 'AtrrPivot_RelatedList' || tabName == 'PLANT_RelatedList' || tabName == 'Pricefactor' || tabName == 'EntriesRelated_list' || tabName == 'Price_factors' || tabName == 'LISTPRICEBOOKSINPRICEMODEL' || tabName == 'Grid_Copart' || tabName == 'prcfvavalue') {
			A_Keys = [];
			A_Values = [];
			var subTab = ""
			PR_CURR = $(".segment_part_number_text").text();
			var TP = localStorage.getItem('CommonTreeParam');
			if (TreeParam == "Billing") {
				var subTab = $('#COMMON_TABS li.active').text().trim();
			}
			else {
				subTab = ""
			}


			//table_list = ['prbkmaterial','prcfvavalue','EntriesRelated_list']
			/*if(jQuery.inArray(tabName, table_list)){
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;

					//if ((values.split(' ').length) == 2) {
						if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
							x = values.split(' ')[1];console.log(x);
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}
						if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
							x = values.split(' ')[2];
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}

					console.log(A_Keys,A_Values)
				});
			}
			else{*/
			var table_divid = '';
			if ($('table#' + table_id).closest('div[id]').attr('id') && ($('table#' + table_id).closest('div[id]').attr('id')).indexOf('div_') == -1) {
				table_divid = 'div#' + $('table#' + table_id).closest('div[id]').attr('id');
			}
			$(table_divid + ' table#' + table_id + ' .filter-control').each(function () {

				values = this.firstElementChild.className;

				//if ((values.split(' ').length) == 2) {
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					if (x != undefined) {
						y = x.split("-").slice(-1)[0];
						xyz = $('#' + table_id + ' .' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}

				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

				//console.log(A_Keys, A_Values)
				/*} else {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					A_Keys.push(y);
					A_Values.push(xyz);
				*/ //}
			});
			//}

			if (tabName == 'RelatedList') {
				//Code to remain sorting after pagination change -- start
				sort_order = '';
				sort_column = '';
				subTab = localStorage.getItem('currentSubTab');
				$('#' + table_id + ' > thead > tr > th').each(function () {
					if ($(this).find('div').attr('class').includes('asc')) {
						sort_order = 'asc';
						sort_column = $(this).attr('data-field');
					}
					if ($(this).find('div').attr('class').includes('desc')) {
						sort_order = 'desc';
						sort_column = $(this).attr('data-field');
					}
				});
				if (rec == 'SYOBJR-98868') {
					cpq_tab_id = localStorage.getItem('CurrentRecordId')
				}
				else {
					cpq_tab_id = ""
				}
				//Code to remain sorting after pagination change -- end
				try {
					cpq.server.executeScript("SYLDRTLIST", {
						'REC_ID': table_id,
						'ATTRIBUTE_NAME': A_Keys,
						'ATTRIBUTE_VALUE': A_Values,
						'ACTION': 'PRODUCT_ONLOAD_FILTER',
						'PerPage': counter,
						'PageInform': PageInform,
						'PR_CURR': PR_CURR,
						'TP': TP,
						'SUBTAB': subTab,
						'SortColumn': sort_column,
						'SortColumnOrder': sort_order,
						'equipment_id': localStorage.getItem('openedKit'),
						'CPQ_TAB_ID': cpq_tab_id
					}, function (dataset) {
						data2 = dataset[1];
						data1 = dataset[0];
						data13 = dataset[2];
						data3 = dataset[3];
						$('#' + table_id).bootstrapTable('load', data1);
						if (nso_included != "True") {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").removeAttr('disabled');
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
						}
						// Billing Matrix Footer - Start
						//$('#' + table_id+ '  tfoot ').empty();
						// $('#' + table_id+ ' tbody').after(dataset[3]);
						// Billing Matrix Footer - End
						if (document.getElementById(table_id + "_totalItemCount")) {
							document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
						}
						if (document.getElementById(table_id + "_NumberofItem")) {
							document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
						}
						if (document.getElementById(table_id + "_page_count")) {
							document.getElementById(table_id + "_page_count").innerHTML = 1
						}
						if (RecId == 'SYOBJR-00009') {
							annualgrid_show()
						}


					});
				} catch (e) {
					console.log(e);
				}
			}
			if (tabName == 'MaterialTreeView') {
				RECORD_ID = localStorage.getItem('MtrlPaginationRecId');
				TreeParam = localStorage.getItem('MtrlPaginationTreeParam');
				ACTION = localStorage.getItem('MtrlPaginationAction');
				if (ACTION == 'LOAD') {
					ACTION_ONCHANGE = 'PRODUCT_ONCHNAGE';
				} else {
					ACTION_ONCHANGE = 'CHILD_PRODUCT_ONCHNAGE';
				}
				cpq.server.executeScript("MATREEVIEW", {
					"TreeView": "TreeGridRight",
					"RelatedRecId": rec,
					"RECORD_ID": RECORD_ID,
					"TreeParam": TreeParam,
					"ATTRIBUTE_NAME": A_Keys,
					"ATTRIBUTE_VALUE": A_Values,
					"ACTION": ACTION_ONCHANGE,
					'PerPage': counter,
					'PageInform': PageInform
				}, function (dataset) {
					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}
				});
			} else if (tabName == 'AtrrPivot_RelatedList') {
				try {
					cpq.server.executeScript("MAATLOPIVT", {
						'Preview': 'True',
						'ACTION': '',
						'PerPage': counter,
						'PageInform': PageInform
					}, function (dataset) {
						data2 = dataset[2];
						data1 = dataset[1];
						data10 = dataset[10];
						$('#' + data2).bootstrapTable('load', data1);
						if (document.getElementById(data2 + "_NumberofItem")) {
							document.getElementById(data2 + "_NumberofItem").innerHTML = data10;
						}
					});
				} catch (e) {
					console.log(e);
				}
			} else if (tabName == 'PLANT_RelatedList') {
				try {
					cpq.server.executeScript("SYLDCTNPTL", {
						'ContainerType': 'DYNAMIC ROWS',
						'Row_Count': 'ButtonName',
						'New_CtrName': 'PLANT_AND_MATERIAL_ATTRIBUTES',
						'Column_Count': '0',
						'SQL_Expression': 'SYSEFL-MA-00469',
						'Column_Names_List': "[{'FIELD_NAME': 'KEY', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PERSONALIZATION_NAME'}, {'FIELD_NAME': 'PERSONALIZATION NAME', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_ID'}, {'FIELD_NAME': 'PERSONALIZATION TYPE', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_NAME'}, {'FIELD_NAME': 'SAP PART NUMBER', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SAP_PART_NUMBER'}]",
						'PerPage': counter,
						'PageInform': PageInform
					}, function (dataset) {
						data2 = dataset[2];
						data1 = dataset[1];
						data7 = dataset[7];
						$('#' + data2).bootstrapTable('load', data1);
						if (document.getElementById(data2 + "_NumberofItem")) {
							document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
						}
					});
				} catch (e) {
					console.log(e);
				}
			} else if (tabName == 'Pricefactor') {
				ParentNodeRecId = localStorage.getItem('CurrentRecordId');
				var QSt_id = '';
				var columns = '';
				var New_CtrName = '';
				TreeParam = localStorage.getItem('PrcTreeParam');
				if (table_id == 'SALES_ORG_LEVEL_DEFAULT_FACTORS') {
					var QSt_id = 'SYSEFL-PB-00437';
					var columns = "[{'FIELD_NAME': 'SALES ORG ID', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SALESORG_ID'}]"
					var New_CtrName = 'GLOBAL SALESORG LIST PRICBOOK SET FACTORS';
					try {
						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': New_CtrName,
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': columns,
							'PerPage': counter,
							'PageInform': PageInform
						},
							function (dataset) {
								data1 = dataset[1];
								data2 = dataset[2];
								data11 = dataset[11];
								$('#' + data1).bootstrapTable('load', data2);
								if (document.getElementById(data1 + "_NumberofItem")) {
									document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
								}
							});
					} catch (e) {
						console.log(e);
					}
				}
				if (table_id == 'PRICE_CLASS_LEVEL_FACTORS') {
					var QSt_id = 'SYSEFL-PB-00438';
					var allow = 0
					for (var i = 0; i < A_Values.length; i++) {
						if (A_Values[i] != "") {
							allow = 1
						}
					}
					// 8508 Begin
					ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId')
					// 8508 End
					if (allow == 1) {
						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': 'PRICE_CLASS_LEVEL_FACTORS',
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': A_Keys,
							'ATTRIBUTE_VALUE': A_Values,
							'ACTION': 'PRODUCT_ONLOAD',
							'PerPage': counter,
							'PageInform': PageInform
						},
							function (dataset) {
								data1 = dataset[0];
								$('#PRICE_CLASS_LEVEL_FACTORS').bootstrapTable('load', data1);
							});
					} else {
						var columns = "[{'FIELD_NAME':'SALES ORG ID','DATA_TYPE':'NVARCHAR','API_METHOD': 'SALESORG_ID'},{'FIELD_NAME':'PRICE CLASS ID','DATA_TYPE':'NVARCHAR','API_METHOD':'PRICECLASS_ID'}]"
						var New_CtrName = 'G_SALESMODEL_CLS_PRBSET_FACTORS';
						try {
							cpq.server.executeScript("SYLDCTNPTL", {
								'ParentNodeRecId': ParentNodeRecId,
								'ContainerType': 'DYNAMIC ROWS',
								'Row_Count': '',
								'New_CtrName': New_CtrName,
								'Column_Count': '2',
								'SQL_Expression': QSt_id,
								'Column_Names_List': columns,
								'PerPage': counter,
								'PageInform': PageInform
							},
								function (dataset) {
									data1 = dataset[1];
									data2 = dataset[2];
									data11 = dataset[11];
									$('#' + data1).bootstrapTable('load', data2);
									if (document.getElementById(data1 + "_NumberofItem")) {
										document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
									}
								});
						} catch (e) {
							console.log(e);
						}
					}
				}
			} else if (tabName == 'Price_factors') {
				/*var uniqueNames = []; var pageinform=[];
				var dict_new={};var pageinform_dict ={};
				var num =1;var div='div_CTR_PRICEFACTORLOAD';
				if (localStorage.getItem("CurrentRecordId") == ''){
					div='div_G_SALESMODEL_CLS_PRBSET_FACTORS';
					num=5;
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS select").each(function(){
						if($.inArray($(this).attr("id"), uniqueNames) === -1) uniqueNames.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					uniqueNames.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							dict_new[ele] = counter;
						}else{
							dict_new[ele] = String($('#'+ele).val());
						}
					});
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS span").each(function(){
						if($.inArray($(this).attr("id"), pageinform) === -1) pageinform.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					pageinform.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							//dict_new[ele] = PerPage;
							console.log('dddd');
						}else{
							pageinform_dict[ele] = String($('#'+ele).text());
						}
					});
					document.getElementById(div).innerHTML='';
				}*/


				//console.log(dict_new);
				Record_id = localStorage.getItem("CurrentRecordId");
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				try {
					cpq.server.executeScript("PRPRFALOAD", {
						'TreeView': 'TreeGridRight',
						'Record_id': Record_id,
						'TreeParam': TreeParam,
						'TreeParentParam': TreeParentParam,
						'TreeSuperParentParam': TreeSuperParentParam,
						'PerPage': counter,
						'PageInform': PageInform,
						"Action": "Filter_load",
						"AttributeName": A_Keys,
						"AttributeValue": A_Values,
						"table_id": table_id
						//'tableperpage':dict_new,
						//'tables_pageinform':pageinform_dict
					}, function (dataset) {
						datas = dataset[0];
						const arrayToList = arr => arr.length ? ({
							value: arr[0]
						}) : null;
						data = arrayToList(datas).value;
						$("#" + data[2] + " tbody").empty();
						if (document.getElementById(table_id + "_NumberofItem")) {
							document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
						}

						if (document.getElementById(table_id + "_totalItemCount")) {
							document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
						}

						if (document.getElementById(table_id + "_page_count")) {
							document.getElementById(table_id + "_page_count").innerHTML = 1
						}

						if (data[0].length != 0) {
							try {
								$("table#" + table_id).bootstrapTable("load", data[0]);
							} catch (e) {
								setTimeout(function () {
									$("table#" + table_id).bootstrapTable("load", data[0]);
								}, 1000);
							}
						}
						if (data[0].length == 0) {
							var count_val = $("#" + table_id + " thead tr th").length;
							$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
						}
						/*datas = dataset[0];
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data4 = dataset[4];
						data5 = dataset[5];
						data6 = dataset[6];
						data7 = dataset[7];
						data8 = dataset[8];
						if (dataset[0].length > 0){
							for(i=0; i < num;i++){
								tableheader=datas[i];
								tableids=data1[i];
								newlist=data2[i];
								dbl_clk_function=data3[i];
								filter_control_function =data4[i];
								filter_values =data5[i];
								NOrecords = data6[i];

								$('.CommonContainer').addClass('disp_blk');
								$('#'+div).addClass('disp_blk');
								if (NOrecords != 'NORECORDS') {
									if (document.getElementById(div)) {
										if (dataset[0].length ==1)
										{
											document.getElementById(div).innerHTML=''
											document.getElementById(div).innerHTML = tableheader;
											if (document.getElementById('container9101'))
											{
												$('#container9101').removeClass('disp_blk');
												$('#container9101').addClass('disp_none');
												$('.CommonContainer').addClass('disp_blk');
												$('#'+div).addClass('disp_blk');
											}
										}
										else{

											$('#container9101').removeClass('disp_none');
											$('#container9101').addClass('disp_blk');
											document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' + tableheader;
										}
									}
								} else {
									if (document.getElementById(div)) {
										document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' +'<div class="noRecDisp">No Records to Display</div>';
										$('#'+div).addClass('brd1_pad_5');
									}
								}
								if (dataset[0].length ==1)
									{
										$('#div_CTR_PRICEFACTORLOAD #' + tableids).bootstrapTable('load',newlist);
											$('#div_CTR_PRICEFACTORLOAD #' + tableids).after(data7[i]);
											if (document.getElementById(tableids + "_NumberofItem")) {
												document.getElementById(tableids + "_NumberofItem").innerHTML = data8[i];
											}
											/*if (document.getElementById(table_id + "_page_count")) {
												document.getElementById(table_id + "_page_count").innerHTML=parseInt(page_count)}*/
						/*}
					else{
						$('#'+tableids).bootstrapTable('load',newlist );
						$('#' + tableids).after(data7[i]);
						if (document.getElementById(tableids+ "_NumberofItem")) {
							document.getElementById(tableids+ "_NumberofItem").innerHTML = data8[i];
						}
						/*if (document.getElementById(table_id + "_page_count")) {
									document.getElementById(table_id + "_page_count").innerHTML=parseInt(page_count)}*/
						/*}
						if(localStorage.getItem("pricefactor_load")== "1" && CurrentRecordId == 'div_CTR_PRICEFACTORLOAD'){
							//$('.BTN_MA_ALL_REFRESH').click();
							localStorage.setItem("pricefactor_load", "0");
						}
						eval(dbl_clk_function);
						//eval(filter_control_function);
						//eval(data8);
						//$('#' + data1).after(data10);
						//eval(dataset[13]);

						$("#"+tableids+" tbody tr td").each(function(){
						var currentRow=$(this);
						if ($(this).text()=='-' )
						{
							$(this).text('0.00000')
						}
					});

					}
				}*/
					});

				} catch (e) {
					console.log(e);
				}



			} else if (tabName == 'EntriesRelated_list') {
				//10763 starts....
				TreeParentParam = ''
				TreeParam = localStorage.getItem('CommonTreeParam');
				//TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				if (TreeParam != 'Where Used') {
					$('.container_banner_inner_sec').css('display', 'none');
				}
				try {
					cpq.server.executeScript("PRLDMTRLGR", {

						"ACTION": 'PRLPBE_LOAD_FILTER',
						"PerPage": counter,
						"PageInform": PageInform,
						"ATTRIBUTE_VALUE": A_Values,
						"ATTRIBUTE_NAME": A_Keys,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"table_id": table_id
					},

						function (dataset) {

							datas = dataset[0];
							const arrayToList = arr => arr.length ? ({
								value: arr[0]
							}) : null;
							data = arrayToList(datas).value;
							$("#" + data[2] + " tbody").empty();

							if (document.getElementById(table_id + "_NumberofItem")) {
								document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
							}

							if (document.getElementById(table_id + "_totalItemCount")) {
								document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
							}

							if (document.getElementById(table_id + "_page_count")) {
								document.getElementById(table_id + "_page_count").innerHTML = 1
							}


							if (data[0].length != 0) {

								try {
									$('table#' + table_id).bootstrapTable('load', data[0]);
								} catch (e) {
									console.log(e);
								}
							}
							if (data[0].length == 0) {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
						});
				} catch (e) {
					console.log(e);
				}
			} //10763 ends....
			// code refactoring pricing starts....
			else if (tabName == 'prcfvavalue') {
				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				RecordId = localStorage.getItem('CurrentRecordId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				var ACTION = '';
				if (table_id.indexOf('PRICEFACTOR_IN_PRICEBOOKS') !== -1) {
					ACTION = 'FILTER_VIEW'
				} else {
					ACTION = 'PRODUCT_FILTER_VIEW'
				}

				try {
					cpq.server.executeScript("PRLDMTRLGR", {
						"ACTION": ACTION,
						"TopSuperParentParam": TopSuperParentParam,
						"PerPage": counter,
						"PageInform": PageInform,
						'ATTRIBUTE_NAME': A_Keys,
						'ATTRIBUTE_VALUE': A_Values,
						"TreeSuperParentParam": TreeSuperParentParam,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"CurrentRecordId": RecordId
					},
						function (dataset) {

							data1 = dataset[2];
							data2 = dataset[0];
							data10 = dataset[3];
							if (data[0].length != 0) {
								$('#' + data1).bootstrapTable('load', data2);

							} else {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data10;
							}
							if (document.getElementById(data1 + "_page_count")) {
								document.getElementById(data1 + "_page_count").innerHTML = 1
							}
						});
				} catch (e) {
					console.log(e);
				}

			} //code refactoring pricing ends...
			else if (tabName == 'LISTPRICEBOOKSINPRICEMODEL') {
				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				//6304 -JIRA ID	starts...
				var ACTION = '';
				if (TreeParam.toLowerCase().indexOf("sor") >= 0) {
					RecordId = 'SYOBJR-70085';
					ACTION = 'CHILDLOAD'
				} else {
					RecordId = 'SYOBJR-30114';
					ACTION = 'LOAD'
				}
				cpq.server.executeScript("PRPMTREVEW", {
					'Record_id': RecordId,
					'TreeView': 'TreeGridRight',
					'TreeParam': TreeParam,
					'TreeParentParam': TreeParentParam,
					'TreeSuperParentParam': TreeSuperParentParam,
					'TopSuperParentParam': TopSuperParentParam,
					'ACTION': ACTION,
					'PerPage': counter,
					'PageInform': PageInform
				},
					function (dataset) {
						data1 = dataset[2];
						data2 = dataset[1];
						data10 = dataset[10];
						$('#' + data1).bootstrapTable('load', data2);
						$(".listContStyle").css("display", "none");
						$('#' + data1).after(data10);
						$('#SYOBJR_60098_SYOBJ_00034_PageCountValue').val(counter);
						//6304 -JIRA ID	ends....
					});
			} else if (tabName == 'Grid_Copart') {

				cpq.server.executeScript("SYPOPUPMOD", {
					'REC_ID': '',
					'PerPage': counter,
					'PageInform': PageInform,
					'ACTION': "PRODUCT_LOAD",
				},
					function (dataset) {
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data5 = dataset[5];
						data4 = dataset[4];

						$('#' + data2).bootstrapTable('load', data3);
						//$('#' + data2).after(data5);
						$('#coppart_popup_model_PageCountValue').val(counter);
						if (document.getElementById("coppart_popup_model_NumberofItem")) {
							document.getElementById("coppart_popup_model_NumberofItem").innerHTML = data4;
						}
					});
			}
		}
	}
}

function searched_onclick(ele) {
	array_list = []
	PerPage = $("#PageCountValue").val();
	page_count = 1
	a = 1
	b = page_count * PerPage
	PageInform = a + '___' + b + '___' + parseInt(1)
	$(ele).closest('tr').find('th').each(function (i) {
		if (!(i == 0) && !(i == 1)) {
			if (!($(this).find("input"))) {
				array_list.push($(this).text().trim() || '');
			} else {
				a_list = $(this).find("input").val() || '';
				array_list.push(a_list);
			}
		}
	});
	tab_name = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	if (tab_name == 'Price Agreement') {
		btn_id = $(ele).attr('id');
		current_record_id_new = localStorage.getItem("record_id_number");
	} else {
		btn_id = PageInform;
		current_record_id_new = "";
	}
	try {
		cpq.server.executeScript("SYALFILTER", {
			'PrimaryData': array_list,
			'ACTION': 'Materials',
			'PageInform': btn_id,
			'CurrentRecId': current_record_id_new
		}, function (data) {
			$('.BTN_MA_ALL_REFRESH').click();
			dataset = data[0];
			datas = data[1];
			data2 = data[2]
			if (data2 == 0) {
				document.getElementById("container0").style.display = "none";
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function set_local_value() {
	localStorage.setItem('set_local_value', '');
	localStorage.setItem('set_local_value', 'checkbox_click');
}

var counters = 0

function myFunction123345111111111111(ele) {
	counters = counters + 1
	firstcount = ele.value
	checkbox_click = localStorage.getItem('set_local_value')
	if (checkbox_click != 'checkbox_click') {
		myFunction123345111111111111kkkkk(firstcount);
	}
}

function PaginationFunct(ele) {
	var currentTabName = $('ul#carttabs_head .active a span').text();
	var active_subtab = $('.subtab_inner li.active').attr('id');
	if (active_subtab == 'subtab_list1') {
		flag = 0
	} else if (active_subtab == "subtab_list3") {
		flag = 3
	} else {
		flag = 1
	}
	if (currentTabName == 'Countries' || currentTabName == 'Country') {
		setTimeout(function () {
			$('table#FULLTABLELOAD tbody tr').each(function (index) {
				var hoverassign = $(this).children('td:nth-child(5)').text();
				$(this).children('td:nth-child(4)').children('a').attr("title", hoverassign);
			});
		}, 3000);
	} else if (currentTabName == 'Sales Orgs' || currentTabName == 'Sales Org') {
		setTimeout(function () {
			$('table#FULLTABLELOAD tbody tr').each(function (index) {
				var hoverassign = $(this).children('td:nth-child(8)').text();
				$(this).children('td:nth-child(7)').children('a').attr("title", hoverassign);
			});
		}, 3000);
	}
	counter = ele
	page_count = document.getElementById("page_count").innerHTML
	NumberofItem = document.getElementById("NumberofItem").innerHTML
	a = NumberofItem.split(' ')[0]
	b = NumberofItem.split(' ')[2]
	if (!(a == '') && !(b == '')) {
		if (counter == '10') {
			PageInform = '1___10___1'
		} else if (counter == '20') {
			PageInform = '1___20___1'
		} else if (counter == '50') {
			PageInform = '1___50___1'
		} else if (counter == '100') {
			PageInform = '1___100___1'
		} else if (counter == '200') {
			PageInform = '1___200___1'
		}
		var A_Keys = [];
		var A_Values = [];
		$('.filter-control').each(function () {
			values = this.firstElementChild.className;
			if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
				x = values.split(' ')[2];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}
			if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
				x = values.split(' ')[1];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}
		});
		SortColumn = localStorage.getItem("SortColumn");
		SortColumnOrder = localStorage.getItem("SortColumnOrder");
		try {
			cpq.server.executeScript("SYMCTABSGD", {
				'ACTION': 'SECOND',
				'PerPage': counter,
				'PageInform': PageInform,
				'A_Keys': A_Keys,
				'A_Values': A_Values,
				"SortColumn": SortColumn,
				"SortColumnOrder": SortColumnOrder,
				'FLAG': flag,
				'CurrentTab': $("ul#carttabs_head li.active a span").text()
			}, function (data) {
				data1 = data[1];
				data2 = data[2];
				data4 = data[4];
				data5 = data[5];
				data14 = data[14];
				$('#' + data2).bootstrapTable('load', data1);
				if (!(data4 == null)) {
					try {
						var start = data4.split('___')[0]
						var end = data4.split('___')[1]
						var pageno = data4.split('___')[2]
						document.getElementById("NumberofItem").innerHTML = start + ' - ' + end + ' of ';
						document.getElementById("page_count").innerHTML = 1
						$("table#FULLTABLELOAD td:nth-child(3)").css("display", "none");
					} catch (err) { }
				}
				eval(data5);
				$('#FULLTABLELOAD tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				$('#FULLTABLELOAD thead tr th.bs-checkbox .th-inner input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data14;
				}
				if (flag == 3) {
					waitingmyapproval_pagination(counter);
				}
			});
		} catch (e) {
			console.log(e);
		}
	}
}

localStorage.setItem("page_change", "0");

function Previous12334() {
	var checkedRows = [];
	var active_subtab = $('.subtab_inner li.active').attr('id');
	if (active_subtab == 'subtab_list1') {
		flag = 0
	} else if (active_subtab == "subtab_list3") {
		flag = 3
	} else {
		flag = 1
	}
	totalItemCount = document.getElementById("totalItemCount").innerHTML
	page_count = document.getElementById("page_count").innerHTML
	PerPage = $("#PageCountValue").val();
	localStorage.setItem("multiedit_checkbox_values", []);
	localStorage.setItem("multiedit_save_data", '');
	localStorage.setItem("multiedit_data_checked", '');
	localStorage.setItem("page_change", "1");
	if (parseInt(page_count) > 1) {
		page_count = parseInt(page_count) - 1
		b = parseInt(page_count) * parseInt(PerPage)
		if (parseInt(page_count) == 1) {
			a = 1
		} else {
			a = ((page_count - 1) * parseInt(PerPage)) + 1
		}
		document.getElementById("page_count").innerHTML = parseInt(page_count)
		document.getElementById("NumberofItem").innerHTML = a + ' - ' + b + ' of '
		PageInform = a + '___' + b + '___' + page_count
		var A_Keys = [];
		var A_Values = [];
		$('.filter-control').each(function () {
			values = this.firstElementChild.className;
			if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
				x = values.split(' ')[2];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}
			if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
				x = values.split(' ')[1];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}
		});

		SortColumn = localStorage.getItem("SortColumn");
		SortColumnOrder = localStorage.getItem("SortColumnOrder");
		try {
			cpq.server.executeScript("SYMCTABSGD", {
				'ACTION': 'SECOND',
				'PerPage': PerPage,
				'PageInform': PageInform,
				'A_Keys': A_Keys,
				'A_Values': A_Values,
				"SortColumn": SortColumn,
				"SortColumnOrder": SortColumnOrder,
				'FLAG': flag,
				'CurrentTab': $("ul#carttabs_head li.active a span").text()
			}, function (data) {
				data1 = data[1]
				data2 = data[2]
				data3 = data[3]
				data5 = data[5]
				data10 = data[10]
				$('#' + data2).bootstrapTable('load', data1);
				eval(data10);
				$("table#FULLTABLELOAD td:nth-child(3)").css("display", "none");
				$('#FULLTABLELOAD tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				$('#FULLTABLELOAD thead tr th.bs-checkbox .th-inner input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				eval(data5);
				$('#FULLTABLELOAD td').filter(function () {
					return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
				}).css('text-align', 'right');
				$('td #ACTIVE').closest('td').css('text-align', 'center');



			});
		} catch (e) {
			console.log(e);
		}
	}
}

function Next12334() {
	localStorage.setItem("page_change", "1");
	var checkedRows = [];
	var active_subtab = $('.subtab_inner li.active').attr('id');
	if (active_subtab == 'subtab_list1') {
		flag = 0
	} else if (active_subtab == "subtab_list3") {
		flag = 3
	} else {
		flag = 1
	}
	totalItemCount = document.getElementById("totalItemCount").innerHTML
	page_count = document.getElementById("page_count").innerHTML
	localStorage.setItem("multiedit_checkbox_values", []);
	localStorage.setItem("multiedit_save_data", '');
	localStorage.setItem("multiedit_data_checked", '');
	localStorage.setItem("table_id_edit", '');
	PerPage = $("#PageCountValue").val();
	a1 = page_count * PerPage
	a = a1 + 1
	c = parseInt(page_count) + 1
	b = c * parseInt(PerPage)
	PageInform = a + '___' + b + '___' + (parseInt(page_count) + parseInt(1))
	NumberofItem = document.getElementById("NumberofItem").innerHTML
	ends = NumberofItem.trim().split(' ')
	end = NumberofItem.trim().split(' ')[2]
	if (!(a == '') && !(b == '') && parseInt(end) < parseInt(totalItemCount)) {
		document.getElementById("page_count").innerHTML = parseInt(page_count) + 1
		document.getElementById("NumberofItem").innerHTML = a + ' - ' + b + ' of '
		var A_Keys = [];
		var A_Values = [];
		$('.filter-control').each(function () {
			values = this.firstElementChild.className;
			if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
				x = values.split(' ')[2];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}
			if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
				x = values.split(' ')[1];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}
		});
		SortColumn = localStorage.getItem("SortColumn");
		SortColumnOrder = localStorage.getItem("SortColumnOrder");
		try {
			cpq.server.executeScript("SYMCTABSGD", {
				'ACTION': 'SECOND',
				'PerPage': PerPage,
				'PageInform': PageInform,
				'A_Keys': A_Keys,
				'A_Values': A_Values,
				"SortColumn": SortColumn,
				"SortColumnOrder": SortColumnOrder,
				'FLAG': flag,
				'CurrentTab': $("ul#carttabs_head li.active a span").text()
			}, function (data) {
				data1 = data[1]
				data2 = data[2]
				data3 = data[3]
				data5 = data[5]
				data14 = data[14]
				data10 = data[10]
				$('#' + data2).bootstrapTable('load', data1);
				localStorage.setItem("multiedit_checkbox_values", []);
				eval(data10);
				var checkedRows = [];
				localStorage.setItem("multiedit_save_data", '');
				localStorage.setItem("multiedit_data_checked", '');
				localStorage.setItem("table_id_edit", '');
				$("table#FULLTABLELOAD td:nth-child(3)").css("display", "none");
				$('#FULLTABLELOAD tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				$('#FULLTABLELOAD thead tr th.bs-checkbox .th-inner input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data14;
				}
				eval(data5);
				$('#FULLTABLELOAD td').filter(function () {
					return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
				}).css('text-align', 'right');
				$('td #ACTIVE').closest('td').css('text-align', 'center');



			});
		} catch (e) {
			console.log(e);
		}
	}
}

function DelayRefreshCall() {
	$("#MM_ALL_REFRESH").click();
}

function cont_cloneview(ele) {
	ids = $(ele).attr('id');
	localStorage.setItem('clone_ids', ids)
	var table_id = $(ele).closest('table').attr('id')
	var lable = [];
	$("table#" + table_id + " thead tr th .th-inner").each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT') {
			lable.push($(this).text().trim())
		}
	});

	localStorage.setItem('cont_lable', lable)
	var value = [];
	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '') {
			value.push($(this).text().trim())
		}
	});

	localStorage.setItem('cont_value', value)
	table_id = 'ADD__' + table_id
	localStorage.setItem('cont_table_id', table_id)
	first_record_id = localStorage.getItem("keyData");
	first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);

	try {
		cpq.server.executeScript("SYCLONEALL", {
			'RETURN': ids,
			'OPERATION': 'CLONE',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': '',
			'LOOKUPOBJ': ''
		}, function (data) {
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data[0];
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function searchs_onclick(ele) {
	array_list = []
	array_list.push('')
	$(ele).closest('tr').find('input, select').each(function () {
		array_list.push($(this).val())
	});
	try {
		cpq.server.executeScript("SYALFILTER", {
			'PrimaryData': array_list,
			'ACTION': 'Materials'
		}, function (data) {
			dataset = data[0];
			datas = data[1];
		});
	} catch (e) {
		console.log(e);
	}
}


function pivottablemat_attr_disable(ele) {
	var a = $(ele).children('td#ERP_ATTRIBUTE').text().trim();
	var v = 'Removeattcontainer-' + b;
	var z = 'Editattcontainer-' + b;
	if (a == 'True') {
		$('#' + v).attr('disabled', 'disabled');
		$('#' + z).attr('disabled', 'disabled');
	} else {
		$('#' + v).removeAttr('disabled');
		$('#' + z).removeAttr('disabled');
	}
}

function pivottable_openedit(ele) {
	var first_record_id = ''
	localStorage.setItem('fields', []);
	var table_id = $(ele).closest('table').attr('id')
	if (table_id == 'SALES_ORG_LEVEL_DEFAULT_FACTORS') {
		first_record_id = localStorage.getItem('PrcParentNodeRecId');
	} else {
		first_record_id = $(ele).attr('id');
	}
	localStorage.setItem('pivot_table_id', table_id)
	var lable = [];
	$("table#" + table_id + " thead tr th .th-inner").each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT') {
			lable.push($(this).text().trim())
		}
	});

	localStorage.setItem('pivot_lable', lable)
	var value = [];
	$(ele).closest('tr').find('td').each(function () {
		value.push($(this).text().trim())
	});

	localStorage.setItem('pivot_value', value)
	localStorage.setItem('first_record_id', first_record_id)

	try {
		cpq.server.executeScript("PRVEPCLFPT", {
			'OPERATION': 'EDIT',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id
		}, function (data) {
			if (document.getElementById("open_div_id")) {
				document.getElementById("open_div_id").innerHTML = data;


			}
		});
	} catch (e) {
		console.log(e);
	}
}

function popup_pivottbl_VIEW() {
	var first_record_id = localStorage.getItem('PrcParentNodeRecId')
	var lable = localStorage.getItem('pivot_lable')
	var value = localStorage.getItem('pivot_value')
	var table_id = localStorage.getItem('pivot_table_id')
	localStorage.setItem('fields', []);
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	try {
		cpq.server.executeScript("PRVEPCLFPT", {
			'OPERATION': 'VIEW',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id
		}, function (data) {
			if (document.getElementById("open_div_id")) {
				document.getElementById("open_div_id").innerHTML = data;
			}
			// localStorage.setItem("related_list_load", "edit");
			// localStorage.setItem("RelatedEdit", "1");
		});
	} catch (e) {
		console.log(e);
	}
}

function factor_changes(elm) {
	var field_id = $(elm).attr("id");
	var fields = [];
	var data = localStorage.getItem('fields');
	if (data != "") {
		fields.push(data);
	}
	fields.push(field_id);
	localStorage.setItem('fields', fields);
}

function popup_pivottbl_SAVE(elm) {

	var table_id = $(elm).attr("id");
	var lenth = localStorage.getItem('fields');
	if ($('#processing_modal')) {
		if (lenth.length > 0) {

			$('#processing_modal').modal('show');
		} else {
			$('#processing_modal').modal('hide');
		}
	}
	input_val = []
	pop_id = []
	if (table_id.indexOf('PRLPBK_FACTORS_LOAD') != -1) {
		$("#open_div_id #container input").each(function () {
			var type = $(this).attr('type')
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		});
	} else {
		$("#open_div_id #containers input").each(function () {
			var type = $(this).attr('type')
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		});
	}

	var first_record_id = localStorage.getItem('first_record_id')
	var pivot_lable = localStorage.getItem('pivot_lable')
	var pivot_value = localStorage.getItem('pivot_value')
	var pivot_table_id = localStorage.getItem('pivot_table_id')
	if (pivot_value) {
		pivot_value = pivot_value.split(',')
	}
	if (pivot_lable) {
		pivot_lable = pivot_lable.split(',')
	}
	CurrentRecordId = localStorage.getItem("CurrentRecordId");
	try {
		cpq.server.executeScript("PRSEPCLFPT", {
			'LABLE': pop_id,
			'VALUE': input_val,
			'TABLEID': table_id,
			'PIVOT_LABLE': pivot_lable,
			'PIVOT_VALUE': pivot_value,
			'PIVOT_TABLEID': pivot_table_id,
			'RECORDID': CurrentRecordId
		}, function (data) {
			localStorage.setItem("pivot_lable", data[0]);
			localStorage.setItem("pivot_value", data[1]);
			localStorage.setItem("pivot_table_id", data[2]);
			localStorage.setItem("related_list_load", "edit");
			localStorage.setItem("RelatedEdit", "0");
			$('#pivot_viewModalSection').modal('hide');
			if (localStorage.getItem('PrcTreeParentParam') == 'Calculation Factors') {
				PRICE_CLASS_LEVEL_FACTORS('div_CTR_PRICEFACTORLOAD');
			} else {
				PRICE_CLASS_LEVEL_FACTORS(CurrentRecordId);
			}
			localStorage.setItem("pivot_local_save", "1");
			var tst_1 = localStorage.getItem("pivot_local_save");
			$("body").removeClass("modal-open");
			$("body").css("padding-right", "");
		});
	} catch (e) {
		console.log(e);
	}
}

function popup_pivot_EDIT() {
	var lable = localStorage.getItem('pivot_lable')
	var value = localStorage.getItem('pivot_value')
	var table_id = localStorage.getItem('pivot_table_id')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	localStorage.setItem('fields', []);
	var first_record_id = localStorage.getItem('first_record_id')
	try {
		cpq.server.executeScript("PRVEPCLFPT", {
			'OPERATION': 'EDIT',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id
		}, function (data) {
			if (document.getElementById("open_div_id")) {
				document.getElementById("open_div_id").innerHTML = data;
			}
			localStorage.setItem("related_list_load", "edit");
			// localStorage.setItem("RelatedEdit", "1");
		});
	} catch (e) {
		console.log(e);
	}
}

function viewedit_popup_close() {

	//RAMESH A043S001P01-8507 START

	// //$('div#cont_viewModalSection').css('display','none');
	// if (document.getElementById("binddivpop")) {
	// $('div#div_MATERIALPRICEGRID').children('.bootstrap-table').css('display','block');
	// $('div#div_MATERIALPRICEGRID').children('.clearfix').css('display','block');
	// $('div#binddivpop').remove();
	// }
	// //RAMESH A043S001P01-8507 END

	//vignesh A043S001P01-12636 START
	TREETAB = localStorage.getItem("TREETAB");
	if (TREETAB != "YES") {
		$('html').css('cssText', 'overflow-y:auto !important');
	}
	//vignesh A043S001P01-12636 END
}

function cont_openview(ele) {
	//start---A043S001P01-7185
	$('html').css('cssText', 'overflow-y:hidden !important');
	//end---A043S001P01-7185
	var curTabName = $('ul#carttabs_head li.active').text().trim();
	$('html').css('cssText', 'overflow-y:hidden !important');

	setTimeout(function () {
		localStorage.setItem("TextAreaReadOnlyMode", "1");
		textAreaAccess();
	}, 2000);
	if (curTabName == 'Price Agreement') {
		setTimeout(function () {
			$('#cont_viewModalSection .modal-dialog').css('cssText', 'min-width:90% !important');
			$('#cont_viewModalSection .modal-dialog .modal-body').css('cssText', 'max-height: 90vh !important');

			$('#segment_SavePopup .modal-dialog').css('cssText', 'min-width:40% !important');
		}, 1000);
	}

	ids = $(ele).attr('id');

	var table_id = $(ele).closest('table').attr('id');

	localStorage.setItem('cont_table_id', table_id);

	var lable = [];
	if (table_id == 'SEGLST_SYSEFL_SE_00241') {
		$("table#" + table_id + " thead tr th span").each(function () {
			if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT' && $(this).text().trim() != 'STATUS' && $(this).text().trim() != 'ALERT') {
				lable.push($(this).text().trim())
			}
		});

	} else {

		$("table#" + table_id + " thead tr th .th-inner").each(function () {
			if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT' && $(this).text().trim() != 'STATUS' && $(this).text().trim() != 'ALERT') {
				lable.push($(this).text().trim())
			}
		});
	}

	localStorage.setItem('cont_lable', lable)
	var value = [];
	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != '!') {
			value.push($(this).text().trim())
		}
	});

	localStorage.setItem('cont_value', value)

	first_record_id = localStorage.getItem("keyData");

	if (table_id == 'SEGLST_SYSEFL_SE_00241') {
		first_record_feild = 'QSTN_SYSEFL_SE_00097'
	} else if (table_id == 'SYOBJR_90009_SYOBJ_00192') {
		first_record_feild = 'QSTN_SYSEFL_CO_00005'
	} else if (table_id == 'SYOBJR_30345_SYOBJ_00163') {
		first_record_feild = 'QSTN_SYSEFL_MA_05111'
	} else if (table_id == "SYOBJR_94452_SYOBJ_00425") {
		first_record_id = $(ele).closest('tr').children('td:nth-child(3)').text().trim()
		first_record_feild = 'QSTN_SYSEFL_SY_00294'
	} else {
		first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
	}
	//Added by VETRI for #A043S001P01-7192 - Start
	var curTabName = $('ul#carttabs_head li.active').text().trim();
	if (curTabName == 'Price Agreement') {
		current_id_ctlgpreview = $(ele).closest('tr').find('td:nth-child(3) a abbr').attr('id')
	} else {
		current_id_ctlgpreview = $(ele).closest('tr').find('td:nth-child(3) a abbr').attr('title')
	}
	if (curTabName == 'Price Model') {
		first_record_feild = 'QSTN_SYSEFL_PB_00053'
	}
	localStorage.setItem("catalogpreview_id", current_id_ctlgpreview);
	//Added by VETRI for #A043S001P01-7192 - End
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);
	try {
		cpq.server.executeScript("SYLDPPRVAE", {
			'RETURN': '0',
			'OPERATION': 'VIEW',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVAL': ''
		}, function (datas) {

			data = datas[0];
			date_field = datas[1];
			//RAMESH A043S001P01-8507 START
			// if (table_id=='MATERIALS_IN_PRICE_METHODS')
			// {
			// $('div#div_MATERIALPRICEGRID').children('.bootstrap-table').css('display','none');
			// $('div#div_MATERIALPRICEGRID').children('.clearfix').css('display','none');
			// $('div#div_MATERIALPRICEGRID').children('.container_banner_inner_sec').after('<div id="binddivpop">'+data+'</div>');
			// $('#cont_viewModalSection').css('display','none');
			// $("#binddivpop").css
			// ({  "margin-top": "10px",
			// "box-shadow": "1px 0px 8px -1px grey",
			// "padding-bottom": "40px",
			// "padding": "10px",
			// "border-radius": "4px"
			// })

			// }
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
				//A043S001P01-12307 code starts... To hide the empty banner when popup has no buttons and hide the X button in edit mode.
				$('div#VIEW_DIV_ID .row.pad-10.bg-lt-wt.brdr').each(function () {
					buttonlength = $(this).children('button').length
				});
				if (buttonlength > 0) {
					$('div#VIEW_DIV_ID .row.pad-10.bg-lt-wt.brdr').css('display', 'block')
				} else {
					$('div#VIEW_DIV_ID .row.pad-10.bg-lt-wt.brdr').css('display', 'none')
					$('div#VIEW_DIV_ID > .col-md-12').css('padding', '0') //A043S001P01-12684 code start,end To hide the empty space when no buttons are there in popup.
					/* Start of - A043S001P01-12637- */
					/*if (curTabName != 'Segment'&& typeof AllTreeParams != 'undefined' && AllTreeParam['TreeParam'] != "Catalog Products")
					{
						$('.col-md-12').css('display','none')
					}*/
					/* End of - A043S001P01-12637- */
				}
				//A043S001P01-12307 code ends... To hide the empty banner when popup has no buttons and hide the X button in edit mode.
			}
			// HELP TEXT POPOVER STARTS
			setTimeout(function () {
				$('[data-toggle="popover"]').popover();
			}, 500);
			// HELP TEXT POPOVER ENDS

			//RAMESH A043S001P01-8507 end
			if (date_field.length !== 0) {
				$.each(date_field, function (key, value) {
					onclick_datepicker(value)
				});
			}

			var sel_val = '';
			$('div#checkboxes input[checked="checked"]').each(function () {
				var class_txt = $(this).attr('class');

				if (sel_val == '') {
					sel_val = class_txt;

				} else {
					sel_val = sel_val + ',' + class_txt;

				}
			});

			$('.inp_val').val(sel_val);
			$('.inp_val').css('pointer-events', 'none');
			textAreaAccess();
			if (curTabName == 'Price Agreement') {
				$('#cont_viewModalSection .modal-dialog').css('cssText', 'min-width:90% !important');
				$('#cont_viewModalSection .modal-dialog .modal-body').css('cssText', 'max-height: 90vh !important');
				$('#segment_SavePopup .modal-dialog').css('cssText', 'min-width:40% !important');
			}
			//Added by VETRI for #A043S001P01-7192 - Start
			if (table_id != 'PRICEFACTOR_IN_PRICEBOOKS') {
				try {
					cpq.server.executeScript("SYERRMSGVL", {
						'OBJRECID': table_id,
						'RECORDID': current_id_ctlgpreview,
						'Level': 'OBJECT',
						'Action': 'VIEW'
					}, function (dataval) {
						if (dataval != '') {
							$('#VIEW_DIV_ID div#alert_msg').append(dataval);
							$('#VIEW_DIV_ID div#alert_msg').css('display', 'block');
						} else {
							$('#VIEW_DIV_ID div#alert_msg').css('display', 'None');
						}
					});
				} catch (e) {
					console.log(e);
				}
			}
			//Added by VETRI for #A043S001P01-7192 - End
		});
	} catch (e) {
		console.log(e);
	}

	var el = ele;
	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();
		if (table_heigth > popUp_height) {
			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');
		}

		var b = $('#QSTN_SYSEFL_MA_05164').val();
		var a = $('#HELP_TEXT').val();
		if (a != b) {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-info-circle').after('<i class="fa fa-warning drkred"></i>');
		} else {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
		}
	}, 1500);

	//$('.modal-dialog').css('cssText', 'width:900px !important;');
}


function PartsListInlineEdit() {
	var table_id = "SYOBJR_00029_9012C7CB_BA88_4E09_B4D3_ED8907B8AE63"
	var fields = ["QUANTITY"];
	localStorage.setItem("InlineEdit", "YES");
	localStorage.removeItem('PartsListBulkedit');
	add_class_name = ""
	if (localStorage.getItem('currentSubTab') == "Spare Parts" && TreeParentParam == "Complementary Products") {
		table_id = "SYOBJR_00005_7EAA11B4_82C9_400B_8E48_65497373A578"
		fields = [];
		fields.push("CUSTOMER_ANNUAL_QUANTITY", "CUSTOMER_ACCEPT_PART", "CUSTOMER_PARTICIPATE");
		if (TreeParam == "Z0108") {
			$('#' + table_id + ' > thead > tr > th').each(function () {
				data_field = $(this).attr('data-field');
				if (data_field.split('_')[0] == "DELIVERY" && !isNaN(Number(data_field.split('_')[1]))) {
					fields.push(data_field);
				}
			});
		}
	} else if ((localStorage.getItem('currentSubTab') == "Inclusions" && TreeSuperParentParam == "Product Offerings") || localStorage.getItem('currentSubTab') == "New Parts") {
		fields = ["QUANTITY"];
	}
	localStorage.setItem("table_id_RL_edit", table_id);
	var edit_index = [];
	fields.forEach(field => edit_index.push($("#" + table_id).find("[data-field=" + field + "]").index() + 1));
	localStorage.setItem("edit_index", edit_index);
	var reco_id = [];
	if (document.getElementById("RL_EDIT_DIV_ID")) {
		localStorage.setItem("saqico_title", fields);
		partno_index = $("#SYOBJR_00005_7EAA11B4_82C9_400B_8E48_65497373A578").find('[data-field="PART_NUMBER"]').index() + 1;
		returnTyp_index = $("#SYOBJR_00005_7EAA11B4_82C9_400B_8E48_65497373A578").find('[data-field="RETURN_TYPE"]').index() + 1;
		edit_index.forEach(index => {
			reco_id = []
			var element_name = $("#" + table_id + " > thead > tr > th:nth-child(" + index + ")");
			var field_name = $(element_name).attr('data-field');
			$('#' + table_id + ' > tbody> tr').each(function () {
				if (localStorage.getItem('currentSubTab') == "Spare Parts" && fields.includes(field_name)) { // for spare parts subtab alone
					part_no = $(this).find("td:nth-child(" + partno_index + ")").text();
					return_type = $(this).find("td:nth-child(" + returnTyp_index + ")").text();
					if ($("#" + table_id).find("td:nth-child(" + index + ") > input").attr('type') == "checkbox") {
						val = $(this).find("td:nth-child(" + index + ") > input").removeAttr('disabled');
						$("#" + table_id).find("td:nth-child(" + index + ")").addClass("pos-relative");
					} else {
						$("#" + table_id).find("td:nth-child(" + index + ")").addClass("light_yellow");
						$("#" + table_id).find("td:nth-child(" + index + ")").attr("contenteditable", "true")
						val = $(this).find("td:nth-child(" + index + ")").text();
						$(this).find("td:nth-child(" + index + ") > a").remove();
						$(this).find("td:nth-child(" + index + ")").text(val);
					}

				} else { // for other subtabs
					$("#" + table_id + " > tbody > tr").each(function () {
						$("#" + table_id).find("td:nth-child(" + index + ")").attr("contenteditable", "true")
						reco_id.push($(this).find("td:nth-child(3)").text().trim());
						if ($("#" + table_id).find("td:nth-child(" + index + ") > input").attr('type') == "checkbox") {
							val = $(this).find("td:nth-child(" + index + ") > input").removeAttr('disabled');
							$("#" + table_id).find("td:nth-child(" + index + ")").addClass("pos-relative");
						} else {
							$("#" + table_id).find("td:nth-child(" + index + ")").addClass("light_yellow");
							val = $(this).find("td:nth-child(" + index + ")").text();
							$(this).find("td:nth-child(" + index + ") > a").remove();
							$(this).find("td:nth-child(" + index + ")").text(val);
						}
					})
				}
			});
		});
		reco_id = removeDuplicates(reco_id);
		localStorage.setItem('multiedit_save_date', reco_id);
		$("#seginnerbnr").find("button").map(function () {
			$(this).css('display', 'none');
		});
		var buttonlen = $("#seginnerbnr").find("button#saveButton");
		if (buttonlen.length == 0) {
			$("#seginnerbnr").append('<button class="btnconfig" type="button" value="Cancel" id="cancelButton">CANCEL</button><button class="btnconfig" type="button" value="Save" onclick="PartsListMultiEdit()" id="saveButton">SAVE</button>');
			$('#cancelButton').attr('onclick', $('#COMMON_TABS ul li.active').attr('onclick'));
		} else {
			$("#cancelButton").css("display", "block");
			$("#saveButton").css("display", "block");
		}
	}
}

function NSOInlineEdit() {
	var table_id = "SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161"
	var fields = ["QUANTITY"];
	localStorage.setItem("InlineEdit", "YES");
	add_class_name = ""

	localStorage.setItem("table_id_RL_edit", table_id);
	var edit_index = [];
	fields.forEach(field => edit_index.push($("#" + table_id).find("[data-field=" + field + "]").index() + 1));
	localStorage.setItem("edit_index", edit_index);
	var reco_id = [];
	if (document.getElementById("RL_EDIT_DIV_ID")) {
		localStorage.setItem("saqico_title", fields);
		edit_index.forEach(index => {
			reco_id = []

			$("#" + table_id + " > tbody > tr").each(function () {
				$("#" + table_id).find("td:nth-child(" + index + ")").attr("contenteditable", "true")
				reco_id.push($(this).find("td:nth-child(3)").text().trim());
				if ($("#" + table_id).find("td:nth-child(" + index + ") > input").attr('type') == "checkbox") {
					val = $(this).find("td:nth-child(" + index + ") > input").removeAttr('disabled');
					$("#" + table_id).find("td:nth-child(" + index + ")").addClass("pos-relative");
				}
				else {
					$("#" + table_id).find("td:nth-child(" + index + ")").addClass("light_yellow");
					val = $(this).find("td:nth-child(" + index + ")").text();
					$(this).find("td:nth-child(" + index + ") > a").remove();
					$(this).find("td:nth-child(" + index + ")").text(val);
				}
			})
		});
		localStorage.setItem('multiedit_save_date', reco_id);
		$("#seginnerbnr").find("button").map(function () { $(this).css('display', 'none'); });
		var buttonlen = $("#seginnerbnr").find("button#saveButton");
		if (buttonlen.length == 0) {
			$("#seginnerbnr").append('<button class="btnconfig" type="button" value="Cancel" id="cancelButton">CANCEL</button><button class="btnconfig" type="button" value="Save" onclick="NSOMultiEdit()" id="saveButton">SAVE</button>');
			$('#cancelButton').attr('onclick', $('#COMMON_TABS ul li.active').attr('onclick'));
		} else {
			$("#cancelButton").css("display", "block");
			$("#saveButton").css("display", "block");
		}
	}
}

function CreditsInlineEdit() {
	var table_id = "SYOBJR_98880_25DB8AC8_5A6A_4AFF_B196_698A488CC827"
	var fields = ["CREDIT_APPLIED_INGL_CURR"];
	localStorage.setItem("InlineEdit", "YES");
	add_class_name = ""

	localStorage.setItem("table_id_RL_edit", table_id);
	var edit_index = [];
	fields.forEach(field => edit_index.push($("#" + table_id).find("[data-field=" + field + "]").index() + 1));
	localStorage.setItem("edit_index", edit_index);
	var reco_id = [];
	if (document.getElementById("RL_EDIT_DIV_ID")) {
		localStorage.setItem("saqico_title", fields);
		edit_index.forEach(index => {
			reco_id = []

			$("#" + table_id + " > tbody > tr").each(function () {
				$("#" + table_id).find("td:nth-child(" + index + ")").attr("contenteditable", "true")
				reco_id.push($(this).find("td:nth-child(3)").text().trim());
				if ($("#" + table_id).find("td:nth-child(" + index + ") > input").attr('type') == "checkbox") {
					val = $(this).find("td:nth-child(" + index + ") > input").removeAttr('disabled');
					$("#" + table_id).find("td:nth-child(" + index + ")").addClass("pos-relative");
				}
				else {
					$("#" + table_id).find("td:nth-child(" + index + ")").addClass("light_yellow");
					val = $(this).find("td:nth-child(" + index + ")").text();
					$(this).find("td:nth-child(" + index + ") > a").remove();
					$(this).find("td:nth-child(" + index + ")").text(val);
				}
			})
		});
		localStorage.setItem('multiedit_save_date', reco_id);
		$("#seginnerbnr").find("button").map(function () { $(this).css('display', 'none'); });
		var buttonlen = $("#seginnerbnr").find("button#saveButton");
		if (buttonlen.length == 0) {
			$("#seginnerbnr").append('<button class="btnconfig" type="button" value="Cancel" id="cancelButton">CANCEL</button><button class="btnconfig" type="button" value="Save" onclick="CreditsMultiEdit()" id="saveButton">SAVE</button>');
			$('#cancelButton').attr('onclick', $('#COMMON_TABS ul li.active').attr('onclick'));
		} else {
			$("#cancelButton").css("display", "block");
			$("#saveButton").css("display", "block");
		}
	}
}

function ContactsInlineEdit() {
	var table_id = "SYOBJR_98871_FCC5AB0B_1338_4E8B_AA3B_0345FA31A3F0"
	var fields = ["RETURN_NOTIFY_EMAIL", "SHIP_NOTIFY_EMAIL"];
	localStorage.setItem("InlineEdit", "YES");

	localStorage.setItem("table_id_RL_edit", table_id);
	var edit_index = [];
	fields.forEach(field => edit_index.push($("#" + table_id).find("[data-field=" + field + "]").index() + 1));
	localStorage.setItem("edit_index", edit_index);
	var reco_id = [];
	if (document.getElementById("RL_EDIT_DIV_ID")) {
		localStorage.setItem("saqict_title", fields);
		edit_index.forEach(index => {
			reco_id = []
			$("#" + table_id + " > tbody > tr").each(function () {
				$("#" + table_id).find("td:nth-child(" + index + ")").attr("contenteditable", "true")
				reco_id.push($(this).find("td:nth-child(3)").text().trim());
				$("#" + table_id).find("td:nth-child(" + index + ")").addClass("light_yellow");
				//console.log($("#" + table_id).find("td:nth-child(" + index + ") > input").attr('type'));
				if ($("#" + table_id).find("td:nth-child(" + index + ") > input").attr('type') == "checkbox") {
					val = $(this).find("td:nth-child(" + index + ") > input").removeAttr('disabled');
				}
				else {
					val = $(this).find("td:nth-child(" + index + ")").text();
					$(this).find("td:nth-child(" + index + ") > a").remove();
					$(this).find("td:nth-child(" + index + ")").text(val);
				}
			})
		});
		localStorage.setItem('multiedit_save_date', reco_id);
		$("#seginnerbnr").find("button").map(function () { $(this).css('display', 'none'); });
		var buttonlen = $("#seginnerbnr").find("button#saveButton");
		if (buttonlen.length == 0) {
			$("#seginnerbnr").append('<button class="btnconfig" type="button" value="Cancel" id="cancelButton">CANCEL</button><button class="btnconfig" type="button" value="Save" onclick="ContactsMultiEdit()" id="saveButton">SAVE</button>');
			$('#cancelButton').attr('onclick', $('#COMMON_TABS ul li.active').attr('onclick'));
		} else {
			$("#cancelButton").css("display", "block");
			$("#saveButton").css("display", "block");
		}
	}
}

function PartsListMultiEdit(ele) {
	var selectPN = [];
	var input_val = [];
	var input_val1 = [];
	var input_val2 = [];
	var delivery_schedules = [];
	var title = localStorage.getItem("saqico_title");
	var table_id = localStorage.getItem("table_id_RL_edit");
	var edit_index = localStorage.getItem("edit_index");
	localStorage.setItem("InlineEdit", "NO");
	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			if (x != 'undefined' && typeof (x) != 'undefined') {
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
	});
	var partno_index = $("#" + table_id + " > thead > tr").find("[data-field='PART_NUMBER']").index() + 1;
	var delivery_index = $("#" + table_id + " > thead > tr").find("[data-field='DELIVERY_1']").index() + 1;
	var partnos = [];
	$("#" + table_id + " tbody tr").each(function () {
		var sel_val_PN = $(this).find('td:nth-child(4)').text().trim();
		selectPN.push(sel_val_PN);
		partnos.push($(this).find("td:nth-child(" + partno_index + ")").text().trim());
	});
	if (localStorage.getItem('PartsListBulkedit') == 'yes') {
		input_id = $(ele).attr('id').split('_')[0];
		if (input_id == "updatedQuantity") {
			title = "QUANTITY"
			input_val = $('#updatedQuantity').val();
		}
		else if (input_id == "updatedCustomerAnnualQuantity") {
			title = "CUSTOMER_ANNUAL_QUANTITY"
			input_val = $('#updatedCustomerAnnualQuantity').val();
		}
		else if (input_id == "updatedCustomerPartNumber") {
			title = "CUSTOMER_PART_NUMBER"
			input_val = $('#updatedCustomerPartNumber').val();
		}
		else if (input_id.includes("updatedDelivery")) {
			title = "DELIVERY_" + input_id.slice(-1)
			input_val = $('#' + input_id).val();
		}
		else {
			title = "NEW_PART"
			input_val = $('#updatedNewPart').is(":checked");
		}
		input_val1 = "";
		if ($("input[name='massOrSingleEdit']:checked").attr('id') == 'massEditRadio') {
			var select_all = false;
			$('#' + table_id).find('[type="checkbox"]:checked').map(function () {
				if ($(this).attr('name') == 'btSelectAll') {
					select_all = true;
				}
			});
			if (select_all == true) {
				localStorage.setItem('multiedit_selectall', 'PARTS_BULKEDIT_ALL');
			}
			else {
				selectPN = localStorage.getItem('multiedit_data_clicked').split(',');
			}
		}
		else {
			selectPN = [];
			selectPN[0] = localStorage.getItem('PartsSelectedId');
		}
		localStorage.removeItem('PartsListBulkedit');
	}
	else {
		var title_values = [];
		title.split(',').forEach(ele => {
			if (!ele.includes('DELIVERY_')) {
				title_values.push(ele);
			}
		});
		title = title_values.toString();
		$('#' + table_id + ' > tbody > tr ').each(function () {
			if (edit_index.includes(',')) {
				input_val.push($(this).find('td:nth-child(' + edit_index.split(',')[0] + ')').text().trim());
				input_val1.push($(this).find('td:nth-child(' + edit_index.split(',')[1] + ') > input').is(":checked"));
				input_val2.push($(this).find('td:nth-child(' + edit_index.split(',')[2] + ') > input').is(":checked"));
				if (TreeParam == "Z0108") {
					deliveries_row = []
					$(this).find('td').each(function (index) {
						if (index >= delivery_index - 1) {
							deliveries_row.push($(this).text().trim());
						}
					});
					delivery_schedules.push(deliveries_row);
				}
			}
			else {
				input_val.push($(this).find('td:nth-child(' + edit_index + ')').text().trim());
				input_val1.push($(this).find('td:nth-child(' + edit_index + ') > input').is(":checked"));
			}

		});
	}
	radio_val = $("input[name='massOrSingleEdit']:checked").attr('id');
	if (radio_val != undefined) {
		if (radio_val == 'singleEditRadio') {
			if (AllTreeParam["TreeParentLevel2"] == "Product Offerings" && localStorage.getItem('currentSubTab')) {
				selected_value = localStorage.getItem("PartsSelectedId");
			}
			else {
				selected_value = localStorage.getItem("multiedit_save_date");
			}
		} else if (radio_val == 'massEditRadio') {
			selected_value = localStorage.getItem("multiedit_data_clicked");
		}
	}
	else {
		selected_value = localStorage.getItem("multiedit_save_date");
	}
	var selectall = localStorage.getItem("multiedit_selectall");
	localStorage.removeItem("multiedit_selectall");
	var del = []
	var Add_PN = []

	try {

		input_val1.forEach(function (val, index) {

			if (val == false || input_val2[index] == false) {

				del.push(partnos[index]);

			}
			else {
				Add_PN.push(partnos[index]);
			}
		});

	}

	catch {
		console.log("exception occured")
	}

	try {
		cpq.server.executeScript("SYBLKETRLG", {
			'TITLE': title,
			'VALUE': input_val[0],
			'VALUE1': input_val1[0],
			'VALUE2': input_val2[0],
			'RECORDID': (selected_value != null) ? selected_value.trim() : null,
			'ALLVALUES': input_val,
			'ALLVALUES1': input_val1,
			'ALLVALUES2': input_val2,
			'ALLVALUES3': [],
			'DEL_PN': del,
			'ADD_PN': Add_PN,
			'DELIVERY_SCHEDULES': delivery_schedules,
			'CLICKEDID': table_id,
			'ELEMENT': 'SAVE',
			'selectPN': selectPN,
			'SELECTALL': selectall,
			'A_Keys': A_Keys,
			'A_Values': A_Values,
			'SubtabName': localStorage.getItem("currentSubTab")
		}, function (datas) {
			active_chain_step = $('#COMMON_TABS ul li.active').attr('onclick');
			eval(active_chain_step);
			$('#cont_multiEditModalSection').css('display', 'none')
			$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
			$("#cont_multiEditModalSection .modal-backdrop").remove();
		});
	}
	catch (e) {
		console.log(e);
	}
}
function NSOMultiEdit(ele) {
	console.log(ele);
	var selectPN = [];
	var input_val = [];
	var input_val1 = [];
	var input_val2 = [];
	var input_val3 = [];
	var delivery_schedules = [];
	var title = localStorage.getItem("saqico_title");
	var table_id = localStorage.getItem("table_id_RL_edit");
	var edit_index = localStorage.getItem("edit_index");
	localStorage.setItem("InlineEdit", "NO");
	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			if (x != 'undefined' && typeof (x) != 'undefined') {
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
	});
	var partno_index = $("#" + table_id + " > thead > tr").find("[data-field='PART_NUMBER']").index() + 1;
	var delivery_index = $("#" + table_id + " > thead > tr").find("[data-field='DELIVERY_1']").index() + 1;
	var key_index = $("#" + table_id + " > thead > tr").find("[data-field='QUOTE_REV_PO_EQUIPMENT_PARTS_RECORD_ID']").index() + 1;
	var partnos = [];
	$("#" + table_id + " tbody tr").each(function () {
		var sel_val_PN = $(this).find('td:nth-child(' + key_index + ')').text().trim();
		selectPN.push(sel_val_PN);
		partnos.push($(this).find("td:nth-child(" + partno_index + ")").text().trim());
	});
	// if (localStorage.getItem('PartsListBulkedit') == 'yes') {
	// 	console.log('**')
	// 	console.log($(ele).attr('id'));
	// 	console.log('**')

	// 	input_id = $(ele).attr('id').split('_')[0];
	// 	if(input_id=="updatedQuantity"){
	// 		title = "QUANTITY"
	// 	    input_val = $('#updatedQuantity').val();
	// 	}
	// 	else if(input_id=="updatedCustomerAnnualQuantity"){
	// 		title = "CUSTOMER_ANNUAL_QUANTITY"
	// 		input_val = $('#updatedCustomerAnnualQuantity').val();
	// 	}
	// 	else if(input_id=="updatedCustomerPartNumber"){
	// 		title = "CUSTOMER_PART_NUMBER"
	// 		input_val = $('#updatedCustomerPartNumber').val();
	// 	}
	// 	else if(input_id.includes("updatedDelivery")){
	// 		title = "DELIVERY_"+input_id.slice(-1)
	// 		input_val = $('#'+input_id).val();
	// 	}
	// 	else{
	// 		title = "NEW_PART"
	// 	    input_val = $('#updatedNewPart').is(":checked");
	// 	}
	// 	input_val1 ="";
	// 	if ($("input[name='massOrSingleEdit']:checked").attr('id') == 'massEditRadio') {
	// 		var select_all = false;
	// 		$('#' + table_id).find('[type="checkbox"]:checked').map(function () {
	// 			if ($(this).attr('name') == 'btSelectAll') {
	// 				select_all = true;
	// 			}
	// 		});
	// 		if (select_all == true) {
	// 			localStorage.setItem('multiedit_selectall', 'PARTS_BULKEDIT_ALL');
	// 		}
	// 		else {
	// 			selectPN = localStorage.getItem('multiedit_data_clicked').split(',');
	// 		}
	// 	}
	// 	else {
	// 		selectPN = [];
	// 		selectPN[0] = localStorage.getItem('PartsSelectedId');
	// 	}
	// 	localStorage.removeItem('PartsListBulkedit');
	// }
	// else {
	var title_values = [];
	title.split(',').forEach(ele => {
		if (!ele.includes('DELIVERY_')) {
			title_values.push(ele);
		}
	});
	title = title_values.toString();
	$('#' + table_id + ' > tbody > tr ').each(function () {
		if (edit_index.includes(',')) {
			input_val.push($(this).find('td:nth-child(' + edit_index.split(',')[0] + ')').text().trim());
			input_val1.push($(this).find('td:nth-child(' + edit_index.split(',')[1] + ') > input').is(":checked"));
			input_val2.push($(this).find('td:nth-child(' + edit_index.split(',')[2] + ') > input').is(":checked"));
			input_val3.push($(this).find('td:nth-child(' + edit_index.split(',')[3] + ') > input').is(":checked"));
			if (TreeParam == "Z0108") {
				deliveries_row = []
				$(this).find('td').each(function (index) {
					if (index >= delivery_index - 1) {
						deliveries_row.push($(this).text().trim());
					}
				});
				delivery_schedules.push(deliveries_row);
			}
		}
		else {
			input_val.push($(this).find('td:nth-child(' + edit_index + ')').text().trim());
			input_val1.push($(this).find('td:nth-child(' + edit_index + ') > input').is(":checked"));
		}

	});
	// }
	radio_val = $("input[name='massOrSingleEdit']:checked").attr('id');
	if (radio_val != undefined) {
		if (radio_val == 'singleEditRadio') {
			selected_value = localStorage.getItem("multiedit_save_date");

		} else if (radio_val == 'massEditRadio') {
			selected_value = localStorage.getItem("multiedit_data_clicked");
		}
	}
	else {
		selected_value = localStorage.getItem("multiedit_save_date");
	}
	var selectall = localStorage.getItem("multiedit_selectall");
	localStorage.removeItem("multiedit_selectall");
	var del = []
	var Add_PN = []

	try {

		input_val1.forEach(function (val, index) {

			if (val == false || input_val2[index] == false) {

				del.push(partnos[index]);

			}
			else {
				Add_PN.push(partnos[index]);
			}
		});

	}

	catch {
		console.log("exception occured")
	}

	try {
		cpq.server.executeScript("SYBLKETRLG", {
			'TITLE': title,
			'VALUE': input_val[0],
			'VALUE1': input_val1[0],
			'VALUE2': input_val2[0],
			'VALUE3': input_val3[0],
			'RECORDID': (selected_value != null) ? selected_value.trim() : null,
			'ALLVALUES': input_val,
			'ALLVALUES1': input_val1,
			'ALLVALUES2': input_val2,
			'ALLVALUES3': input_val3,
			'DEL_PN': del,
			'ADD_PN': Add_PN,
			'DELIVERY_SCHEDULES': delivery_schedules,
			'CLICKEDID': table_id,
			'ELEMENT': 'SAVE',
			'selectPN': selectPN,
			'SELECTALL': selectall,
			'A_Keys': A_Keys,
			'A_Values': A_Values,
			'SubtabName': localStorage.getItem("currentSubTab")
		}, function (datas) {
			active_chain_step = $('#COMMON_TABS ul li.active').attr('onclick');
			eval(active_chain_step);
			$('#cont_multiEditModalSection').css('display', 'none')
			$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
			$("#cont_multiEditModalSection .modal-backdrop").remove();
		});
	}
	catch (e) {
		console.log(e);
	}
}

function CreditsMultiEdit(ele) {
	console.log(ele);
	var selectPN = [];
	var input_val = [];
	var input_val1 = [];
	var input_val2 = [];
	var input_val3 = [];
	var delivery_schedules = [];
	var title = localStorage.getItem("saqico_title");
	var table_id = localStorage.getItem("table_id_RL_edit");
	var edit_index = localStorage.getItem("edit_index");
	localStorage.setItem("InlineEdit", "NO");
	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			if (x != 'undefined' && typeof (x) != 'undefined') {
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
	});
	var partno_index = $("#" + table_id + " > thead > tr").find("[data-field='PART_NUMBER']").index() + 1;
	var delivery_index = $("#" + table_id + " > thead > tr").find("[data-field='DELIVERY_1']").index() + 1;
	var partnos = [];
	$("#" + table_id + " tbody tr").each(function () {
		var sel_val_PN = $(this).find('td:nth-child(4)').text().trim();
		selectPN.push(sel_val_PN);
		partnos.push($(this).find("td:nth-child(" + partno_index + ")").text().trim());
	});
	var title_values = [];
	title.split(',').forEach(ele => {
		if (!ele.includes('DELIVERY_')) {
			title_values.push(ele);
		}
	});
	title = title_values.toString();
	$('#' + table_id + ' > tbody > tr ').each(function () {
		if (edit_index.includes(',')) {
			input_val.push($(this).find('td:nth-child(' + edit_index.split(',')[0] + ')').text().trim());
			input_val1.push($(this).find('td:nth-child(' + edit_index.split(',')[1] + ') > input').is(":checked"));
			input_val2.push($(this).find('td:nth-child(' + edit_index.split(',')[2] + ') > input').is(":checked"));
			input_val3.push($(this).find('td:nth-child(' + edit_index.split(',')[3] + ') > input').is(":checked"));
			if (TreeParam == "Z0108") {
				deliveries_row = []
				$(this).find('td').each(function (index) {
					if (index >= delivery_index - 1) {
						deliveries_row.push($(this).text().trim());
					}
				});
				delivery_schedules.push(deliveries_row);
			}
		}
		else {
			input_val.push($(this).find('td:nth-child(' + edit_index + ')').text().trim());
			input_val1.push($(this).find('td:nth-child(' + edit_index + ') > input').is(":checked"));
		}

	});
	// }
	radio_val = $("input[name='massOrSingleEdit']:checked").attr('id');
	if (radio_val != undefined) {
		if (radio_val == 'singleEditRadio') {
			selected_value = localStorage.getItem("multiedit_save_date");

		} else if (radio_val == 'massEditRadio') {
			selected_value = localStorage.getItem("multiedit_data_clicked");
		}
	}
	else {
		selected_value = localStorage.getItem("multiedit_save_date");
	}
	var selectall = localStorage.getItem("multiedit_selectall");
	localStorage.removeItem("multiedit_selectall");
	var del = []
	var Add_PN = []

	try {

		input_val1.forEach(function (val, index) {

			if (val == false || input_val2[index] == false) {

				del.push(partnos[index]);

			}
			else {
				Add_PN.push(partnos[index]);
			}
		});

	}

	catch {
		console.log("exception occured")
	}

	try {
		cpq.server.executeScript("SYBLKETRLG", {
			'TITLE': title,
			'VALUE': input_val[0],
			'VALUE1': input_val1[0],
			'VALUE2': input_val2[0],
			'VALUE3': input_val3[0],
			'RECORDID': (selected_value != null) ? selected_value.trim() : null,
			'ALLVALUES': input_val,
			'ALLVALUES1': input_val1,
			'ALLVALUES2': input_val2,
			'ALLVALUES3': input_val3,
			'DEL_PN': del,
			'ADD_PN': Add_PN,
			'DELIVERY_SCHEDULES': delivery_schedules,
			'CLICKEDID': table_id,
			'ELEMENT': 'SAVE',
			'selectPN': selectPN,
			'SELECTALL': selectall,
			'A_Keys': A_Keys,
			'A_Values': A_Values,
			'SubtabName': localStorage.getItem("currentSubTab")
		}, function (datas) {
			active_chain_step = $('#COMMON_TABS ul li.active').attr('onclick');
			eval(active_chain_step);
			$('#cont_multiEditModalSection').css('display', 'none')
			$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
			$("#cont_multiEditModalSection .modal-backdrop").remove();
		});
	}
	catch (e) {
		console.log(e);
	}
}

function ContactsMultiEdit(ele) {
	var selectPN = [];
	var input_val = [];
	var input_val1 = [];
	var title = localStorage.getItem("saqict_title");
	var table_id = localStorage.getItem("table_id_RL_edit");
	var edit_index = localStorage.getItem("edit_index");
	localStorage.setItem("InlineEdit", "NO");
	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			if (x != 'undefined' && typeof (x) != 'undefined') {
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
	});
	$("#" + table_id + " tbody tr").each(function () {
		var sel_val_PN = $(this).find('td:nth-child(3)').text().trim();
		selectPN.push(sel_val_PN);
	});
	if (localStorage.getItem('PartsListBulkedit') == 'yes') {
		input_id = $(ele).attr('id').split('_')[0];
		if (input_id == "updatedQuantity") {
			title = "QUANTITY"
			input_val = $('#updatedQuantity').val();
		}
		else if (input_id == "updatedCustomerAnnualQuantity") {
			title = "CUSTOMER_ANNUAL_QUANTITY"
			input_val = $('#updatedCustomerAnnualQuantity').val();
		}
		else if (input_id == "updatedCustomerPartNumber") {
			title = "CUSTOMER_PART_NUMBER"
			input_val = $('#updatedCustomerPartNumber').val();
		}
		else {
			title = "NEW_PART"
			input_val = $('#updatedNewPart').is(":checked");
		}
		input_val1 = "";
		if ($("input[name='massOrSingleEdit']:checked").attr('id') == 'massEditRadio') {
			var select_all = false;
			$('#' + table_id).find('[type="checkbox"]:checked').map(function () {
				if ($(this).attr('name') == 'btSelectAll') {
					select_all = true;
				}
			});
			if (select_all == true) {
				localStorage.setItem('multiedit_selectall', 'PARTS_BULKEDIT_ALL');
			}
			else {
				selectPN = localStorage.getItem('multiedit_data_clicked').split(',');
			}
		}
		else {
			selectPN = [];
			selectPN[0] = localStorage.getItem('PartsSelectedId');
		}
		localStorage.removeItem('PartsListBulkedit');
	}
	else {
		$('#' + table_id + ' > tbody > tr ').each(function () {
			if (edit_index.includes(',')) {
				input_val.push($(this).find('td:nth-child(' + edit_index.split(',')[0] + ') > input').is(":checked"));
				input_val1.push($(this).find('td:nth-child(' + edit_index.split(',')[1] + ') > input').is(":checked"));
			}
			else {
				input_val.push($(this).find('td:nth-child(' + edit_index + ')').text().trim());
				input_val1.push($(this).find('td:nth-child(' + edit_index + ') > input').is(":checked"));
			}

		});
	}
	radio_val = $("input[name='massOrSingleEdit']:checked").attr('id');
	if (radio_val != undefined) {
		if (radio_val == 'singleEditRadio') {
			selected_value = localStorage.getItem("multiedit_save_date");

		} else if (radio_val == 'massEditRadio') {
			selected_value = localStorage.getItem("multiedit_data_clicked");
		}
	}
	else {
		selected_value = localStorage.getItem("multiedit_save_date");
	}
	var selectall = localStorage.getItem("multiedit_selectall");
	localStorage.removeItem("multiedit_selectall");
	try {
		cpq.server.executeScript("SYBLKETRLG", {
			'TITLE': title,
			'VALUE': input_val[0],
			'VALUE1': input_val1[0],
			'RECORDID': (selected_value != null) ? selected_value.trim() : null,
			'ALLVALUES': input_val,
			'ALLVALUES1': input_val1,
			'CLICKEDID': table_id,
			'ELEMENT': 'SAVE',
			'selectPN': selectPN,
			'SELECTALL': selectall,
			'A_Keys': A_Keys,
			'A_Values': A_Values
		}, function (datas) {
			active_chain_step = $('#COMMON_TABS ul li.active').attr('onclick');
			eval(active_chain_step);
			$('#cont_multiEditModalSection').css('display', 'none')
			$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
			$("#cont_multiEditModalSection .modal-backdrop").remove();
		});
	}
	catch (e) {
		console.log(e);
	}
}

function PeriodsInlineEdit() {
	var table_id = "SYOBJR_98881_36ABB309_5CD3_4A05_AEA2_16B0CEFE08E7"
	var field = ["DELIVERY_DATE"];
	localStorage.setItem("InlineEdit", "YES");
	add_class_name = "light_yellow"
	localStorage.setItem("table_id_RL_edit", table_id);
	var edit_index = [];
	var edit_index = $("#" + table_id).find("[data-field=" + field + "]").index() + 1;
	localStorage.setItem("edit_index", edit_index);
	var reco_id = [];
	if (document.getElementById("RL_EDIT_DIV_ID")) {
		localStorage.setItem("saqico_title", field);
		reco_id = []
		$("#" + table_id + " > tbody > tr").each(function () {
			$(this).find("td:nth-child(" + edit_index + ")").attr("contenteditable", "true")
			reco_id.push($(this).find("td:nth-child(3)").text().trim());
			$(this).find("td:nth-child(" + edit_index + ")").addClass(add_class_name);
			var val = $(this).find("td:nth-child(" + edit_index + ")").text();
			$(this).find("td:nth-child(" + edit_index + ") > a").remove();
			$(this).find("td:nth-child(" + edit_index + ")").text(val);
		});
		localStorage.setItem('multiedit_save_date', reco_id);
		$("#seginnerbnr").find("button").map(function () { $(this).css('display', 'none'); });
		var buttonlen = $("#seginnerbnr").find("button#saveButton");
		if (buttonlen.length == 0) {
			$("#seginnerbnr").append('<button class="btnconfig" type="button" value="Cancel" id="cancelButton">CANCEL</button><button class="btnconfig" type="button" value="Save" onclick="periodsSave(this)" id="saveButton">SAVE</button>');
			$('#cancelButton').attr('onclick', $('#COMMON_TABS ul li.active').attr('onclick'));
		} else {
			$("#cancelButton").css("display", "block");
			$("#saveButton").css("display", "block");
		}
	}
}

function periodsSave(ele) {
	var selectPN = [];
	var input_val = [];
	var title = localStorage.getItem("saqico_title");
	var table_id = localStorage.getItem("table_id_RL_edit");
	var edit_index = localStorage.getItem("edit_index");
	localStorage.setItem("InlineEdit", "NO");
	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			if (x != 'undefined' && typeof (x) != 'undefined') {
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
	});
	$("#" + table_id + " tbody tr").each(function () {
		var sel_val_PN = $(this).find('td:nth-child(3)').text().trim();
		selectPN.push(sel_val_PN);
	});

	$('#' + table_id + ' > tbody > tr ').each(function () {
		input_val.push($(this).find('td:nth-child(' + edit_index + ')').text().trim());
	});
	selected_value = localStorage.getItem("multiedit_save_date");
	var selectall = localStorage.getItem("multiedit_selectall");
	localStorage.removeItem("multiedit_selectall");
	try {
		cpq.server.executeScript("SYBLKETRLG", {
			'TITLE': title,
			'VALUE': input_val[0],
			'RECORDID': (selected_value != null) ? selected_value.trim() : null,
			'ALLVALUES': input_val,
			'CLICKEDID': table_id,
			'ELEMENT': 'SAVE',
			'selectPN': selectPN,
			'SELECTALL': selectall,
			'A_Keys': A_Keys,
			'A_Values': A_Values,
			'SubtabName': localStorage.getItem("currentSubTab")
		}, function (datas) {
			active_chain_step = $('#COMMON_TABS ul li.active').attr('onclick');
			eval(active_chain_step);
			$('#cont_multiEditModalSection').css('display', 'none')
			$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
			$("#cont_multiEditModalSection .modal-backdrop").remove();
		});
	}
	catch (e) {
		console.log(e);
	}
}

function ItemsMultiEdit(ele) {
	var selectPN = [];
	var input_val = new Array();
	var input_val1 = new Array();
	var title = localStorage.getItem("saqico_title");
	var table_id = localStorage.getItem("table_id_RL_edit");
	var edit_index = localStorage.getItem("edit_index");
	localStorage.setItem("InlineEdit", "NO");
	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
	});
	$("#" + table_id + " tbody tr").each(function () {
		var sel_val_PN = $(this).find('td:nth-child(3)').text().trim();
		selectPN.push(sel_val_PN);
	});
	if (localStorage.getItem('PartsListBulkedit') == 'yes') {
		input_id = $(ele).attr('id').split('_')[0];
		if (input_id == "updatedQuantity") {
			title = "QUANTITY"
			input_val = $('#updatedQuantity').val();
		}
		else if (input_id == "updatedCustomerAnnualQuantity") {
			title = "CUSTOMER_ANNUAL_QUANTITY"
			input_val = $('#updatedCustomerAnnualQuantity').val();
		}
		else {
			title = "NEW_PART"
			input_val = $('#updatedNewPart').is(":checked");
		}
		input_val1 = "";
		if ($("input[name='massOrSingleEdit']:checked").attr('id') == 'massEditRadio') {
			var select_all = false;
			$('#' + table_id).find('[type="checkbox"]:checked').map(function () {
				if ($(this).attr('name') == 'btSelectAll') {
					select_all = true;
				}
			});
			if (select_all == true) {
				localStorage.setItem('multiedit_selectall', 'PARTS_BULKEDIT_ALL');
			}
			else {
				selectPN = localStorage.getItem('multiedit_data_clicked').split(',');
			}
		}
		else {
			selectPN = [];
			selectPN[0] = localStorage.getItem('PartsSelectedId');
		}
		localStorage.removeItem('PartsListBulkedit');
	}
	else {
		/*$('#' + table_id + ' > tbody > tr ').each(function () {
			if(edit_index.includes(',')){
				input_val.push($(this).find('td:nth-child(' + edit_index.split(',')[0] + ')').text().trim());
				input_val1.push($(this).find('td:nth-child(' + edit_index.split(',')[1] + ') > input').is(":checked"));
			}
			else{
				input_val.push($(this).find('td:nth-child(' + edit_index + ')').text().trim());
				input_val1.push($(this).find('td:nth-child(' + edit_index + ') > input').is(":checked"));
			}


		});*/


	}
	radio_val = $("input[name='massOrSingleEdit']:checked").attr('id');
	if (radio_val != undefined) {
		if (radio_val == 'singleEditRadio') {
			selected_value = localStorage.getItem("multiedit_save_date");

		} else if (radio_val == 'massEditRadio') {
			selected_value = localStorage.getItem("multiedit_data_clicked");
		}
	}
	else {
		selected_value = localStorage.getItem("multiedit_save_date");
	}
	var selectall = localStorage.getItem("multiedit_selectall");
	localStorage.removeItem("multiedit_selectall");
	try {
		var val = new Array();
		var val1 = new Array();
		cpq.server.executeScript("CQQTEITEMS", { 'SUBTAB': 'Items', 'ACTION': 'Edit' }, function (dataset) {
			editline = dataset;
			count = 1;
			$("#" + table_id + " tbody tr").each(function () {

				if (editline.includes(count.toString())) {
					count = count + 1;
					tr_number = $(this).closest('[data-index]').data('index');
					x = $("#" + table_id + " tr[data-index='" + tr_number + "'] ").find('td').eq(13).text().trim();
					y = $("#" + table_id + " tr[data-index='" + tr_number + "'] ").find('td').eq(14).text().trim();
					x = x.toString();
					y = y.toString();
					val.push(x);
					val1.push(y);

				} else {
					count = count + 1;
				}
				//values.join(',');
			});
			val = JSON.stringify(val);
			val1 = JSON.stringify(val1);
			cpq.server.executeScript("SYBLKETRLG", {
				'TITLE': title,
				'VALUE': input_val[0],
				'VALUE1': input_val1[0],
				'RECORDID': (selected_value != null) ? selected_value.trim() : null,
				'ALLVALUES': val,
				'ALLVALUES1': val1,
				'CLICKEDID': table_id,
				'ELEMENT': 'SAVE',
				'selectPN': selectPN,
				'SELECTALL': selectall,
				'A_Keys': A_Keys,
				'A_Values': A_Values
			}, function (datas) {
				active_chain_step = $('#COMMON_TABS ul li.active').attr('onclick');
				eval(active_chain_step);
				$('#cont_multiEditModalSection').css('display', 'none')
				$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
				$("#cont_multiEditModalSection .modal-backdrop").remove();
			});


		});

	}
	catch (e) {
		console.log(e);
	}
}
function partsQuantityBulkUpdate(ele) {
	var reco_id = [];
	var table_id = "SYOBJR_00029_9012C7CB_BA88_4E09_B4D3_ED8907B8AE63";
	var edit_index = $(ele).parent().index() + 1;
	if (localStorage.getItem('currentSubTab') == "Spare Parts" && TreeParentParam == "Complementary Products") {
		table_id = "SYOBJR_00005_7EAA11B4_82C9_400B_8E48_65497373A578"
	}
	var field = $('#' + table_id + ' > thead > tr > th:nth-child(' + edit_index + ')').attr('data-field');
	var value = $(ele).closest("tr").find("td:eq(" + (edit_index - 1) + ")").text().trim();
	var key_index = 2;
	var selectedId = $(ele).closest("tr").find("td:eq(" + key_index + ")").text().trim();
	if (!selectedId.includes('-')) {
		key_index = 3;
		selectedId = $(ele).closest("tr").find("td:eq(" + key_index + ")").text().trim();
	}
	localStorage.setItem('PartsSelectedId', selectedId);
	reco_id.push(selectedId);
	$("#" + table_id + " tbody tr.selected").each(function () {
		reco_id.push($(this).find('td:eq(' + key_index + ')').text().trim());
	});
	reco_id = removeDuplicates(reco_id);
	localStorage.setItem("multiedit_save_date", reco_id);
	localStorage.setItem("multiedit_data_clicked", reco_id);
	localStorage.setItem("table_id_RL_edit", table_id);
	localStorage.setItem("edit_index", edit_index);
	cpq.server.executeScript("SYBLKETRLG", {
		"TITLE": field,
		"VALUE": value,
		"CLICKEDID": table_id,
		"RECORDID": reco_id,
		"ELEMENT": "RELATEDEDIT"
	}, function (data) {
		data1 = data[0];
		data2 = data[1];
		data3 = data[2];
		$("#seginnerbnr").find("button").map(function () { $(this).css('display', 'none'); });
		if (data1 != "NO") {
			if (document.getElementById("RL_EDIT_DIV_ID")) {
				$('#RL_EDIT_DIV_ID').html(data1);
				$('#cont_multiEditModalSection').css('display', 'block');
				localStorage.setItem("saqico_title", field);
				inp = "#" + data3;
				localStorage.setItem('PartsListBulkedit', 'yes');
				localStorage.setItem("value_tag", table_id + ' ' + inp);
				var divHeight = $("#cont_multiEditModalSection").height();
				$("#cont_multiEditModalSection .modal-backdrop").css("min-height", divHeight + "px");
				$("#cont_multiEditModalSection .modal-dialog").css("width", "550px");
				$(".modal-dialog").css("margin-top", "100px");
			}
			if (data2.length !== 0) {
				$.each(data2, function (key, values) {
					onclick_datepicker(values)
				});
			}
		}
	});
}
function deliveryDateBulkEdit(ele) {
	var reco_id = [];
	var table_id = "SYOBJR_98881_36ABB309_5CD3_4A05_AEA2_16B0CEFE08E7";
	var field = "DELIVERY_DATE"
	var value = $(ele).closest("tr").find("td:eq(3)").text().trim();
	var selectedId = $(ele).closest("tr").find("td:eq(2)").text().trim();
	localStorage.setItem('PartsSelectedId', selectedId);
	reco_id.push(selectedId);
	$("#" + table_id + " tbody tr.selected").each(function () {
		reco_id.push($(this).find('td:nth-child(2)').text().trim());
	});
	reco_id = removeDuplicates(reco_id);
	localStorage.setItem("multiedit_save_date", reco_id);
	localStorage.setItem("multiedit_data_clicked", reco_id);
	localStorage.setItem("table_id_RL_edit", table_id);
	edit_index = $("#" + table_id).find("[data-field=" + field + "]").index() + 1;
	localStorage.setItem("edit_index", edit_index);
	cpq.server.executeScript("SYBLKETRLG", {
		"TITLE": field,
		"VALUE": value,
		"CLICKEDID": table_id,
		"RECORDID": reco_id,
		"ELEMENT": "RELATEDEDIT"
	}, function (data) {
		data1 = data[0];
		data2 = data[1];
		data3 = data[2];
		$("#seginnerbnr").find("button").map(function () { $(this).css('display', 'none'); });
		debugger;
		if (data1 != "NO") {
			if (document.getElementById("RL_EDIT_DIV_ID")) {
				$('#RL_EDIT_DIV_ID').html(data1);
				$('#cont_multiEditModalSection').css('display', 'block');
				localStorage.setItem("saqico_title", field);
				inp = "#" + data3;
				localStorage.setItem('PartsListBulkedit', 'yes');
				localStorage.setItem("value_tag", table_id + ' ' + inp);
				var divHeight = $("#cont_multiEditModalSection").height();
				$("#cont_multiEditModalSection .modal-backdrop").css("min-height", divHeight + "px");
				$("#cont_multiEditModalSection .modal-dialog").css("width", "550px");
				$(".modal-dialog").css("margin-top", "100px");
			}
			if (data2.length !== 0) {
				$.each(data2, function (key, values) {
					onclick_datepicker(values)
				});
			}
		}
	});
}
function PM_FrequencyInlineEdit() {
	field = "PM_FREQUENCY"
	var related_id = $('#div_CTR_related_list > div.bootstrap-table > div.fixed-table-container > div.fixed-table-body > table').attr('id');
	if (related_id == undefined) {
		related_id = $('#TREE_div > div.bootstrap-table > div.fixed-table-container > div.fixed-table-body > table').attr('id');
	}
	if ((related_id.includes('SYOBJR_95556') || related_id.includes('table_event_parent')) && localStorage.getItem('currentSubTab') == "Events") {
		localStorage.setItem('EDIT_OBJ', 'SAQGPA');
		$('#ADDNEW__SYOBJR_00011_SYOBJ_00974').css('display', 'none');
		$('#ADDNEW__SYOBJR_95556_SYOBJ_1177055').css('display', 'none');
	}
	if (related_id == 'table_event_parent') {
		table_id = related_id
		localStorage.setItem("table_id_RL_edit", "SYOBJR_95556_0975E1E2_9D30_4928_AB0A_4DA54537A67A");
		cancel_action = "$(\'#COMMON_TABS li.active\').click();localStorage.removeItem('EDIT_OBJ');"
		btn_id = "ADDNEW__SYOBJR_00011_SYOBJ_00974"
	}
	else if ((localStorage.getItem('currentSubTab') == "Assemblies" && localStorage.getItem('CurrentObject') == "SAQGPM") || localStorage.getItem('EDIT_OBJ') == "SAQGPA") {
		table_id = "SYOBJR_95556_0975E1E2_9D30_4928_AB0A_4DA54537A67A"
		localStorage.setItem("table_id_RL_edit", "SYOBJR_95556_0975E1E2_9D30_4928_AB0A_4DA54537A67A");
		cancel_action = "$(\'#COMMON_TABS li.active\').click();localStorage.removeItem('EDIT_OBJ');"
		btn_id = "AssembliesInlineEdit"
	}
	else {
		table_id = "table_Preventive_Maintainence_parent"
		localStorage.setItem("table_id_RL_edit", "SYOBJR_00011_1E92CAAD_4EE9_4E5C_AA11_80F20D295A63");
		cancel_action = "PreventiveMaintainenceTreeTable();"
		btn_id = "ADDNEW__SYOBJR_00011_SYOBJ_00974"
	}
	edit_index = $("#" + table_id).find("[data-field=" + field + "]").index() + 1;
	localStorage.setItem("edit_index", edit_index);
	var reco_id = [];
	localStorage.setItem("InlineEdit", "YES");
	if (document.getElementById("RL_EDIT_DIV_ID")) {
		localStorage.setItem("saqico_title", field);
		$("#" + table_id).find("td:nth-child(" + edit_index + ")").attr("contenteditable", true);
		$("#" + table_id + " > tbody > tr").each(function () {
			val = $(this).find("td:nth-child(" + edit_index + ")").text();
			reco_id.push($(this).find("td:nth-child(4)").text().trim());
			$(this).find("td:nth-child(" + edit_index + ") > a").remove();
			$(this).find("td:nth-child(" + edit_index + ")").text(val);
		});
		localStorage.setItem('multiedit_save_date', reco_id);
		var buttonlen = $("#seginnerbnr").find("button#saveButton");
		if (buttonlen.length == 0) {
			$("#seginnerbnr").append('<button class="btnconfig" onclick="' + cancel_action + '" type="button" value="Cancel" id="cancelButton">CANCEL</button><button class="btnconfig" type="button" value="Save" onclick="multiedit_save_RL()" id="saveButton">SAVE</button>');
		} else {
			$("#cancelButton").css("display", "block");
			$("#saveButton").css("display", "block");
		}
		$('#' + btn_id).css('display', 'none');
		$("#" + table_id).find("td:nth-child(" + edit_index + ")").addClass("light_yellow");
	}
}

function PM_FrequencyBulkUpdate(ele) {
	var reco_id = [];
	var field = "PM_FREQUENCY"
	var table_id_RL_edit = ""
	var table_id = $(ele).closest('table').attr('id');
	//INC08831137 - Start - A
	var keyIndex = $("#" + table_id + " thead").find("[data-field='QUOTE_SERVICE_COV_OBJ_ASS_PM_KIT_RECORD_ID']").index() || $("#" + table_id + " thead").find("[data-field='QUOTE_REV_PO_GRNBK_PM_EVEN_ASSEMBLIES_RECORD_ID']").index() || $("#" + table_id + " thead").find("[data-field='QUOTE_REV_PO_GBK_GOT_CODE_PM_EVENTS_RECORD_ID']").index();
	keyIndex = keyIndex + 1
	var edit_obj = $(ele).closest('tr').find('td:nth-child(' + keyIndex + ') > a').text().split('-')[0]
	localStorage.setItem('EDIT_OBJ', edit_obj);
	// INC08592767 - Start - A
	var recordIdCoulmnPosition = keyIndex - 1;
	// INC08592767 - End - A
	if (table_id == "table_event_parent") {
		if (edit_obj == "SAQGPM") {
			table_id_RL_edit = "SYOBJR_95556_986F0A8F_359E_4408_9AAC_6A3C9E264241"
		}
		else {
			table_id_RL_edit = "SYOBJR_95556_0975E1E2_9D30_4928_AB0A_4DA54537A67A"
		}
	}
	else if (localStorage.getItem('currentSubTab') == "Assemblies" || localStorage.getItem('EDIT_OBJ') == "SAQGPA") {
		table_id = table_id_RL_edit = "SYOBJR_95556_0975E1E2_9D30_4928_AB0A_4DA54537A67A"
	}
	else {
		table_id = "table_Preventive_Maintainence_parent"
		table_id_RL_edit = "SYOBJR_00011_1E92CAAD_4EE9_4E5C_AA11_80F20D295A63"
		// INC08592767 - Start - A
		recordIdCoulmnPosition = keyIndex - 1;
		// INC08592767 - End - A
	}
	var edit_index = $("#" + table_id).find("[data-field=" + field + "]").index() + 1;
	var value = $(ele).closest("tr").find("td:nth-child(" + edit_index + ")").text().trim();
	// INC08592767 - Start - M
	var selectedId = $(ele).closest("tr").find("td:eq(" + recordIdCoulmnPosition + ")").text().trim();
	// INC08592767 - End - M
	localStorage.setItem('PM_selectedId', selectedId);
	reco_id.push(selectedId);
	$("#" + table_id + " tbody tr.selected").each(function () {
		// INC08592767 - Start - M
		reco_id.push($(this).closest("tr").find("td:eq(" + recordIdCoulmnPosition + ")").text().trim());
		// INC08592767 - End - M
	});
	//INC08831137 - End - A
	reco_id = removeDuplicates(reco_id);
	localStorage.setItem("multiedit_save_date", reco_id);
	localStorage.setItem("multiedit_data_clicked", reco_id);
	localStorage.setItem("table_id_RL_edit", table_id_RL_edit);
	localStorage.setItem("edit_index", edit_index);
	cpq.server.executeScript("SYBLKETRLG", {
		"TITLE": field,
		"VALUE": value,
		"CLICKEDID": table_id_RL_edit,
		"RECORDID": reco_id,
		"ELEMENT": "RELATEDEDIT"
	}, function (data) {
		data1 = data[0];
		data2 = data[1];
		data3 = data[2];
		$("#ADDNEW__SYOBJR_00011_SYOBJ_00974").css("display", "none");
		debugger;
		if (data1 != "NO") {
			if (document.getElementById("RL_EDIT_DIV_ID")) {
				$('#RL_EDIT_DIV_ID').html(data1);
				$('#cont_multiEditModalSection').css('display', 'block');
				localStorage.setItem("saqico_title", field);
				inp = "#" + data3;
				localStorage.setItem('PM_FrequencyBulkedit', 'yes');
				localStorage.setItem("value_tag", "table_Preventive_Maintainence_parent " + inp);
				var divHeight = $("#cont_multiEditModalSection").height();
				$("#cont_multiEditModalSection .modal-backdrop").css("min-height", divHeight + "px");
				$("#cont_multiEditModalSection .modal-dialog").css("width", "550px");
				$(".modal-dialog").css("margin-top", "100px");
			}
			if (data2.length !== 0) {
				$.each(data2, function (key, values) {
					onclick_datepicker(values)
				});
			}
		}
	});
}

function Adj_cont_openview(ele) {
	ids = $(ele).attr('id');
	var table_id = $(ele).closest('table').attr('id')
	localStorage.setItem('cont_table_id', table_id)
	var lable = [];
	$("table#" + table_id + " thead tr th .th-inner").each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT' && $(this).text().trim() != 'STATUS') {
			lable.push($(this).text().trim())
		}
	});

	localStorage.setItem('cont_lable', lable)
	var value = [];
	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != '!') {
			value.push($(this).text().trim())
		}
	});

	localStorage.setItem('cont_value', value)

	first_record_id = localStorage.getItem("keyData");

	first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);
}
function replace_cont_manager(ele, DivName) {
	setTimeout(function () {
		$('.container_banner_inner_sec').css('display', 'none');
	}, 2400);
	//Hide the addnew button after clicked the addnew button
	$('.HideAddNew').css('display', 'none');
	//Hide the addnew button after clicked the addnew button
	var tab_text = $('ul#carttabs_head .active a span').text();
	var first_record_feild = '';
	/* JIRA-ID - A043S001P01-9132 - 'End' */

	//$(ele).closest('ul.dropdown-menu').parent('.dropdown').css('display','none');

	//start---A043S001P01-7185
	$('html').css('cssText', 'overflow-y:hidden !important');
	awd_rec_id = ''
	//end---A043S001P01-7185
	if (DivName == '') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}

	else if (DivName == undefined && tab_text == 'Quote') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}
	else if (DivName == undefined && tab_text == 'Quotes') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}


	else {
		localStorage.setItem("divid", DivName);
	}
	if (document.getElementById(DivName)) {
		document.getElementById(DivName).innerHTML = '';
	}

	setTimeout(function () {
		$('input#COUNTRIES').css('cssText', 'border:0 !important;float:left;');
		$('#VIEW_DIV_ID a').attr('tabindex', '-1');
	}, 1500);

	table_id = $(ele).attr('id');
	localStorage.setItem('cont_table_id', '');
	localStorage.setItem('XX_cont_table_id', table_id);

	if (DivName != 'RelatedDetail') {
		first_record_id = localStorage.getItem("keyData");
	}
	else {
		first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
	}
	// Added the code to set the div as empty
	if (document.getElementById(DivName)) {
		document.getElementById(DivName).innerHTML = '';
	}
	curTabName = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();

	// Added the code to set the div as empty
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);
	localStorage.setItem('cont_table_id', table_id);
	//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	CurrentTab = $("ul#carttabs_head li.active a span").text();


	var Country_val = Country_rec_val = "";

	if (CurrentTab == "Quotes" || CurrentTab == "App") {
		TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	}
	if (table_id == 'ADDNEW__SYOBJR_98871_SYOBJ_002649') {
		var acct_rpl = $(ele).closest('tr').find('td:nth-child(3) a abbr').attr('id');
		localStorage.setItem("acct_rpl", acct_rpl);
	}
	else if (TreeParam == "Sales Team") {
		table_id = "ADDNEW__SYOBJR_00643_SYOBJ_0026410"
		if (table_id == 'ADDNEW__SYOBJR_00643_SYOBJ_0026410') {
			var acct_rpl = $(ele).closest('tr').find('td:nth-child(3) a abbr').attr('id');
			localStorage.setItem("acct_rpl", acct_rpl);
		}
	}

	try {
		cpq.server.executeScript("SYUADNWPOP", {
			'TABLEID': table_id,
			'OPER': 'NO',
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': '',
			'LOOKUPOBJ': '',
			'LOOKUPAPI': '',
			'selected_country_list': [],
			'selected_program_list': [],
			'DIVNAME': DivName,
			'AwdRecordID': awd_rec_id,
			'TreeParentParam': TreeParentParam,
			'ACTION': 'REPLACE'
		}, function (data) {
			date_field = data[3];
			var assoc = data[1];
			var api_name = data[2];
			data4 = data[4];
			data5 = data[5];
			data6 = data[6];
			data7 = data[7];
			data8 = data[8];
			data9 = data[9];
			data10 = data[10];
			data11 = data[11];
			data12 = data[12];
			data13 = data[13];
			localStorage.setItem("selected_item", JSON.stringify(data7))
			localStorage.setItem("selected_item_program", JSON.stringify(data8))
			//table_id = localStorage.getItem('cont_table_id')

			if (table_id == 'ADDNEW__SYOBJR_00643_SYOBJ_0026410') {
				$('#cont_viewModalSection').modal('show')
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#contact_manager_addnew_model').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#contact_manager_addnew_model').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#contact_replace_addnew_model_footer').html(data6)
					eval(data4);
					eval(data5);
					localStorage.setItem("rep_btn", "REPLACE")
					var replace_action = localStorage.getItem("rep_btn")
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					//document.getElementById("btnhide").style.display = 'None';
					document.getElementById("contact_manager_addnew_model").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#contact_manager_addnew_model').addClass('brd1_pad5');
				}
				$('#cont_viewModalSection').css('display', 'block');

			}
			else {
				localStorage.setItem("adnw_btn_hide", "yes")
				if (document.getElementById(DivName)) {
					document.getElementById(DivName).innerHTML = data[0];
					if (assoc) {
						$.each(assoc, function (key, value) {
							$('#' + DivName + ' #container #' + key).val(value);

						});
					}
					//A043S001P01-12245 code starts... Changed the position of save and cancel button to secondary banner.
					// ADDED CONDIIONS TO FIX THE ISSUE BASED UPON THE ADD NEW TO SHOW/HIDE SAVE AND CANCEL BUTTON.

					//A043S001P01-12624 STARTS

					if ($("div#seginnerbnr").length > 0) {
						if ($("#" + table_id).parent().attr('id') == 'seginnerbnr') {
							$('div#seginnerbnr').each(function () {
								ButtonName = $(this).children('button').text()
							});

							if ((ButtonName == 'ADD NEW') || (ButtonName == 'ADD NEWDELETE') || (ButtonName.includes('ADD NEW')) || (ButtonName == '')) {
								$('#HideSavecancel').remove();
								$('#' + table_id).css('display', 'none');
								$('div#seginnerbnr').append(data13);
							}

							$('.ma_text_align_sixteen').css('display', 'none');
						} else {
							$('.ma_text_align_sixteen').css('display', 'block');
						}
					}

					if ($("div#PRICE_segmentButton").length > 0) {
						if ($("#" + table_id).parent().attr('id') == 'PRICE_segmentButton') {
							$('div#PRICE_segmentButton').each(function () {
								ButtonName = $(this).children('button').text()
							});

							if (ButtonName == 'ADD NEW') {
								$('#HideSavecancel').remove();
								$('div#PRICE_segmentButton').append(data13);
							}

							$('.ma_text_align_sixteen').css('display', 'none');
						} else {
							$('.ma_text_align_sixteen').css('display', 'block');
						}
					}

					//A043S001P01-12624 ENDS

					/*if (tab_text == 'Price Model'){
						$('div#PRICE_segmentButton').each(function(){
							buttonlength = $(this).children('button').length
							ButtonName = $(this).children('button').text()
							console.log('buttonlength',buttonlength)
							console.log('buttonname',ButtonName)
							console.log('data13_data13',data13);
						});

						if (ButtonName == 'ADD NEW'){
							$('#HideSavecancel').remove();
							$('div#PRICE_segmentButton').append(data13);
						}


					}*/


					//A043S001P01-12245 code ends....Changed the position of save and cancel button to secondary banner.
					if (api_name) {
						$('#' + DivName + ' #container #' + api_name).val(first_record_id);
					}

					if ((date_field.length !== 0) && (date_field != 'NORECORDS') && (date_field != 'OWNED_DATE')) {
						$.each(date_field, function (key, value) {
							onclick_datepicker(value)
						});
					}


				}
			}
		});

	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		$('.in .modal-dialog .modal_vh_div table tbody tr td input').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}
		});
		$('.in .modal-dialog .modal_vh_div table tbody tr td select').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}
		});
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt" ></div>');
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();
		if (table_heigth > popUp_height) {
			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');
		}



	}, 1500);
	localStorage.setItem('triggerRelated', '1');
	//$('.modal-dialog').css('cssText', 'width:900px !important;');
}
function pricing() {
	quote_id = $(".segment_part_number_text").text()

	try {
		cpq.server.executeScript("CQPARTSINS", {
			'CPQ_Columns': { 'Action': 'Price', 'QuoteID': quote_id, 'Part_number': '' }
		}, function (data) {
			console.log(data)
			//$('#notify').html(data);
			$('#COMMON_TABS > ul > li.active').click()
		});
	} catch (e) {
		console.log(e);
	}
}
function Repricing(ele) {
	quote_id = $(".segment_part_number_text").text()
	Part_number = $(ele).closest('tr').children('td:nth-child(7)').text().trim();
	Annual_quantity = $(ele).closest('tr').children('td:nth-child(26)').text().trim();

	try {
		cpq.server.executeScript("CQPARTSINS", {
			'CPQ_Columns': { 'Action': 'Reprice', 'QuoteID': quote_id, 'Part_number': Part_number, 'Annual_Quantity': Annual_quantity }
		}, function (data) {
			console.log(data)
			//$('#notify').html(data);
			$('#COMMON_TABS > ul > li.active').click()
		});
	} catch (e) {
		console.log(e);
	}
}
function Repricing_CPS(ele) {
	quote_id = $(".segment_part_number_text").text()
	Part_number = $(ele).closest('tr').children('td:nth-child(5)').text().trim();
	Service_id = $(ele).closest('tr').children('td:nth-child(7)').text().trim();
	Qty = $(ele).closest('tr').children('td:nth-child(8)').text().trim();


	try {
		cpq.server.executeScript("CQPARTSINS", {
			'CPQ_Columns': { 'Action': 'Reprice', 'QuoteID': quote_id, 'Part_number': Part_number, 'Service_id': Service_id }
		}, function (data) {
			console.log(data)
			$('#COMMON_TABS > ul > li.active').click()
		});
	} catch (e) {
		console.log(e);
	}
}
function edit_credits() {
	$('#save_credits_button').show();
	$('#edit_credits_button').hide();
	var edit_index = $("#add_credits_add_new").find("[data-field='CREDIT_APPLIED']").index() + 1;
	$('#add_credits_add_new tbody tr').find('[type="checkbox"]:checked').map(function () {
		var existing_val = $(this).closest('tr').find("td:nth-child(" + edit_index + ")").text();
		$(this).closest('tr').find("td:nth-child(" + edit_index + ")").html('<input class="light_yellow" style="width:100%;">');
		$(this).closest('tr').find("td:nth-child(" + edit_index + ") > input").val(existing_val);
	});
}
function cont_openaddnew(ele, DivName) {
	//Breadcrumb for add new
	//$('ul.breadcrumb').append('<li><a onclick="breadCrumb_redirection(this)"><abbr title="ADD NEW">ADD NEW</abbr></a><span class="angle_symbol"><img src="/mt/APPLIEDMATERIALS_PRD/images/productimages/BREADCRUMB_ICON_TRANS.PNG"></span></li>');
	setTimeout(function () {
		$('.container_banner_inner_sec').css('display', 'none');
	}, 2400);
	//Hide the addnew button after clicked the addnew button
	$('.HideAddNew').css('display', 'none');
	//Hide the addnew button after clicked the addnew button
	//set localstorage to make it USER NAME field as ediatble & non editable based on mode under Approvers subtab in Approval chains tab - start
	localStorage.setItem("ApproverAddNew", "true")
	//set localstorage to make it USER NAME field as ediatble & non editable based on mode under Approvers subtab in Approval chains tab - end
	/* JIRA-ID - A043S001P01-9132 - 'Begin' */
	//A055S000P01-3335 - start
	localStorage.setItem('AddNew', 'true')
	//A055S000P01-3335 - end
	var tab_text = $('ul#carttabs_head .active a span').text();
	$("#ADDNEW__SYOBJR_30345_SYOBJ_00163").hide();
	//A055S000P01-10136

	//A043S001P01-11534 start
	if (DivName == 'div_CTR_Document_Type_Templates' && tab_text == 'Document Type') {
		$('#ADDNEW__SYOBJR_90083_SYOBJ_00244').hide();
	}
	//A043S001P01-11534 end
	if (DivName == 'div_CTR_Constraints' && tab_text == 'Object') {
		$('#ADDNEW__SYOBJR_95825_SYOBJ_00426').hide();
		$('#DROP_CONSTRAINT_BTN').hide();
		$('#RECREATE_CONSTRAINT_BTN').hide();
		$('#SYOBJC_SAVE_CONST').show();
		$('#SYOBJC_CANCEL_CONST').show();

	}
	if (DivName == 'div_CTR_Approvers' && tab_text == 'Approval Chain') {
		val = $(ele).val()
		if (val == undefined) {
			val = $('select#APPROVER_SELECTION_METHOD').val();
		}
		role_val = $('input#ROLE_ID').val();
		profile_val = $('input#PROFILE_ID').val();
		if (val == 'INDIVIDUAL USER') {
			$('input#ROLE_ID').closest('tr').hide();
			$('input#PROFILE_ID').closest('tr').hide();
			//$('input#UNANIMOUS_CONSENT').closest('tr').hide();
			$('input#USERNAME').closest('tr').show();
			$('textarea#CUSTOM_QUERY').attr('disabled', 'disabled');
		} else if (val == 'GROUP OF USERS') {
			if (role_val != "") {
				$('input#ROLE_ID').closest('tr').show();
				$('input#PROFILE_ID').closest('tr').hide();
			} else if (profile_val != "") {
				$('input#ROLE_ID').closest('tr').hide();
				$('input#PROFILE_ID').closest('tr').show();
			} else {
				$('input#ROLE_ID').closest('tr').show();
				$('input#PROFILE_ID').closest('tr').show();
			}
			$('input#USERNAME').closest('tr').hide();
			//$('input#UNANIMOUS_CONSENT').closest('tr').show();
			$('textarea#CUSTOM_QUERY').attr('disabled', 'disabled');
		} else if (val == 'CUSTOM QUERY') {
			$('textarea#CUSTOM_QUERY').removeAttr('disabled');
			$('input#USERNAME').attr('disabled', 'disabled');
			//$('input#UNANIMOUS_CONSENT').closest('tr').show();
			$('input#USERNAME').closest('tr').hide();
			$('input#ROLE_ID').closest('tr').hide();
			$('input#PROFILE_ID').closest('tr').hide();
		}
	}

	var first_record_feild = '';
	/* JIRA-ID - A043S001P01-9132 - 'End' */

	//$(ele).closest('ul.dropdown-menu').parent('.dropdown').css('display','none');

	//start---A043S001P01-7185
	$('html').css('cssText', 'overflow-y:hidden !important');
	awd_rec_id = ''
	//end---A043S001P01-7185
	if (DivName == '') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	} else if (DivName == undefined && tab_text == 'Objects') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}
	//A043S001P01-11419 start

	// ADD FAB POPUP STARTS JOE
	else if (DivName == undefined && tab_text == 'Quote') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}
	else if (DivName == undefined && tab_text == 'Quotes') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}
	// ADD FAB POPUP ENDS JOE
	else if (DivName == "div_CTR_Source_Fab_Locations" || DivName == "div_CTR_Involved_Parties_Equipments") {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}
	else if (DivName == undefined && localStorage.getItem("CommonTreeParam") == 'Sending Equipment') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}
	else if (DivName == undefined && tab_text == 'Profile') {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("divid", DivName);
	}
	//A043S001P01-11419 end
	else if (DivName == 'RelatedDetail') {
		localStorage.setItem("divid", DivName);
		first_record_id = localStorage.getItem("CurrentRecordId");
		if (localStorage.getItem('PrcTreeParam') == 'Price Classes') {
			table_id = 'PRPMCL';
		} else if (localStorage.getItem('PrcTreeParam') == 'Pricebook Sets') {
			table_id = 'PRLPBS';
		}
	} else {
		localStorage.setItem("divid", DivName);
	}
	if (document.getElementById(DivName)) {
		document.getElementById(DivName).innerHTML = '';
	}

	setTimeout(function () {
		$('input#COUNTRIES').css('cssText', 'border:0 !important;float:left;');
		$('#VIEW_DIV_ID a').attr('tabindex', '-1');
	}, 1500);

	table_id = $(ele).attr('id');
	ele_text = $(ele).text();
	localStorage.setItem('cont_table_id', '');
	localStorage.setItem('XX_cont_table_id', table_id);

	if ($(ele).closest('.pop__view_page_hide').attr('id') == "replace_account") {
		table_id = "ADDNEW__SYOBJR_98798_SYOBJ_00910"
		ele_text = "REPLACE"
	}

	if (table_id == 'ADDNEW__SYOBJR_95800_SYOBJ_00267') {
		first_record_id = ""
	}
	if (table_id == 'ADDNEW__SYOBJR_95800_SYOBJ_00458') {
		first_record_id = ""
	}
	// A043S001P01-10888 START
	if (table_id == 'ADDNEW__SYOBJR_94452_SYOBJ_00425') {
		val_text = $('.product_txt_to_top').text()
		data_rec = val_text.split('SYROMA')
		first_record_id = data_rec[0]
		localStorage.setItem("keyData", first_record_id)
	}
	// A043S001P01-10888 END
	else if (DivName != 'RelatedDetail') {
		first_record_id = localStorage.getItem("keyData");
	}


	if (table_id == 'ADDNEW__SYOBJR_93121_SYOBJ_00263') {
		first_record_feild = 'QSTN_R_SYOBJR_93121'
	} else if (table_id == 'ADDNEW__SYOBJR_93180_SYOBJ_00288') {
		first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
		awd_rec_id = node.id;
	} else if (DivName == 'RelatedDetail') {
		first_record_feild = ''
		localStorage.setItem("divid", DivName);
		first_record_id = localStorage.getItem("CurrentRecordId");
		if (localStorage.getItem('PrcTreeParam') == 'Price Classes') {
			table_id = 'PRPMCL';

		} else if (localStorage.getItem('PrcTreeParam') == 'Pricebook Sets') {
			table_id = 'PRLPBS';
		}
	} else {
		first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
	}
	// Added the code to set the div as empty
	if (document.getElementById(DivName)) {
		document.getElementById(DivName).innerHTML = '';
	}
	curTabName = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();

	// Added the code to set the div as empty
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);
	localStorage.setItem('cont_table_id', table_id);
	//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	CurrentTab = $("ul#carttabs_head li.active a span").text();

	//Added for A043S001P01-7590 - Start
	var Country_val = Country_rec_val = "";

	if (CurrentTab == "Quotes" || CurrentTab == "App") {
		TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	}

	//Added for A043S001P01-7590 - End
	//A043S001P01-8978 STARTS
	//document.getElementById(DivName).innerHTML = "";
	//A043S001P01-8978 ENDS
	if (table_id == 'ADDNEW__SYOBJR_98857_SYOBJ_00919') {
		DivName = "VIEW_DIV_ID"
	}
	if (table_id == 'ADDNEW__SYOBJR_98798_SYOBJ_00910' && ele_text == 'REPLACE') {
		first_record_id = localStorage.getItem('replacingAccount');
	}
	//A055S000P01-11826 start
	if (table_id == 'ADDNEW__SYOBJR_98871_SYOBJ_002649') {
		var acct_rpl = $(ele).closest('tr').find('td:nth-child(3) a abbr').attr('id');
		localStorage.setItem("acct_rpl", acct_rpl);
	}
	//A055S000P01-11826 end
	if (ele_text == "ADD TEMP TOOL") {
		button_name = "TEMP_TOOL"
	}
	else if (ele_text == "REPLACE") {
		button_name = "REPLACE"
	}
	else {
		button_name = "EQUIPMENT"
	}
	localStorage.setItem('TOOL_TYPE', button_name)
	try {
		cpq.server.executeScript("SYUADNWPOP", {
			'TABLEID': table_id,
			'OPER': 'NO',
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': '',
			'LOOKUPOBJ': '',
			'LOOKUPAPI': '',
			'selected_country_list': [],
			'selected_program_list': [],
			'DIVNAME': DivName,
			'AwdRecordID': awd_rec_id,
			'TreeParentParam': TreeParentParam,
			'ADDON_PRD_ID': localStorage.getItem('TreeParamRecordId'),
			'TOOL_TYPE': button_name,
			'SUBTAB': $('#COMMON_TABS ul li.active').text().trim()
		}, function (data) {
			date_field = data[3];
			var assoc = data[1];
			var api_name = data[2];
			data4 = data[4];
			data5 = data[5];
			data6 = data[6];
			data7 = data[7];
			data8 = data[8];
			data9 = data[9];
			data10 = data[10];
			data11 = data[11];
			data12 = data[12];
			data13 = data[13];
			localStorage.setItem("selected_item", JSON.stringify(data7))
			localStorage.setItem("selected_item_program", JSON.stringify(data8))
			table_id = localStorage.getItem('cont_table_id')
			if (localStorage.getItem("currentSubTab") == "Attachments") {
				attachfile();
			}
			if (table_id == 'ADDNEW__SYOBJR_98788_SYOBJ_00907') {
				document.getElementById(DivName).innerHTML = data[0];
				try {
					$('#offerings-addnew-model').bootstrapTable({
						data: date_field
					});
				} catch (err) {
					setTimeout(function () {
						$('#offerings-addnew-model').bootstrapTable({
							data: date_field
						});
					}, 5000);
				} finally { }
				$('#add-offerings-model-footer').html(data6)
				eval(data4);
				eval(data5);
				// ADD FAB FUNCTIONALITY STARTS JOE
			} else if (table_id == 'ADDNEW__SYOBJR_98797_SYOBJ_00937') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#equipments_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#equipments_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#equipments_footer').html(data6)
					eval(data4);
					eval(data5);
					$('#cont_viewModalSection').css('display', 'block');
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("btnhide").style.display = 'None';
					document.getElementById("equipments_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#equipments_addnew').addClass('brd1_pad5');
				}
			} else if (table_id == 'ADDNEW__SYOBJR_98882_SYOBJ_1177093') {
				$('#cont_viewModalSection').css('display', 'block');
				$("#cont_viewModalSection").addClass("in");
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					var gb_index = $("#nso_addnew").find("[data-field='GREENBOOK']").index() + 1;
					var division_index = $("#nso_addnew").find("[data-field='DIVISION_ID']").index() + 1;
					var bu_index = $("#nso_addnew").find("[data-field='BUSINESS_UNIT']").index() + 1;
					var poss_nso_index = $("#nso_addnew").find("[data-field='POSS_NSO_PART_ID']").index() + 1;
					var poss_desc_index = $("#nso_addnew").find("[data-field='POSS_NSO_DESCRIPTION']").index() + 1;

					try {
						$('#nso_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#nso_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally {
						//A055S000P01-18702 - Changed the .html tag to .attr and added title
						$('#nso_addnew > tbody > tr').each(function () {
							var html_text = $(this).find('td:nth-child(' + gb_index + ')').text();
							$(this).find('td:nth-child(' + gb_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + division_index + ')').text();
							$(this).find('td:nth-child(' + division_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + bu_index + ')').text();
							$(this).find('td:nth-child(' + bu_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + poss_nso_index + ')').text();
							$(this).find('td:nth-child(' + poss_nso_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + poss_desc_index + ')').text();
							$(this).find('td:nth-child(' + poss_desc_index + ')').attr('title', html_text);
						})
					}
					$('#nso_addnew_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					// document.getElementById("btnhide").style.display = 'None';
					document.getElementById("nso_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#nso_addnew').addClass('brd1_pad5');
				}
			} else if (table_id == 'UNMAPPED__SYOBJR_98797_SYOBJ_00937') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#unmapped_equipments_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#unmapped_equipments_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#unmapped_equipments_footer').html(data6)
					eval(data4);
					eval(data5);
					$('#cont_viewModalSection').css('display', 'block');
					$("#cont_viewModalSection").addClass("in");
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("btnhide").style.display = 'None';
					document.getElementById("unmapped_equipments_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#unmapped_equipments_addnew').addClass('brd1_pad5');
				}
			} else if (table_id == 'ADDNEW__SYOBJR_00032_SYOBJ_1177087') {//sending fab add new popup...
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#add_fablocation_fts').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#add_fablocation_fts').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#fablocation_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("add_fablocation_fts").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#add_fablocation_fts').addClass('brd1_pad5');
				}
			} else if (table_id == 'ADDNEW__SYOBJR_00033_SYOBJ_1177088') {//sending equipment add new popup...
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#fts_equipments_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#fts_equipments_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#sending_equipments_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("fts_equipments_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#fts_equipments_addnew').addClass('brd1_pad5');
				}
			} /*else if (table_id == 'ADDNEW__SYOBJR_00038_SYOBJ_00919') {//receiving fab add new popup...
					if (date_field != 'NORECORDS') {
						document.getElementById(DivName).innerHTML = data[0];
						try {
							$('#add_receiving_fab').bootstrapTable({
								data: date_field
							});
						} catch (err) {
							setTimeout(function () {
								$('#add_receiving_fab').bootstrapTable({
									data: date_field
								});
							}, 5000);
						} finally { }
						$('#add_receiving_fab_footer').html(data6)
						eval(data4);
						eval(data5);
					} else {
						document.getElementById(DivName).innerHTML = data[0];
						document.getElementById("add_receiving_fab").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
						$('#add_receiving_fab').addClass('brd1_pad5');
					}
					// ADD FROM EQUIPMENT TOOL RELOCATION STARTS..
				}*/ else if (table_id == 'ADDNEW__SYOBJR_00040_SYOBJ_00937') {//receiving equipment add new popup...
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#add_receiving_equipment').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#add_receiving_equipment').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#add_receiving_equipment_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("add_receiving_equipment").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#add_receiving_equipment').addClass('brd1_pad5');
				}
				// ADD FROM EQUIPMENT TOOL RELOCATION STARTS..
			}
			else if (table_id == 'ADDNEW__SYOBJR_98798_SYOBJ_00910' && ele_text == "REPLACE") {
				$('#cont_viewModalSection').modal('show')
				if (date_field != 'NORECORDS' || date_field.length > 1) {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#replace-account').bootstrapTable({
							data: date_field
						});
						$('#replace-account > tbody > tr').each(function () {

							var element = $(this).find('td:nth-child(5)');
							var text = $(element).text();
							$(element).attr('title', text);

						});
					} catch (err) {
						setTimeout(function () {
							$('#replace-account').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#replace-account-model-footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById("replace-account").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#replace-account').addClass('brd1_pad5');
					$('#replace-account').addClass('brd1_pad5');
				}
				$('#cont_viewModalSection').css('display', 'block');
				$('#replace_account').css('display', 'none');
			}
			else if (table_id == 'ADDNEW__SYOBJR_98789_SYOBJ_00919' || table_id == 'ADDNEW__SYOBJR_00038_SYOBJ_00919') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#fablocation_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#fablocation_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#fablocation_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					//document.getElementById("btnhide").style.display = 'None';
					document.getElementById("fablocation_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#fablocation_addnew').addClass('brd1_pad5');
				}
				// ADD FROM EQUIPMENT TOOL RELOCATION STARTS..
			} else if (table_id == 'ADDNEW__SYOBJR_98858_SYOBJ_01034') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#involved_parties_equipment_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#involved_parties_equipment_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#involved_parties_equipment_addnew_footer').html(data6)
					eval(data4);
					eval(data5);
					$("#cont_viewModalSection").css('display', 'block');
					$("#cont_viewModalSection").addClass("in");
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("btnhide").style.display = 'None';
					document.getElementById("involved_parties_equipment_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#involved_parties_equipment_addnew').addClass('brd1_pad5');
				}
				$('#cont_viewModalSection').css('display', 'block');
				// ADD FROM EQUIPMENT TOOL RELOCATION ENDS..
				//ADDON PRODUCTS
			} else if (table_id == 'ADDNEW__SYOBJR_98880_SYOBJ_1177045') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					var edit_index = $("#add_credits_add_new").find("[data-field='ZAFNOTE']").index() + 1;
					var zaftype_index = $("#add_credits_add_new").find("[data-field='ZAFTYPE']").index() + 1;
					var zafgb_index = $("#add_credits_add_new").find("[data-field='ZAFGBOOK']").index() + 1;
					var zuonr_index = $("#add_credits_add_new").find("[data-field='ZUONR']").index() + 1;
					var gjahr_index = $("#add_credits_add_new").find("[data-field='GJAHR']").index() + 1;
					var gaf_expirydate_index = $("#add_credits_add_new").find("[data-field='ZAFEXPIRY_DATE']").index() + 1;
					var belnr_index = $("#add_credits_add_new").find("[data-field='BELNR']").index() + 1;
					var unapplied_index = $("#add_credits_add_new").find("[data-field='UNBL_INGL_CURR']").index() + 1;
					var creditapplied_index = $("#add_credits_add_new").find("[data-field='CREDIT_APPLIED']").index() + 1;
					try {
						$('#add_credits_add_new').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#add_credits_add_new').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally {
						//A055S000P01-18702 - Changed the .html tag to .attr and added title
						$('#add_credits_add_new > tbody > tr').each(function () {
							var html_text = $(this).find('td:nth-child(' + edit_index + ')').text();
							$(this).find('td:nth-child(' + edit_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + zaftype_index + ')').text();
							$(this).find('td:nth-child(' + zaftype_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + zafgb_index + ')').text();
							$(this).find('td:nth-child(' + zafgb_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + zuonr_index + ')').text();
							$(this).find('td:nth-child(' + zuonr_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + gjahr_index + ')').text();
							$(this).find('td:nth-child(' + gjahr_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + gaf_expirydate_index + ')').text();
							$(this).find('td:nth-child(' + gaf_expirydate_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + belnr_index + ')').text();
							$(this).find('td:nth-child(' + belnr_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + unapplied_index + ')').text();
							$(this).find('td:nth-child(' + unapplied_index + ')').attr('title', html_text);
							var html_text = $(this).find('td:nth-child(' + creditapplied_index + ')').text();
							$(this).find('td:nth-child(' + creditapplied_index + ')').attr('title', html_text);
						})
					}
					var edit_index = $("#add_credits_add_new").find("[data-field='CREDIT_APPLIED']").index() + 1;
					$('#add_credits_add_new > tbody > tr').each(function () { $(this).find('td:nth-child(' + edit_index + ')').text(''); });
					$('#add_credits_addnew_footer').html(data6)
					if (data4.includes("SACVNT.")) {
						data_4 = data4.replace("SACVNT.", "")
					}
					try {
						eval(data4);
						eval(data5);
					}
					catch {
						console.log("exception occured")
					}
					$("#cont_viewModalSection").css('display', 'block');
					$("#cont_viewModalSection").addClass("in");
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("btnhide").style.display = 'None';
					document.getElementById("add_credits_addnew_footer").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#add_credits_addnew_footer').addClass('brd1_pad5');
				}
				$('#cont_viewModalSection').css('display', 'block');
				$(".bs-checkbox input").after("<span class=\'lbl\'></span>");
				$(".bs-checkbox input").addClass("custom");
				$('.custom').attr('onchange', 'credit_button_enable()');
				// ADD FROM EQUIPMENT TOOL RELOCATION ENDS..
				//ADDON PRODUCTS
			} else if (table_id == 'ADDNEW__SYOBJR_98859_SYOBJ_00975') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#ad').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#Include_add_on_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#Include_add_on_addnew').bootstrapTable({
						data: date_field
					});
					$('#Include_add_on_addnew_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("btnhide").style.display = 'None';
					document.getElementById("Include_add_on_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#Include_add_on_addnew').addClass('brd1_pad5');
				}
				$('#cont_viewModalSection').css('display', 'block');
				$('#cont_viewModalSection').addClass('in');
			} else if (table_id == 'ADDNEW__SYOBJR_98857_SYOBJ_01033') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#source_fablocation_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#source_fablocation_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#source_fablocation_footer').html(data6)
					eval(data4);
					eval(data5);
					$("#cont_viewModalSection").css('display', 'block');
					$("#cont_viewModalSection").addClass("in");
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					//document.getElementById("btnhide").style.display = 'None';
					document.getElementById("source_fablocation_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#source_fablocation_addnew').addClass('brd1_pad5');
					$("#cont_viewModalSection").css('display', 'block');
					$("#cont_viewModalSection").addClass("in");
					$("#source_fab_header").css('display', 'block');
				}
			} else if (table_id == 'ADDNEW__SYOBJR_98800_SYOBJ_00904') {
				if (date_field != 'NORECORDS' && date_field != "") {
					document.getElementById(DivName).innerHTML = data[0];
					var edit_index = $("#Coveredobjectsaddnew").find("[data-field='TEMP_TOOL']").index() + 1;
					try {
						$('#Coveredobjectsaddnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#Coveredobjectsaddnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					}
					$('#Coveredobjectsaddnew_footer').html(data6)
					eval(data4);
					eval(data5);
					$("#cont_viewModalSection").css('display', 'block');
					$("#cont_viewModalSection").addClass("in");
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					// document.getElementById("btnhide").style.display = 'None';
					$("#Coveredobjectsaddnew > tbody").html('<tr class="noRecDisp"><td colspan="7" class="txt_al_lt_imp">No Records to Display</td></tr>');
					$('#add-offerings').css('display', 'none');
					$('#Coveredobjectsaddnew').addClass('brd1_pad5');
				}
				// ADD FAB FUNCTIONALITY ENDS JOE
			} else if (table_id == 'ADDNEW__SYOBJR_30118_SYOBJ_00176' || table_id == 'ADDNEW__SYOBJR_30320_SYOBJ_00176') {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					setTimeout(function () {
						PopupListHyperLink('programAward_preview', 'AWDLVL');
					}, 1000);
					try {
						$('#programAward_preview').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#programAward_preview').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#programAward_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("btnhide").style.display = 'None';
					document.getElementById("programAward_preview").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#programAward_preview').addClass('brd1_pad5');
				}
			} else if (table_id == 'ADDNEW__SYOBJR_95800_SYOBJ_00458') {
				//A043S001P01-9915 strat
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#assignedUsers_addnew').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#assignedUsers_addnew').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#assignedapp_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("country_save").style.display = 'None';
					document.getElementById("assignedUsers_addnew").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#assignedUsers_addnew').addClass('brd1_pad5');
				}
				//A043S001P01-9915  end
			} else if (table_id == 'ADDNEW__SYOBJR_98871_SYOBJ_002649') {
				$('#cont_viewModalSection').modal('show')
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					try {
						$('#contact_replace_addnew_model').bootstrapTable({
							data: date_field
						});
					} catch (err) {
						setTimeout(function () {
							$('#contact_replace_addnew_model').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#contact_replace_addnew_model_footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					//document.getElementById("btnhide").style.display = 'None';
					document.getElementById("contact_replace_addnew_model").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#contact_replace_addnew_model').addClass('brd1_pad5');
				}
				$('#cont_viewModalSection').css('display', 'block');
				// ADD FROM EQUIPMENT TOOL RELOCATION STARTS..
			} else if (table_id == "ADDNEW__SYOBJR_00029_SYOBJ_1177034" || table_id == "ADDNEW__SYOBJR_00005_SYOBJ_00272") {
				if (date_field != 'NORECORDS') {
					document.getElementById(DivName).innerHTML = data[0];
					if (assoc) {
						$.each(assoc, function (key, value) {
							$('#' + DivName + ' #container #' + key).val(value);
							// Added for hiding and showing attribute based on picklist value selection under Approvers subtab Add NEW- start
							if (DivName == 'div_CTR_Approvers' && tab_text == 'Approval Chain') {
								val = $('#APPROVER_SELECTION_METHOD option:selected').text();
								if (val == '..Select') {
									//$('input#UNANIMOUS_CONSENT').closest('tr').hide();
									$('input#USERNAME').closest('tr').hide();
									$('input#ROLE_ID').closest('tr').hide();
									$('input#PROFILE_ID').closest('tr').hide();
									$('textarea#CUSTOM_QUERY').closest('tr').hide();
								}
								else if (val == '') {
									//$('input#UNANIMOUS_CONSENT').closest('tr').hide();
									$('input#USERNAME').closest('tr').hide();
									$('input#ROLE_ID').closest('tr').hide();
									$('input#PROFILE_ID').closest('tr').hide();
									$('textarea#CUSTOM_QUERY').closest('tr').hide();
								}
							}
							// Added for hiding and showing attribute based on picklist value selection under Approvers subtab Add NEW- end
							if (DivName == 'div_CTR_PRICE_MODEL_+_METHOD_COMBINATIONS') {
								DivName1 = "[id^='div_CTR_PRICE_MODEL_+_METHOD_COMBINATIONS']"
								$(DivName1 + ' #container #' + key).val(value);
							}
							else if ((DivName == 'div_CTR_Cart_Fields') && (CurrentTab == 'Material')) {
								$('div#div_CTR_Cart_Fields').prev(".container_banner_inner_sec").css("display", "none");
								$('div#div_CTR_Cart_Fields div#container').css('text-align', 'left');
							}
							else if (table_id == 'ADDNEW__SYOBJR_98798_SYOBJ_00910') { //to display involved parties add in section
								$('#fablocation_addnew').html('');
								$("#cont_viewModalSection").css('display', 'none');
								if (TreeParam != 'Customer Information') {
									setTimeout(() => { $('.container_banner_inner_sec').css('display', 'block'); }, 1000);
								}
							}
						});
					}
					try {
						$('#parts-addnew-model').bootstrapTable({
							data: date_field
						});
						$("#ADDNEW__SYOBJR_00013_SYOBJ_01023").css("display", "none");
					} catch (err) {
						setTimeout(function () {
							$('#parts-addnew-model').bootstrapTable({
								data: date_field
							});
						}, 5000);
					} finally { }
					$('#add-parts-model-footer').html(data6)
					eval(data4);
					eval(data5);
				} else {
					document.getElementById(DivName).innerHTML = data[0];
					document.getElementById("parts-addnew-model").innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#parts-addnew-model').addClass('brd1_pad5');
				}
			}
			else {
				localStorage.setItem("adnw_btn_hide", "yes")
				if (document.getElementById(DivName)) {
					document.getElementById(DivName).innerHTML = data[0];
					$("#PARTY_ID").attr('readonly', 'true');
					$("#PARTY_ID").addClass("lookupBg")
					if (assoc) {
						$.each(assoc, function (key, value) {
							$('#' + DivName + ' #container #' + key).val(value);
							// Added for hiding and showing attribute based on picklist value selection under Approvers subtab Add NEW- start
							if (DivName == 'div_CTR_Approvers' && tab_text == 'Approval Chain') {
								val = $('#APPROVER_SELECTION_METHOD option:selected').text();
								if (val == '..Select') {
									//$('input#UNANIMOUS_CONSENT').closest('tr').hide();
									$('input#USERNAME').closest('tr').hide();
									$('input#ROLE_ID').closest('tr').hide();
									$('input#PROFILE_ID').closest('tr').hide();
									$('textarea#CUSTOM_QUERY').closest('tr').hide();
								}
								else if (val == '') {
									//$('input#UNANIMOUS_CONSENT').closest('tr').hide();
									$('input#USERNAME').closest('tr').hide();
									$('input#ROLE_ID').closest('tr').hide();
									$('input#PROFILE_ID').closest('tr').hide();
									$('textarea#CUSTOM_QUERY').closest('tr').hide();
								}
							}
							// Added for hiding and showing attribute based on picklist value selection under Approvers subtab Add NEW- end
							if (DivName == 'div_CTR_PRICE_MODEL_+_METHOD_COMBINATIONS') {
								DivName1 = "[id^='div_CTR_PRICE_MODEL_+_METHOD_COMBINATIONS']"
								$(DivName1 + ' #container #' + key).val(value);
							}
							else if ((DivName == 'div_CTR_Cart_Fields') && (CurrentTab == 'Material')) {
								$('div#div_CTR_Cart_Fields').prev(".container_banner_inner_sec").css("display", "none");
								$('div#div_CTR_Cart_Fields div#container').css('text-align', 'left');
							}
							else if (table_id == 'ADDNEW__SYOBJR_98798_SYOBJ_00910') { //to display involved parties add in section
								$('#fablocation_addnew').html('');
								$("#cont_viewModalSection").css('display', 'none');
								if (TreeParam != 'Customer Information') {
									setTimeout(() => { $('.container_banner_inner_sec').css('display', 'block'); }, 1000);
								}
							}
						});
					}
					//A043S001P01-12245 code starts... Changed the position of save and cancel button to secondary banner.
					// ADDED CONDIIONS TO FIX THE ISSUE BASED UPON THE ADD NEW TO SHOW/HIDE SAVE AND CANCEL BUTTON.

					//A043S001P01-12624 STARTS

					if ($("div#seginnerbnr").length > 0) {
						if ($("#" + table_id).parent().attr('id') == 'seginnerbnr') {
							$('div#seginnerbnr').each(function () {
								ButtonName = $(this).children('button').text()
							});

							if ((ButtonName == 'ADD NEW') || (ButtonName == 'ADD NEWDELETE') || (ButtonName.includes('ADD NEW')) || (ButtonName == '')) {
								$('#HideSavecancel').remove();
								$('#' + table_id).css('display', 'none');
								$('div#seginnerbnr').append(data13);
							}

							$('.ma_text_align_sixteen').css('display', 'none');
						} else {
							$('.ma_text_align_sixteen').css('display', 'block');
						}
					}

					if ($("div#PRICE_segmentButton").length > 0) {
						if ($("#" + table_id).parent().attr('id') == 'PRICE_segmentButton') {
							$('div#PRICE_segmentButton').each(function () {
								ButtonName = $(this).children('button').text()
							});

							if (ButtonName == 'ADD NEW') {
								$('#HideSavecancel').remove();
								$('div#PRICE_segmentButton').append(data13);
							}

							$('.ma_text_align_sixteen').css('display', 'none');
						} else {
							$('.ma_text_align_sixteen').css('display', 'block');
						}
					}

					//A043S001P01-12624 ENDS

					/*if (tab_text == 'Price Model'){
						$('div#PRICE_segmentButton').each(function(){
							buttonlength = $(this).children('button').length
							ButtonName = $(this).children('button').text()
							console.log('buttonlength',buttonlength)
							console.log('buttonname',ButtonName)
							console.log('data13_data13',data13);
						});

						if (ButtonName == 'ADD NEW'){
							$('#HideSavecancel').remove();
							$('div#PRICE_segmentButton').append(data13);
						}


					}*/


					//A043S001P01-12245 code ends....Changed the position of save and cancel button to secondary banner.
					if (api_name) {
						$('#' + DivName + ' #container #' + api_name).val(first_record_id);
					}

					if ((date_field.length !== 0) && (date_field != 'NORECORDS') && (date_field != 'OWNED_DATE')) {
						$.each(date_field, function (key, value) {
							onclick_datepicker(value)
						});
					}


					//A055S000P01-3335 - start
					// if (localStorage.getItem("AddNew")=="true"){
					// 	$('.datepicker').css('display','none');
					// }
					//A055S000P01-3335 - end
					//Added for A043S001P01-7590 - Start

					// A043S001P01-12612 -> Starts
					if (table_id == "ADDNEW__SYOBJR_90020_SYOBJ_00177") {
						if ($('div#SEGREV_SegmentButtons').find("#PAACSP").length == 0) {
							$('div#SEGREV_SegmentButtons').append('<button id="PAACSP" onclick="popup_cont_SAVE(this,\'div_CTR_AVAILABLE_DELIVERY_PLANTS\')" class="btnconfig ">SAVE</button><button type="button" id= "PAACSP_CANCEL" class="btnconfig" onclick="loadRelatedList(\'SYOBJR-90020\',\'div_CTR_AVAILABLE_DELIVERY_PLANTS\')">CANCEL</button>');
						} else {
							$('div#SEGREV_SegmentButtons').find("#PAACSP").css('display', 'block');
							$('div#SEGREV_SegmentButtons').find("#PAACSP_CANCEL").css('display', 'block');
						}
					}

					if (table_id == "ADDNEW__SYOBJR_00013_SYOBJ_01023") {
						$('textarea#ADVANCED_CONDITION').closest('tr').hide();
						$(document).on("change", "#CONDITIONS_MET", function (e) {
							var prev = $('#CONDITIONS_MET option:selected').text();
							if (prev == "ADVANCED") {
								$('textarea#ADVANCED_CONDITION').closest('tr').show();
							} else {
								$('textarea#ADVANCED_CONDITION').closest('tr').hide();
							}
						});

					}

					// A043S001P01-12612 -> Ends
					// A043S001P01-12995 -> Starts

					// A043S001P01-12995 -> Ends
				}
			}
		});

	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		$('.in .modal-dialog .modal_vh_div table tbody tr td input').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}
		});
		$('.in .modal-dialog .modal_vh_div table tbody tr td select').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}
		});
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt" ></div>');
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();
		if (table_heigth > popUp_height) {
			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');
		}



	}, 1500);
	localStorage.setItem('triggerRelated', '1');
	//$('.modal-dialog').css('cssText', 'width:900px !important;');



}
// A043S001P01-10888 START
function roles_addnew(ele, DivName) {
	first_record_id = $('.product_txt_to_top_banner').text()
	localStorage.setItem("keyData", first_record_id)
	localStorage.setItem('cont_table_id', 'ADDNEW__SYOBJR_94452_SYOBJ_00425')
	localStorage.setItem('XX_cont_table_id', 'ADDNEW__SYOBJR_94452_SYOBJ_00425')
	try {
		cpq.server.executeScript("SYPRADDNEW", {
			'ACTION': 'ROLE USER',
			'RECORD_ID': first_record_id
		}, function (dataset) {
			document.getElementById(DivName).innerHTML = dataset[0];
			$('#ADDNEW__SYOBJR_94452_SYOBJ_00425').css('display', 'none');
			$('#cancelUser').css('display', 'block');
			$('#SYROUS').css('display', 'block');

		});
	} catch (e) {
		console.log(e);
	}
}

// Pricing call


function roleuser_cancel() {
	loadRelatedList('SYOBJR-94452', 'div_CTR_Role_Users')
	$('#ADDNEW__SYOBJR_94452_SYOBJ_00425').css('display', 'block');
	$('#cancelUser').css('display', 'none');
	$('#SYROUS').css('display', 'none');
}
// A043S001P01-10888 END
function cont_attraddnew(ele) {
	ctr_name = $(ele).closest('p').parent().parent().attr('name')
	table_id = $(ele).attr('id');
	first_record_id = localStorage.getItem("keyData");
	first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);
	localStorage.setItem('cont_table_id', table_id)
	if (ctr_name == 'CTR_SYSEFL_MA_00382') {
		localStorage.setItem('ctr_name', ctr_name)
	} else {
		localStorage.setItem('ctr_name', '')
	}

	try {
		cpq.server.executeScript("SYUADNWPOP", {
			'TABLEID': table_id,
			'OPER': 'NO',
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': '',
			'LOOKUPOBJ': '',
			'LOOKUPAPI': ''
		}, function (data) {
			date_field = data[3];
			var assoc = data[1];
			var api_name = data[2];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data[0];
				if (assoc) {
					$.each(assoc, function (key, value) {
						$('#VIEW_DIV_ID #container #' + key).val(value);
					});
				}
				if (api_name) {
					$('#VIEW_DIV_ID #container #' + api_name).val(first_record_id);
				}
				if (date_field.length !== 0) {
					$.each(date_field, function (key, value) {
						onclick_datepicker(value)
					});
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		$('.in .modal-dialog .modal_vh_div table tbody tr td input').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}
		});
		$('.in .modal-dialog .modal_vh_div table tbody tr td select').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}
		});
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div clas="ht_bg_wd_pt"></div>');
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();
		if (table_heigth > popUp_height) {
			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');
		}
	}, 1000);
	localStorage.setItem('triggerRelated', '1');
	//$('.modal-dialog').css('cssText', 'width:900px !important;');
}

function cont_openedit(ele) {
	$('html').css('cssText', 'overflow-y:hidden !important');

	setTimeout(function () {
		$('#VIEW_DIV_ID a').attr('tabindex', '-1');
		localStorage.setItem("TextAreaReadOnlyMode", "0");
		textAreaAccess();
	}, 2000);
	ids = $(ele).closest('tr').attr('id');
	var table_id = $(ele).closest('table').attr('id')
	localStorage.setItem('cont_table_id', table_id);
	var lable = [];
	$("table#" + table_id + " thead tr th .th-inner").each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT' && $(this).text().trim() != 'STATUS') {
			lable.push($(this).text().trim())
		}
	});
	localStorage.setItem('cont_lable', lable)
	var value = [];
	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != '!') {
			value.push($(this).text().trim())
		}
	});

	localStorage.setItem('cont_value', value)
	first_record_id = localStorage.getItem("keyData");
	table = first_record_id.split('-')[0];
	if (table == 'MAATVL') {
		localStorage.setItem('operation_state', 'MAATVL');
	}
	first_record_feild = $('#attributesContainer .Detail input').first().attr('id');
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);
	try {
		cpq.server.executeScript("SYLDPPRVAE", {
			'RETURN': 'EDIT',
			'OPERATION': 'EDIT',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVAL': ''
		}, function (datas) {
			data = datas[0];
			date_field = datas[1];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
			if (date_field.length !== 0) {
				$.each(date_field, function (key, value) {
					onclick_datepicker(value)
				});
			}
			setTimeout(function () {
				$('[data-toggle="popover"]').popover();
			}, 500);
		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		var b = $('#QSTN_SYSEFL_MA_05164').val();
		var a = $('#HELP_TEXT').val();
		if (a != b) {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-info-circle').after('<i class="fa fa-warning drkred" ></i>');
		} else {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
		}
		$('.in .modal-dialog .modal_vh_div table tbody tr td input').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('border', '1px solid #dcdcdc');
			}
		});
		$('.in .modal-dialog .modal_vh_div table tbody tr td select').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('border', '1px solid #dcdcdc');
			}
		});
		$('div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd94_pt"></div>');
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container .bootstrap-table .fixed-table-body table').height();
		if (table_heigth > popUp_height) {
			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('width', '94.3%');
		}
		//$('.modal-dialog').css('cssText', 'width:900px !important;');
		$('input').each(function () {
			var inp = $(this).val();
			if (/^[-+]?[0-9]+\.[0-9]+$/.test(inp)) {
				$(this).attr('type', 'number');
			}
		});
	}, 1000);
}

function cont_delete(ele) {
	$('html').css('cssText', 'overflow-y:hidden !important');
	ids = $(ele).closest('tr').attr('id');
	var table_id = $(ele).closest('table').attr('id');
	localStorage.setItem('cont_table_id', table_id); //CHANGED FOR A043S001P01-9198,8975
	if (table_id == 'SYOBJR_93123_SYOBJ_00458') {
		Record_id = $(ele).closest('tr').find('td:nth-child(4) a abbr').text();
	} else {
		Record_id = $(ele).closest('tr').find('td:nth-child(3) a abbr').text();
	}

	localStorage.setItem('SeccrtyRecId', Record_id);
	//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	CurrentTab = $("ul#carttabs_head li.active a span").text();

	if (CurrentTab == "Price Agreement") {
		var attr = $(ele).attr('data-delete');
		if (typeof attr !== typeof undefined && attr !== false && attr == "Yes") {
			if (document.getElementById("DEL_MODAL_SECTION")) {
				document.getElementById("DEL_MODAL_SECTION").innerHTML = "Price Agreement should have atleast one revision.";
			}
			SR_ID = $(ele).closest('tr').find('td:nth-child(4) abbr').text();
			$('#cont_viewModalDelete #relatedDelete').html("INFORMATION : DELETE " + SR_ID + " Revision");
			$('#cont_viewModalDelete #deleteMSG').html("Price Agreement should have atleast one revision.");
			$('#cont_viewModalDelete .modal-footer button').each(function () {
				if ($(this).text() == 'DELETE') {
					$('#cont_viewModalDelete .close').css("display", 'none');
					$(this).css('display', 'none');
				}
			});
			setTimeout(function () {
				$('#cont_viewModalDelete').modal('show');
			}, 10);
			$('div#cont_viewModalDelete .modal-dialog').css('cssText', 'width:550px !important;');
			return;
		}
	}
	var lable = [];
	$("table#" + table_id + " thead tr th .th-inner").each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT' && $(this).text().trim() != 'STATUS') {
			lable.push($(this).text().trim());
		}
	});
	localStorage.setItem('cont_lable', lable);
	var value = [];
	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != '!') {
			value.push($(this).text().trim());
		}
	});
	//CHANGED FOR A043S001P01-9198,8975 (START).
	var lab = table_id.split("_").slice(0, 2);
	var grid_id = lab.join("-");
	//A043S001P01-11419 Start
	if (table_id == 'SYOBJR_95800_SYOBJ_00458') {
		var deleteRecord = $(ele).closest('ul').closest('td').closest('tr').children('td:nth-child(5)').text();
	} else {
		var deleteRecord = $(ele).closest('ul').closest('td').closest('tr').children('td:nth-child(3)').text();
	}
	//A043S001P01-11419 End
	try {
		cpq.server.executeScript("SYDELCNMSG", {
			'Record_Id': deleteRecord,
			'Grid_Id': grid_id,
			'Action': 'old'
		}, function (dataset) {

			bannerText = dataset[0];
			warningText = dataset[1];
			if (document.getElementById("delete_container_div")) {

				document.getElementById("delete_container_div").innerHTML = warningText;
			}
			$('.in #relatedDelete').html(bannerText);
			$('.in #deleteMSG').html(warningText);

		});
	} catch (e) {
		console.log(e);
	}
	localStorage.setItem('cont_value', value);
	//CHANGED FOR A043S001P01-9198,8975 (END).
	localStorage.setItem('delete_cont_values', "1");
	//$('.modal-dialog').css('cssText', 'width:550px !important;');
}

function cont_delete_button(ele) {
	$('html').css('cssText', 'overflow-y:hidden !important');
	var table_id = "SYOBJR_90078_SYOBJ_00273";
	localStorage.setItem('cont_table_id', table_id); //CHANGED FOR A043S001P01-9198,8975
	Record_id = $("input#PRICEAGREEMENT_REVISION_RECORD_ID").val();

	localStorage.setItem('SeccrtyRecId', Record_id);
	//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	CurrentTab = $("ul#carttabs_head li.active a span").text();

	if (CurrentTab == "Price Agreement") {
		var attr = $(ele).attr('data-delete');
		if (typeof attr !== typeof undefined && attr !== false && attr == "Yes") {
			if (document.getElementById("DEL_MODAL_SECTION")) {
				document.getElementById("DEL_MODAL_SECTION").innerHTML = "Price Agreement should have atleast one revision.";
			}
			SR_ID = $("input#AGMREV_ID").val();
			$('#cont_viewModalDelete #relatedDelete').html("INFORMATION : DELETE " + SR_ID + " Revision");
			$('#cont_viewModalDelete #deleteMSG').html("Price Agreement should have atleast one revision.");
			$('#cont_viewModalDelete .modal-footer button').each(function () {
				if ($(this).text() == 'DELETE') {
					$('#cont_viewModalDelete .close').css("display", 'none');
					$(this).css('display', 'none');
				}
			});
			setTimeout(function () {
				$('#cont_viewModalDelete').modal('show');
			}, 10);
			$('div#cont_viewModalDelete .modal-dialog').css('cssText', 'width:550px !important;');
			return;
		} else {
			var lable = ["ACTIONSSearch", "Key", "Revision ID", "Revision Status", "Complete", "Approved", "Published", "Active", "Active Begin Date", "Active End Date"];
			localStorage.setItem('cont_lable', lable);
			var value = ["VIEWDELETE", Record_id, $("input#SEGREV_ID").val(), "PREPARING REVISION"];
			var lab = table_id.split("_").slice(0, 2);
			var grid_id = lab.join("-");
			//A043S001P01-11419 End
			try {
				cpq.server.executeScript("SYDELCNMSG", {
					'Record_Id': Record_id,
					'Grid_Id': grid_id,
					'Action': 'old'
				}, function (dataset) {

					bannerText = dataset[0];
					warningText = dataset[1];
					$('#cont_viewModalDelete #relatedDelete').html(bannerText);
					$('#cont_viewModalDelete #deleteMSG').html(warningText);
					setTimeout(function () {
						$('#cont_viewModalDelete').modal('show');
					}, 10);
					$('div#cont_viewModalDelete .modal-dialog').css('cssText', 'width:550px !important;');

				});
			} catch (e) {
				console.log(e);
			}
			localStorage.setItem('cont_value', value);
			//CHANGED FOR A043S001P01-9198,8975 (END).
			localStorage.setItem('delete_cont_values', "1");
		}
	}
}

function popup_cont_DELETE_cancel() {
	$('html').css('cssText', 'overflow-y:auto !important');
	//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	CurrentTab = $("ul#carttabs_head li.active a span").text();

	if (CurrentTab == "Price Agreement" && AllTreeParam["TreeParentLevel0"] == 'Unpublished') {
		$('#cont_viewModalDelete').modal('hide');
		return;
	}
	var lable = localStorage.getItem('cont_lable');
	var value = localStorage.getItem('cont_value');
	var table_id = localStorage.getItem('cont_table_id')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");
	try {
		cpq.server.executeScript("SYLDPPRVAE", {
			'RETURN': '0',
			'OPERATION': 'VIEW',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVAL': ''
		}, function (datas) {
			data = datas[0];
			date_field = datas[1];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
			if (date_field.length !== 0) {
				$.each(date_field, function (key, value) {
					onclick_datepicker(value)
				});
			}

			setTimeout(function () {
				$('[data-toggle="popover"]').popover();
			}, 500);

		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		//	$('.modal-dialog').css('cssText', 'width:900px !important;');
	}, 600);
}

function popup_cont_DELETE(elm) {
	//start--A043S001P01-7185
	$('html').css('cssText', 'overflow-y:auto !important');
	//end--A043S001P01-7185
	var table_id = $(elm).attr("id");
	localStorage.setItem('cont_view_tableid', table_id)
	input_val = []
	pop_id = []
	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});
	// Updated for A043S001P01-9200 start
	localStorage.setItem("related_list_load", "");
	localStorage.setItem('cont_view_lables', input_val)
	localStorage.setItem('cont_view_values', pop_id)
	var gridId = localStorage.getItem("cont_table_id");
	var grid_id = gridId.split("_").slice(0, 2).join("-");
	//A043S001P01-12088 code starts..
	//var RecordId = $($('#VIEW_MODAL_SECTION').find('input')[0]).val(); It throws an error.
	var RecordId = $('div#container table#relpopup tbody tr td input').val();
	//A043S001P01-12088 code ends..
	try {
		cpq.server.executeScript("SYDELETALL", {
			'LABLE': pop_id,
			'VALUE': input_val,
			'TABLEID': table_id,
			'OPERATION': 'FIRST',
			'GridID': grid_id,
			'RecordId': RecordId
		}, function (data) {
			bannerText = data[0];
			warningText = data[1];
			if (document.getElementById("DEL_MODAL_SECTION")) {
				document.getElementById("DEL_MODAL_SECTION").innerHTML = data;
			}
			$('.in #relatedDelete').html(bannerText);
			$('.in #deleteMSG').html(warningText);
		});
	} catch (e) {
		console.log(e);
	}
	// Updated for A043S001P01-9200 end
	$('div#relcont_viewModalDelete > .modal-dialog, div#cont_viewModalDelete .modal-dialog').css('cssText', 'width:550px !important;');
}

function cont_view_delete() {
	var RECORD = localStorage.getItem("cont_view_tableid");
	label = localStorage.getItem("cont_view_lables");
	value = localStorage.getItem("cont_view_values");
	try {
		cpq.server.executeScript("SYDELETALL", {
			'LABLE': label,
			'VALUE': value,
			'TABLEID': RECORD,
			'OPERATION': 'SECOND'
		}, function (data) {
			localStorage.setItem("related_list_load", "");
			$('.BTN_MA_ALL_REFRESH').click();
			$("body").removeClass("modal-open");
			$("body").css("padding-right", "");
			drop_down_selected_list = [];
		});
	} catch (e) {
		console.log(e);
	}
	$('div#DEL_MODAL_VIEW .modulesecbnr.brdr button.close').trigger('click');
	$('div#cont_viewModalSection div#VIEW_MODAL_SECTION div#VIEW_DIV_ID div.row.modulebnr.brdr button.close').trigger('click');
	localStorage.setItem('triggerRelated', '1');
	//A043S001P01-12088 code starts Hide the popup after deleted the record.
	$('#cont_viewModalSection').css('display', 'none');
	//A043S001P01-12088 code ends Hide the popup after deleted the record.
}

function recreateConstraint(ele) {
	if (localStorage.getItem("cont_value")) {
		Record_id = localStorage.getItem("cont_value").split(",")[2];
	} else {
		Record_id = $("input#QSTN_SYSEFL_SY_00517").val()
	}
	if (AllTreeParam != 'undefined' && CurrentTab == "Object") {
		try {
			cpq.server.executeScript("SYDRPCONST", {
				'ObjectName': Record_id,
				'Action': 'RECREATE'
			}, function (data) {
				$(".BTN_MA_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
	}
}


function dropConstraint(ele) {
	var Record_id = $(".segment_part_number_text").text();
	if (Record_id == '') {
		Record_id = $("input#QSTN_SYSEFL_SY_00517").val()
	}
	if (AllTreeParam != 'undefined' && CurrentTab == "Object") {
		try {
			cpq.server.executeScript("SYDRPCONST", {
				'ObjectName': Record_id,
				'Action': 'BULK_DELETE'
			}, function (data) {
				$(".BTN_MA_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
	}
}

function cont_modalDelete() {

	var RECORD = localStorage.getItem("cont_table_id");
	label = localStorage.getItem("cont_lable");
	value = localStorage.getItem("cont_value");
	Object_name = localStorage.getItem("cont_value").split("#")[2];

	if (Object_name == "SYOBJC") {
		contrsinttype = localStorage.getItem("cont_value").split("#")[0];
		Record_id = localStorage.getItem("cont_value").split("#")[1];
		Object_name = localStorage.getItem("cont_value").split("#")[2];
	} else {
		Record_id = localStorage.getItem("cont_value").split(",")[2];
		Object_name = localStorage.getItem("cont_value").split(",")[1].split("-")[0];
	}
	//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	CurrentTab = $("ul#carttabs_head li.active a span").text();

	var AllTreeParamlevel = JSON.parse(AllTreeParams)
	var AllTreeParamlevel1 = JSON.stringify(AllTreeParams)
	//console.log('3788-----AllTreeParamlevel----------',AllTreeParamlevel["TreeParam"])
	//console.log('3788-----TreeParam----------',AllTreeParamlevel1["TreeParam"])
	if (AllTreeParam != 'undefined' && CurrentTab == "Object") {
		if (typeof AllTreeParam == 'string') {
			//AllTreeParamlevel = JSON.parse(AllTreeParam)

		}
		if (AllTreeParamlevel["TreeParam"] == 'Constraints' || AllTreeParamlevel["TreeParentLevel0"] == 'Constraints') {
			try {
				cpq.server.executeScript("SYDRPCONST", {
					'ObjectName': Object_name,
					'Action': 'DELETE',
					'Values': value
				}, function (data) {
					data1 = data[1];
					//$(".BTN_MA_ALL_REFRESH").click();
					if (data1 != "") {
						$('#SegAlert').css('display', 'block');
						$('#lblSegAlert').css('display', 'block');
						if (document.getElementById("lblSegAlert")) {
							document.getElementById("lblSegAlert").innerHTML = "NOT NULL constraints can't be dropped  due to associated Constraints . Please contact your Administrator.";
							//if (data[0].includes("ERROR")) {
							$('div#lblSegAlert').addClass("alert-danger")
							//}
						}
						//else{
						//$(".BTN_MA_ALL_REFRESH").click();
						//}
					} else {
						$(".BTN_MA_ALL_REFRESH").click();
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
	} else if (typeof AllTreeParams != 'undefined' && CurrentTab == "Price Agreement") {
		if (AllTreeParam["TreeParam"] == 'Service Model' || AllTreeParam["TreeParentLevel0"] == 'Service Model' || AllTreeParam["TreeParentLevel1"] == 'Service Model') {
			try {
				cpq.server.executeScript("PACRUDOPTN", {
					'ObjectName': Object_name,
					'Opertion': 'DELETE',
					'NodeType': 'SERVICE MODEL',
					'Values': Record_id
				}, function (data) {
					//A043S001P01-11725	Code Start
					// A043S001P01-12148 -> Starts
					if (AllTreeParam["TreeParentLevel0"] == 'Service Model') {
						SG_SM_AWDL_DETAIL();
						SG_LEFT_TREE_REFRESH();
						AwardLevels();
					} else if (AllTreeParam["TreeParentLevel1"] == 'Service Model') {
						SG_SM_AWDLGRP_DETAIL();
						SG_LEFT_TREE_REFRESH();
						SegDefaultAwardLevelGroups();
					} else {
						SG_SM_PRGD_DETAILS();
						SG_LEFT_TREE_REFRESH();
					}
					// A043S001P01-12148 -> Ends
					//A043S001P01-11725 Code End
				});
			} catch (e) {
				console.log(e);
			}
		} else {
			try {
				cpq.server.executeScript("SYALRELADL", {
					'LABLE': label,
					'VALUE': value,
					'ID': RECORD,
					'OPERATION': 'DELETE'
				}, function (data) {
					localStorage.setItem("related_list_load", "");
					$("body").removeClass("modal-open");
					$("body").css("padding-right", "");
					var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();
					var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');
					localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
					var fff_test = localStorage.getItem('before_click_on_edit_lstg');
					localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
					var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');
					$('.' + active_before_click_on_edit).trigger('click');
					localStorage.setItem('triggerRelated', '1');
					//A043S001P01-11725 code start
					if (AllTreeParam["TreeParentLevel1"] == 'Service Model') {
						// A043S001P01-12148 -> Starts
						SG_SM_AWDLGRP_DETAIL();
						SG_LEFT_TREE_REFRESH();
						SegDefaultAwardLevelGroups();
						// A043S001P01-12148 -> Ends
					} else {
						$(".BTN_MA_ALL_REFRESH").click();
					}
					//A043S001P01-11725  code end

				});
			} catch (e) {
				console.log(e);
			}
		}
	} else {
		try {
			cpq.server.executeScript("SYALRELADL", {
				'LABLE': label,
				'VALUE': value,
				'ID': RECORD,
				'OPERATION': 'DELETE'
			}, function (data) {
				localStorage.setItem("related_list_load", "");
				$("body").removeClass("modal-open");
				$("body").css("padding-right", "");
				var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();
				var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');
				localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
				var fff_test = localStorage.getItem('before_click_on_edit_lstg');
				localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
				var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');
				$('.' + active_before_click_on_edit).trigger('click');
				localStorage.setItem('triggerRelated', '1');
				$(".BTN_MA_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
	}
	//A043S001P01-9108 strat
	if (RECORD == "SYOBJR_93123_SYOBJ_00458") {
		$('#MM_ALL_REFRESH').click();
	}
	//A043S001P01-9108 End
	$('div#cont_viewModalSection div#VIEW_MODAL_SECTION div#VIEW_DIV_ID .row.modulebnr.brdr button.close').trigger('click');
}

//A043S001P01-9518 Start
function cont_modalDeleteUser() {
	var RECORD = localStorage.getItem("cont_table_id");

	label = localStorage.getItem("cont_lable");
	value = localStorage.getItem("cont_value");

	try {
		cpq.server.executeScript("SYDELETEFN", {
			'LABLE': label,
			'VALUE': value,
			'ID': RECORD,
			'OPERATION': 'DELETE'
		}, function (data) {
			localStorage.setItem("related_list_load", "");
			$("body").removeClass("modal-open");
			$("body").css("padding-right", "");
			var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();
			var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');
			localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
			var fff_test = localStorage.getItem('before_click_on_edit_lstg');
			localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
			var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');
			$('.' + active_before_click_on_edit).trigger('click');
			localStorage.setItem('triggerRelated', '1');
			$(".BTN_MA_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}
	//A043S001P01-9108 strat
	if (RECORD == "SYOBJR_93123_SYOBJ_00458") {
		$('#MM_ALL_REFRESH').click();
	}
	//A043S001P01-9108 End
	$('div#cont_viewModalSection div#VIEW_MODAL_SECTION div#VIEW_DIV_ID .row.modulebnr.brdr button.close').trigger('click');
}
//A043S001P01-9518 End

function opencreate(ele) {
	localStorage.setItem("QST_ACTION", "EDIT");
	if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Apps') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tabs') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Objects') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Sections') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Questions') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Messages') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Variables') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Actions') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else {
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	}

	if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Apps') > -1) {
		try {
			cpq.server.executeScript("SYMCMOOPRN", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Apps',
				'ACTION': 'EDIT'
			}, function () {
				//$("#MM_ALL_REFRESH").click();
				$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MODL_Refresh").click();
		$("#MM_ALL_REFRESH").click();
		//document.getElementById("createtab").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tabs') > -1) {
		try {
			cpq.server.executeScript("SYMCTABSOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Tabs',
				'ACTION': 'EDIT'
			}, function (data) {
				//$("#MM_ALL_REFRESH").click();
				$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		//document.getElementById("createtab").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Actions') > -1) {
		try {
			cpq.server.executeScript("SYACTIOPRN", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Actions',
				'ACTION': 'EDIT'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();
		setTimeout(function () {
			$('input#MM_ACT_ATTR_NAME').removeAttr('disabled');
		}, 3000);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Sections') > -1) {
		try {
			cpq.server.executeScript("SYMCSECTOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Sections',
				'ACTION': 'EDIT'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Questions') > -1) {
		try {
			cpq.server.executeScript("SYMCQSTNOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Questions',
				'ACTION': 'EDIT'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		document.getElementById("createtab").click();
		try {
			cpq.server.executeScript("custObj", {}, function (data) {
				localStorage.setItem("qst_cust_obj", data);
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Messages') > -1) {
		try {
			cpq.server.executeScript("SYMCMSGOPR", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Messages',
				'ACTION': 'EDIT'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MSG_Refresh").click();
		document.getElementById("createtab").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Variables') > -1) {
		try {
			cpq.server.executeScript("SYMCVARIED", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Variables',
				'ACTION': 'EDIT'
			}, function () {
				$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		$('#BTN_MA_ALL_REFRESH').click();
		document.getElementById("createtab").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Scripts') > -1) {

		try {
			cpq.server.executeScript("SYSCRITAED", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Scripts',
				'ACTION': 'EDIT'
			}, function () {
				$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		document.getElementById("createtab").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Objects') > -1) {

		try {
			cpq.server.executeScript("SYMOBJTAED", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Objects',
				'ACTION': 'EDIT'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		document.getElementById("createtab").click();
	}

	$("#MM_ALL_REFRESH").click();

	setTimeout(DelayRefreshCall(), 2000)
	/* NEW CODE START*/
	var row_id_value = ele.title;
	if (row_id_value) {
		var test = 'tr#' + row_id_value
		var test1 = test + ' td.DATA.TYPE';
		var data_type_saved_value = $(test1).text().trim();
		localStorage.setItem("data_type_saved_cont", data_type_saved_value);
		var get_txt = localStorage.getItem("data_type_saved_cont");
	} /* NEW CODE END*/
}

function systemadmin_delete(ele) {
	if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tabs') > -1) {
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);



		var act_tab = $('ul#carttabs_head .active a span').text();


		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Variables') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');

		var tabname = $('ul#carttabs_head li.active a span').text().trim();
		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);

		try {
			cpq.server.executeScript("SYDELETEFN", {
				'Primary_Data': Primary_Data,
				'TabNAME': tabname,
				'ACTION': 'SYVABL'
			}, function () {
				//$("#MM_ALL_REFRESH").click();
				//$('#BTN_MA_ALL_REFRESH').click();

			});
		} catch (e) {
			console.log(e);
		}



	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Messages') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');

		var tabname = $('ul#carttabs_head li.active a span').text().trim();
		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);

		try {
			cpq.server.executeScript("SYDELETEFN", {
				'Primary_Data': Primary_Data,
				'TabNAME': tabname,
				'ACTION': 'SYMSGS'
			}, function () {
				//$("#MM_ALL_REFRESH").click();
				//$('#BTN_MA_ALL_REFRESH').click();
				$("#MM_MSG_Refresh").click();
			});
		} catch (e) {
			console.log(e);
		}



	} else {

	}




}

function viewcreate(ele) {
	localStorage.setItem("QST_ACTION", "VIEW");
	if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Apps') > -1) {
		//ids = $(ele).closest('tr').attr('id');

		//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		if (Primary_Data == '') {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tabs') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Objects') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Questions') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Messages') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Sections') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Actions') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Scripts') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Variables') > -1) {
		localStorage.setItem('mod_cof_id', '');
		var table_id = $(ele).closest('table').attr('id');


		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		} else {
			//Primary_Data = Primary_Data_list[0];
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);

		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	} else {
		ids = $(ele).closest('tr').attr('id');

		Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

		var table_id = $(ele).closest('table').attr('id');


		//Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
		//Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

		if (Primary_Data_list.length > 1) {
			Primary_Data = Primary_Data_list[0]
		} else {
			Primary_Data = Primary_Data_list[0];
			//Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		if (Primary_Data == '') {
			Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		}
		localStorage.setItem("mod_cof_id", Primary_Data);
		localStorage.setItem('avoid_loading', '1');
		localStorage.setItem("bannerContentValueReset", '0');

		var act_tab = $('ul#carttabs_head .active a span').text();
		localStorage.setItem('KeyValueToTable', act_tab);

		localStorage.setItem('keyData', Primary_Data);
	}

	if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Apps') > -1) {
		try {
			cpq.server.executeScript("SYMCMOOPRN", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Apps',
				'ACTION': 'VIEW'
			}, function () {
				//$("#MM_ALL_REFRESH").click();
				$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MODL_Refresh").click();
		$("#MM_ALL_REFRESH").click();
		//document.getElementById("createtab").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Scripts') > -1) {
		try {
			cpq.server.executeScript("SYSCRIPADD", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Scripts',
				'ACTION': 'VIEW'
			}, function () {
				$("#MM_ALL_REFRESH").click();
				//$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MODL_Refresh").click();
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tabs') > -1) {
		try {
			cpq.server.executeScript("SYMCTABSOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Tabs',
				'ACTION': 'VIEW'
			}, function (data) {
				$('#BTN_MA_ALL_REFRESH').click();
				//$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		//document.getElementById("createtab").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Actions') > -1) {
		try {
			cpq.server.executeScript("SYACTIOPRN", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Actions',
				'ACTION': 'VIEW'
			}, function () {
				$("#MM_ALL_REFRESH").click();
				//$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MSG_Refresh").click();

		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();
		//$('input#MM_ACT_ATTR_NAME').attr('disabled','disabled');
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Sections') > -1) {
		try {
			cpq.server.executeScript("SYMCSECTOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Sections',
				'ACTION': 'VIEW'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Questions') > -1) {
		try {
			cpq.server.executeScript("SYMCQSTNOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Questions',
				'ACTION': 'VIEW'
			}, function () {
				$("#MM_ALL_REFRESH").click();
				//$('#BTN_MA_ALL_REFRESH').click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Messages') > -1) {
		try {
			cpq.server.executeScript("SYMCMSGOPR", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Messages',
				'ACTION': 'VIEW'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MSG_Refresh").click();

		document.getElementById("createtab").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Variables') > -1) {
		try {
			cpq.server.executeScript("SYMCVARIED", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Variables',
				'ACTION': 'VIEW'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tables') > -1) {
		//cpq.server.executeScript("", { 'Primary_Data': Primary_Data, 'TabNAME': 'Tables' , 'ACTION': 'VIEW'}, function() {

		//});

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Integrations') > -1) {
		//cpq.server.executeScript("", { 'Primary_Data': Primary_Data, 'TabNAME': 'Integrations' , 'ACTION': 'VIEW'}, function() {

		//});

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Scripts') > -1) {
		try {
			cpq.server.executeScript("SYSCRIPADD", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Script',
				'ACTION': 'VIEW'
			}, function (data) {

				$("#MM_ALL_REFRESH").click();

			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Objects') > -1) {

		try {
			cpq.server.executeScript("SYMOBJVIEW", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Object',
				'ACTION': 'VIEW'
			}, function (data) {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();
		document.getElementById("createtab").click();

	}

	$("#MM_ALL_REFRESH").click();

	$("#MM_MSG_Refresh").click();
	$("#MM_TABS_Refresh").click();
	setTimeout(DelayRefreshCall(), 2000);

}

localStorage.setItem('parent_obj_check_redirect', '0');

function closecreate(active_tab_name) {
	localStorage.setItem("Banner_Hiding_Var", '0');
	var active_tab_name_txt = $(active_tab_name).text().trim();

	localStorage.setItem('active_tab_name_text', active_tab_name_txt);

	localStorage.setItem('avoid_loading', '0');
	localStorage.setItem("page_reload_2", "0");
	localStorage.setItem('before_click_on_edit_lstg', '');
	localStorage.setItem('active_before_click_on_edit_lstg', '');

	localStorage.setItem('parent_obj_check_redirect', '1');
	var test = localStorage.getItem('parent_obj_check_redirect');

	var check_this_list = [];
	//localStorage.setItem('KeyValueToTable','');
	localStorage.setItem("RelatedEdit", "0");
	localStorage.setItem("Action_Text", "");
	localStorage.setItem("record_number", "");
	localStorage.setItem("record_id_number", "");
	localStorage.setItem("related_list_load", "");
	localStorage.setItem("first_li_txt", "");

	try {
		cpq.server.executeScript("SYMCMODBTL")

		//$('.BTN_MA_ALL_REFRESH').click();
		/*setTimeout(function () {
			//$('.createclose').trigger('click');
		}, 1500);*/
	} catch (e) {
		console.log(e);
	}
	localStorage.setItem("mod_cof_id", "");

	//$('.rel_in_edit').removeAttr('id');
	/*try {
		cpq.server.executeScript("SYSCRIPBTL")

		//$('.BTN_MA_ALL_REFRESH').click();
		setTimeout(function () {
			//	$('.createclose').trigger('click');
		}, 1500);
	} catch (e) {
		console.log(e);
	}*/
	localStorage.setItem("mod_cof_id", "");
	$('.rel_in_edit').removeAttr('id');

	localStorage.setItem("lis_selected_value", "");
	localStorage.setItem("selectedDropdown", "");

	localStorage.setItem("hide_related_details_tab_closecreate", "1");

	var material_active_tab_change = $('ul#carttabs_head li.active a span').text();

	var material_active_tab_li_txt_changes = $('div#attributesContainer .tabbable.show-large.tabsmenu ul#carttabs_head li.dropdown.pull-right.tabdrop.active ul.dropdown-menu li.active').text().trim();

	if (material_active_tab_li_txt_changes) {
		material_active_tab_change = material_active_tab_li_txt_changes;
	}
	localStorage.setItem("first_li_txt", material_active_tab_change);

}
//A043S001P01-10791 Start
function RefreshOnchange(ele) {
	var table_id = $(ele).closest('table').attr('id');


	Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

	ids = $(ele).closest('tr').attr('id');
	//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()
	ids = $(ele).closest('table').attr('id');
	//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
	Primary_Data_list = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
	if (Primary_Data_list.length == 2) {
		Primary_Data = Primary_Data_list[0]
	} else if (Primary_Data_list.length == 1) {
		//Primary_Data = Primary_Data_list[0]
		Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
	}

	if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Apps') > -1) {

		try {
			cpq.server.executeScript("SYMCMODPRD", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Apps',
				'ACTION': 'REFRESH'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MODL_Refresh").click();
		$("#MM_ALL_REFRESH").click();

		if (Primary_Data == "SYAPPS-MC-00023") {
			window.location.href = "https://rssandbox.webcomcpq.com/Catalogue/CategoryTree.aspx"

		}
	}

}
//A043S001P01-10791 end
function DeleteOnchange(ele) {

	ids = $(ele).closest('tr').attr('id');
	Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

	Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
	if (Primary_Data_list.length == 2) {
		Primary_Data = Primary_Data_list[0]
	} else if (Primary_Data_list.length == 1) {
		Primary_Data = Primary_Data_list[0]
	}

	if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Apps') > -1) {

		try {
			cpq.server.executeScript("SYMCMOOPRN", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Apps',
				'ACTION': 'DELETE'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MODL_Refresh").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tabs') > -1) {
		try {
			cpq.server.executeScript("SYMCTABSOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Tabs',
				'ACTION': 'DELETE'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Actions') > -1) {
		try {
			cpq.server.executeScript("SYACTIOPRN", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Actions',
				'ACTION': 'DELETE'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_Act_Refresh").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Sections') > -1) {
		try {
			cpq.server.executeScript("SYMCSECTOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Sections',
				'ACTION': 'DELETE'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_SEC_Refresh").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Questions') > -1) {
		try {
			cpq.server.executeScript("SYMCQSTNOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Questions',
				'ACTION': 'DELETE'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}

		$("#MM_ALL_REFRESH").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Messages') > -1) {
		try {
			cpq.server.executeScript("SYMCMSGOPR", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Messages',
				'ACTION': 'DELETE'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_MSG_Refresh").click();
	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Variables') > -1) {
		try {
			cpq.server.executeScript("SYMCVARIED", {
				'Primary_Data': Primary_Data,
				'TabNAME': 'Variables',
				'ACTION': 'DELETE'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Tables') > -1) {
		//cpq.server.executeScript("", { 'Primary_Data': Primary_Data, 'TabNAME': 'Tables' , 'ACTION': 'DELETE'}, function() {

		//});

	} else if ($('ul#carttabs_head li.active a span').text().trim().indexOf('Integrations') > -1) {
		//cpq.server.executeScript("", { 'Primary_Data': Primary_Data, 'TabNAME': 'Integrations' , 'ACTION': 'DELETE'}, function() {

		//});

	}

	setTimeout(DelayRefreshCall(), 2000)
	$("#MM_ALL_REFRESH").click();
}

$("#no-more-tables table.table.table-bordered tbody tr td.column-with-actions.dropdown .btn-group.dropdown button").click(function () {

	//var a = $(this).closest('tr').children('td').length;
	var b = $(this).closest('tr').children('td').text();

	try {
		cpq.server.executeScript("SYMCVARIED", {}, function (data) { });
	} catch (e) {
		console.log(e);
	}
});

$(window).bind("load", function () {

	$("td.Module.Status").each(function () {

		var a = $(this).text();

		var b = a.trim();
		if (b == 'NEW') {
			//$(this).closest('tr').css('color','red');

			//$(this).closest('tr').children('td ul.dropdown-menu.left li a.dropdown-item.test').hide();

			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item.Refreshbtn').css('display', 'none');

		} else if (b == 'DEPLOYED') {
			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item.Refreshbtn').css('display', 'none');
			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item.Deploybtn').css('display', 'none');

		} else {
			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item.Deploybtn').css('display', 'none');
		}

	});

});

$(window).bind("load", function () {

	$("td.Tab.Type").each(function () {

		var aa = $(this).text();

		var ba = aa.trim();
		if (ba == 'SUMMARY') {

			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item.hidedelbtn').css('display', 'none');
			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item#editbtn').css('display', 'none');

		} else { }

	});
});

$(window).bind("load", function () {
	$("td.Module.Status").each(function () {
		var deploy = $(this).text();
		var deptrim = deploy.trim();
		if (deptrim == 'NEW') {
			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item.Refreshbtn').css('display', 'none');
		} else {
			$(this).closest('tr').find('td ul.dropdown-menu.left li a.dropdown-item.Deploybtn').css('display', 'none');
		}
	});
});

function popup() {
	$("#objContainer").css("display", "block");
	try {
		cpq.server.executeScript("SYMCMOBJOP", {
			'Primary_Data': '',
			'TabNAME': 'Objects',
			'ACTION': 'ADDNEW'
		}, function () {
			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}
}

function popupReindexEXPRESSION() {

	var OBJ_TableName = $("input#MM_OBJ_TBL_NAME").val();
	var OBJ_REC_ID = $("input#MM_OBJ_REC_ID").val();
	try {
		cpq.server.executeScript("SYOBINVIEW", {
			'Primary_Data': OBJ_TableName,
			'RECORD_ID': OBJ_REC_ID,
			'ACTION': 'ADDNEW_INDEXEXPRESSION'
		}, function (datas) {
			date_field = datas[3];
			var assoc = datas[1];
			var api_name = datas[2];
			data4 = datas[4];
			data5 = datas[5];
			data6 = datas[6];
			if (date_field != 'NORECORDS') {
				if (document.getElementById("OBJ_IN_ADD_EXP")) {
					document.getElementById("OBJ_IN_ADD_EXP").innerHTML = datas[0];

				}
				try {
					$('#indexExpression_addnew').bootstrapTable({
						data: date_field
					});
				} catch (err) {
					setTimeout(function () {
						$('#indexExpression_addnew').bootstrapTable({
							data: date_field
						});
					}, 5000);
				} finally { }
				$('#indexexpression_footer').html(data6)
				eval(data4);
				eval(data5);
			}
			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}

}


var get_IndexIdlist = [];

function save_indexexpression() {
	reload_index_val();
	var selected_index_list = [];
	var get_IndexIdlist = [];
	selected_index_list = JSON.parse(localStorage.getItem("selected_index_item"));
	var Primary_Data = $("input#MM_OBJ_TBL_NAME").val();

	$('table#indexExpression_addnew tbody.app_id tr').each(function (index) {
		var classname = $(this).attr('class');

		if (classname == 'selected') {
			var get_Id = $(this).children('td:nth-child(2)').text();
			get_IndexIdlist.push($(this).children('td:nth-child(2)').text());
		}
	});
	localStorage.setItem("SELECTED_INDEXID", JSON.stringify(get_IndexIdlist))
	get_IndexIdlist = get_IndexIdlist.toString();
	$("#myModalTestIndex input#INDEX_EXPRESSION").val(get_IndexIdlist);
	$("#myModalTestconst input#OBJECTFIELD_APINAME").val(get_IndexIdlist);
	try {
		cpq.server.executeScript("SYOBINVIEW", {
			'CURRREC': 'INDEXCOLUMNSAVE',
			'SELECTROW': JSON.parse(localStorage.getItem("SELECTED_INDEXID")),
			'Primary_Data': Primary_Data
		}, function () {

			$('#MM_ALL_REFRESH').click();


		});



	} catch (e) {
		console.log(e);
	}
}
localStorage.setItem("selected_index_item", JSON.stringify([]));

function GS_ADDNEW_INDEX(showResultCount, recordEnd) {
	var Primary_Data = $("input#MM_OBJ_TBL_NAME").val();
	var [table_id, first_record_id, first_record_feild] = ['indexExpression_addnew', $("input#MM_OBJ_TBL_NAME").val(), $('#attributesContainer .Detail input').first().attr('id')];
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);
	var selected_app_list = []
	selected_index_list = JSON.parse(localStorage.getItem("selected_index_item"));
	localStorage.setItem('cont_table_id', table_id)
	try {
		cpq.server.executeScript("SYOBINVIEW", {
			'Primary_Data': Primary_Data,
			'ACTION': 'ADDNEW_INDEXEXPRESSION',
			'Offset_Skip_Count': recordEnd,
			'Fetch_Count': showResultCount,
			'selected_index_list': JSON.parse(localStorage.getItem("selected_index_item"))
		}, function (data) {
			var [date_field, assoc, api_name, data4, data5, data6] = [data[3], data[1], data[2], data[4], data[5], data[6]];
			table_id = localStorage.getItem('cont_table_id')

			try {
				if (date_field == 'NORECORDS') {

				} else {

					$('#indexExpression_addnew').bootstrapTable('load', date_field);
				}
			} catch (err) {
				setTimeout(function () {
					$('#indexExpression_addnew').bootstrapTable('load', date_field);
				}, 5000);
			} finally { }
			$('#indexexpression_footer').html(data6);
			eval(data5);
		});
	} catch (e) {
		console.log(e);
	}
}

function reload_index_val() {
	if (localStorage.getItem("selected_index_item").length == 0) {
		var selected_index_item = [];
	} else {
		var selected_index_item = JSON.parse(localStorage.getItem("selected_index_item"))
	}
	$('table#indexExpression_addnew tbody.app_id tr').each(function (index) {
		var classname = $(this).attr('class');

		if (classname == 'selected') {
			var get_Id = $(this).children('td:nth-child(2)').text();
			get_IndexIdlist.push($(this).children('td:nth-child(2)').text());
		}

		if (jQuery.inArray(get_IndexIdlist, selected_index_item) == -1) {
			selected_index_item.push(get_IndexIdlist);
		}
	});
	var unchecked_index1 = []
	$('table#indexExpression_addnew tbody.app_id tr').each(function (index) {
		var classname = $(this).attr('class');

		if (classname != 'selected') {
			var unchecked_index = $(this).children('td:nth-child(2)').text();
			unchecked_index1.push($(this).children('td:nth-child(2)').text());
		}
	});
	let difference = selected_index_item.filter(x => !unchecked_index1.includes(x));
	localStorage.setItem("selected_index_item", JSON.stringify(difference))
}

function ShowResultCountFunction_GS_ADD_NEW_INDEX_EXP(ele) {
	reload_index_val();
	var recordsStartAndEnd = $("#Rec_Index_Start_End").text();
	var recordEnd = recordsStartAndEnd.split(' ')[0];
	GS_ADDNEW_INDEX(showResultCount = parseInt(ele.value), parseInt(recordEnd));
}

function ShowResultCountFunction_GS_ADD_NEW_INDEX_EXP(ele) {
	reload_index_val();
	var recordsStartAndEnd = $("#Rec_Index_Start_End").text();
	var recordEnd = recordsStartAndEnd.split(' ')[0];
	GS_ADDNEW_INDEX(showResultCount = parseInt(ele.value), parseInt(recordEnd));
}

function GetNextResultFunction_GS_ADD_NEW_INDEX_EXP() {

	reload_index_val();
	var [showResultCount, recordsStartAndEnd] = [$("#ShowResultCountsIndex option:selected").text(), $("#Rec_Index_Start_End").text()];
	var recordEnd = recordsStartAndEnd.split(' ')[2];
	var recordEnd = parseInt(recordEnd) + 1;
	GS_ADDNEW_INDEX(showResultCount = parseInt(showResultCount), recordEnd = parseInt(recordEnd));
}

function GetPreviuosResultFunction_GS_ADD_NEW_INDEX_EXP() {
	reload_index_val();
	var [showResultCount, recordsStartAndEnd] = [$("#ShowResultCountsIndex option:selected").text(), $("#Rec_Index_Start_End").text()];
	var recordEnd = parseInt(recordsStartAndEnd.split(' ')[0]) - parseInt(showResultCount);
	GS_ADDNEW_INDEX(showResultCount = parseInt(showResultCount), recordEnd = parseInt(recordEnd) > 0 ? parseInt(recordEnd) : 0);
}

function GetFirstResultFunction_GS_ADD_NEW_INDEX_EXP() {
	reload_index_val();
	var showResultCount = $("#ShowResultCountsIndex option:selected").text();
	GS_ADDNEW_INDEX(showResultCount = parseInt(showResultCount), recordEnd = 0);
}

function GetLastResultFunction_GS_ADD_NEW_INDEX_EXP() {
	reload_index_val();
	var [showResultCount, totalRecordsCount] = [$("#ShowResultCountsIndex option:selected").text(), $("#TotalIndexCount").text()];
	var recordEnd = parseInt(totalRecordsCount) - parseInt(showResultCount) + 1;
	GS_ADDNEW_INDEX(showResultCount = parseInt(showResultCount), recordEnd = parseInt(recordEnd));
}

function popupReindex() {
	$("#myModalTestIndex").show();

	var OBJ_TableName = $("input#MM_OBJ_TBL_NAME").val();

	var OBJ_REC_ID = $("input#MM_OBJ_REC_ID").val();


	try {
		cpq.server.executeScript("SYOBINVIEW", {
			'Primary_Data': OBJ_TableName,
			'RECORD_ID': OBJ_REC_ID,
			'ACTION': 'ADDNEW'
		}, function (datas) {

			var datas1 = datas

			if (document.getElementById("OBJ_IN_ADD")) {
				document.getElementById("OBJ_IN_ADD").innerHTML = datas1;

			}
			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}
}


function popupconst() {
	$("#myModalTestconst").show();

	var OBJ_TableName = $("input#MM_OBJ_TBL_NAME").val();

	var OBJ_REC_ID = $("input#MM_OBJ_REC_ID").val();


	try {
		cpq.server.executeScript("SYMCMOBJCO", {
			'Primary_Data': OBJ_TableName,
			'RECORD_ID': OBJ_REC_ID,
			'Action': 'ADDNEW'
		}, function (datas) {

			var datas1 = datas

			if (document.getElementById("CONSTRAINT_ADD")) {
				document.getElementById("CONSTRAINT_ADD").innerHTML = datas1;

			}
			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}
	$("#myModalTestconst input#OBJECTFIELD_APINAME").val("");
}

function opencreate_const_VIEW() {
	$("#myModalTestconst").show();

	var OBJ_TableName = $("input#MM_OBJ_TBL_NAME").val();

	var OBJ_REC_ID = $("input#MM_OBJ_REC_ID").val();


	try {
		cpq.server.executeScript("SYMCMOBJCO", {
			'Primary_Data': OBJ_TableName,
			'RECORD_ID': OBJ_REC_ID,
			'Action': 'EDIT'
		}, function (datas) {

			var datas1 = datas

			if (document.getElementById("CONSTRAINT_ADD")) {
				document.getElementById("CONSTRAINT_ADD").innerHTML = datas1;

			}
			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}
}

function Reindex_saveall() {


	try {
		cpq.server.executeScript("SYOBINVIEW", {


			'ACTIONVIEWREINDEX': 'REINDEXALL'
		}, function (datas) {


			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}




}

function obj_Reindex(ele) {

	ids = $(ele).closest('tr').attr('id');

	var table_id = $(ele).closest('table').attr('id');

	var OBJ_TableName = $("input#MM_OBJ_TBL_NAME").val();
	currentRecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();


	try {
		cpq.server.executeScript("SYOBINVIEW", {
			'Primary_Data_grid': currentRecordId,
			'OBJ_TableName': OBJ_TableName,
			'ACTIONVIEW': 'ADDNEW_REINDEXGRID'
		}, function (datas) {


			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}


}

function save_objectconst(ele) {

	var OBJ_CONST_TYPE = $("select#CONSTRAINT_TYPE").val();
	var OBJ_API_NAME = $("input#OBJECT_APINAME").val();
	var OBJ_FIELD_NAME = $("input#OBJECTFIELD_APINAME").val();
	var OBJ_REC_ID = $("input#MM_OBJ_REC_ID").val();
	try {
		cpq.server.executeScript("SYMCMOBJCO", {
			'OBJ_CONST_TYPE': OBJ_CONST_TYPE,
			'OBJ_API_NAME': OBJ_API_NAME,
			'OBJ_FIELD_NAME': OBJ_FIELD_NAME,
			'OBJ_REC_ID': OBJ_REC_ID,
			'Action': 'CONST_SAVE'
		}, function (datas) {


			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}

}

function save_objectindex(ele) {



	localStorage.setItem("REINDEX_ACTION", "SEC_EDIT_SAVE");
	var indexname = $("input#INDEX_NAME").val();
	var obj_rec_indexid = $("input#OBJECT_INDEX_RECORD_ID").val();
	var expression = $("textarea#INDEX_EXPRESSION").val();
	//var expression2 =  $("textarea#INDEX_EXPRESSION_02").val();
	//var expression3 =  $("textarea#INDEX_EXPRESSION_03").val();
	//var expression4 =  $("textarea#INDEX_EXPRESSION_04").val();
	//var expression5 =  $("textarea#INDEX_EXPRESSION_05").val();
	var objname = $("input#OBJECT_APINAME").val();
	var objrcid = $("input#OBJECT_RECORD_ID").val();
	var indexname = $("input#INDEX_NAME").val();
	var indextype = $('select#INDEX_TYPE option:selected').val();




	try {
		cpq.server.executeScript("SYOBINVIEW", {
			'obj_rec_indexid': obj_rec_indexid,
			'indexname': indexname,
			'expression1': expression,
			'objname': objname,
			'indextype': indextype,
			'objrcid': objrcid,
			'ACTION': 'ADDNEW_SAVE'
		}, function (datas) {


			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}
}

function popup_FI_Delete(ele) {
	$("#ObjPopUpDelete").css("display", "block");
	class_id = ele.className
	TR_Count = ''
	if (class_id) {
		TR_Count = class_id.split('__')[1]
	}
	localStorage.setItem("popup_Delete_ok", TR_Count);
}

function ADDNEW_OBJ(ele) {

	localStorage.setItem("QST_ACTION", "ADDNEW");
	try {
		cpq.server.executeScript("SYMCMOBJOP", {
			'Primary_Data': '',
			'TabNAME': 'Objects',
			'ACTION': 'ADDNEW'
		}, function () {

			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}

	document.getElementById("createtab").click();

	$("#MM_ALL_REFRESH").click();

}

function opencreate_FI_VIEW(ele) {

	ids = $(ele).closest('tr').attr('id');
	Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

	Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
	if (Primary_Data_list.length > 1) {
		Primary_Data = Primary_Data_list[0]
	} else {
		Primary_Data = Primary_Data_list[0];
	}

	myModalTest

	class_id = ele.className

	TR_Count = ''
	if (class_id) {

		TR_Count = class_id.split('__')[1]
	}

	try {
		cpq.server.executeScript("SYMCMOBJED", {
			'Primary_Data': Primary_Data
		}, function () { });
	} catch (e) {
		console.log(e);
	}

	$("#objContainer").css("display", "block");
	$("#MM_ALL_REFRESH").click();

}

$('ul#ul_bind li').click(function () {
	localStorage.setItem("Action_Text", "");
	localStorage.setItem("Action_Text_new", "");
});

function dyn_main_sec_collapse(cont) {

	var cont_id = cont.id + ' span';

	$('#' + cont_id).toggleClass('glyphicon-chevron-up glyphicon-chevron-down');

}

function dyn_main_sec_collapse_arrow(ele) {
	$(ele).toggleClass('glyphicon-chevron-down glyphicon-chevron-up');
}

function main_head_arrow() {
	$('.collapse_arrow_main_head').toggleClass('glyphicon-chevron-up glyphicon-chevron-down');
}

function search_onclick() {
	try {
		cpq.server.executeScript("MA_FILTER", {}, function (data) {
			$('.BTN_MA_ALL_REFRESH').click();
		});
	} catch (e) {
		console.log(e);
	}
}

function LookupRel_VIEW(ele) {

	//myModalTest

	class_id = ele.className

	TR_Count = ''
	if (class_id) {

		TR_Count = class_id.split('__')[1]
	}

	//var Lkup_Rel_popup_data=''

	try {
		cpq.server.executeScript("SYMCMOBJRL", {
			'Primary_Data': TR_Count,
			'Mode': 'LOOKUP'
		}, function (data) {

			$('#from').children().remove();
			$('#to').children().remove();
			$.each(data[0], function (index, value) {
				$('<option>').val(value).text(value).appendTo('#to');
			});
			$.each(data[1], function (index, value) {
				$('<option>').val(value).text(value).appendTo('#from');
			});
			$('#add_id').prop('checked', data[2]);
			$('#edit_id').prop('checked', data[3]);
			$('#delete_id').prop('checked', data[4]);
			$('#visibile_id').prop('checked', data[5]);

		});
	} catch (e) {
		console.log(e);
	}

	$("#Lookuprelpopup").css("display", "block");

}

function Ser_Lst_EDIT(ele) {

	//myModalTest

	class_id = ele.className

	TR_Count = ''
	if (class_id) {

		TR_Count = class_id.split('__')[1]
	}

	try {
		cpq.server.executeScript("SYMCMOBJRL", {
			'Primary_Data': TR_Count,
			'Mode': 'SEARCH'
		}, function (data) {

			$('#from_id').children().remove();
			$('#to_id').children().remove();
			$.each(data[1], function (index, value) {
				$('<option>').val(value).text(value).appendTo('#to_id');
			});
			$.each(data[2], function (index, value) {
				$('<option>').val(value).text(value).appendTo('#from_id');
			});

			$('#add_id_new').prop('checked', data[3]);
			$('#edit_id_new').prop('checked', data[4]);
			$('#delete_id_new').prop('checked', data[5]);
			if (data[0] == "Lookup list") {

				$('#mySer_Header_BTN').css('display', 'none');
				$('#mySer_SubHeader_BTN').css('display', 'none');

			}
			if (data[0] == "Tab list") {

				$('#mySer_Header_BTN').css("display", "block");;
				$('#mySer_SubHeader_BTN').css("display", "block");;

			}

		});
	} catch (e) {
		console.log(e);
	}

	$("#SearchLstpopup").css("display", "block");

}

$('table.table.table-bordered.List_Container_header_txt.CTRBTNSTYLE tbody tr').click(function () {
	var idtxt;
	$('table.table.table-bordered.List_Container_header_txt.CTRBTNSTYLE tbody tr').each(function () {
		idtxt = $(this).attr('id');
	});

	var z = 'tr#' + idtxt + ' ul';

	setTimeout(function () {
		var display_value = $(z).css('display');

		if (display_value == 'block') {
			$('.materialMainBan.material_head').css('padding-bottom', '60px');

		} else {
			$('.materialMainBan.material_head').css('padding-bottom', '0px');

		}
	}, 20);
});

$('table.table.table-bordered.List_Container_header_txt.CTRBTNSTYLE tbody tr button').click(function () {
	var idtxt;
	$('table.table.table-bordered.List_Container_header_txt.CTRBTNSTYLE tbody tr').each(function () {
		idtxt = $(this).attr('id');
	});

	var z = 'tr#' + idtxt + ' ul';

	setTimeout(function () {
		var display_value = $(z).css('display');

		if (display_value == 'block') {
			$('.materialMainBan.material_head').css('padding-bottom', '60px');

		} else {
			$('.materialMainBan.material_head').css('padding-bottom', '0px');

		}
	}, 20);
});

$(document).ready(function () {
	$(window).resize(function () {

		localStorage.setItem('set_local_value', '')
		var current_tab_name = $('div#attributesContainer div.row div.tabbable.show-large ul.nav.nav-responsive.nav-tabs li.active').text().trim();

		var current_tab_name_ends = current_tab_name.endsWith('s') || current_tab_name.endsWith('S');
		var current_tab_name_ends_class = current_tab_name.endsWith('class') || current_tab_name.endsWith('CLASS');
		if (current_tab_name_ends) {
			if (current_tab_name_ends_class) { } else {
				$('.except_sec').removeClass('contain_mater');
				$('.search_input_new').css('margin-left', '0px');
				$('.except_sec').css('border', '0');
				$('.search_div').css('margin-top', '0');
			}

			var dis_block = $('.set_float_List').css('display');
			var dis_block_mat = $('.materialMainBan').css('display');
			if (dis_block == 'block' && dis_block_mat == 'block') {
				$('.set_float_List').addClass('set_float_List_style');
				var a = $('.set_float_List').css('width');
				var b = $('.materialMainBan').css('width');
				if (a != '' && b != '') {
					var x = a.slice(0, -2);
					var y = b.slice(0, -2);

					var c = parseInt(x);
					var d = parseInt(y);
					if (c >= d) {
						$('.set_float_List').addClass('set_float_List_style');
					} else {
						$('.set_float_List').removeClass('set_float_List_style');
					}
				}
			}
		} else {
			$('.set_float_List').removeClass('set_float_List_style');
		}

		var last_cont = localStorage.getItem('mat_brd');
		if (last_cont) {
			if (last_cont.indexOf('List') === 0) {
				if (current_tab_name_ends) {

					$('#' + last_cont).css('padding-top', '0px');
				} else {
					$('#' + last_cont).css('border-bottom', '1px solid #ccc');

					$('#' + last_cont).css('padding-top', '0px');
				}
			} else {
				$('#' + last_cont).css('border-bottom', '1px solid #ccc');

			}
		}
		localStorage.setItem('sec_list_container', '0');

		var Container_td = [];
		$('table.table.table-bordered tbody tr:first td.ListContent_Search').each(function (index) {
			Container_td[index] = $(this).css('width');
		});

		var search_total_wid = $('.search_input_new').length;
		$('.search_input_new').each(function (index) {
			if (index == search_total_wid - 1) {
				if (Container_td[index]) {
					var x = Container_td[index].slice(0, -2);

					var aa = parseFloat(x);

					if (current_tab_name_ends) {
						var p = aa - 1;

						p += 'px';

						$(this).css('width', p);

						$(this).css('padding', '2px 3px 3px 3px');
					} else {
						var p = aa + 1;

						p += 'px';

						$(this).css('width', p);

					}

				}
			} else {
				$(this).css('width', Container_td[index]);

			}

		});

		var total = $('.search_span_btn_txt').length;

		$('.search_span_btn_txt').each(function (index) {

			if (index == 0) {

				$(this).css('border-left', '1px solid #bfbfbf');
			}
			if (index == total - 1) { }
		});

		var tot = $('.search_input_new').length;

		$('.search_input_new').each(function (index) {
			if (index == 1) {
				$(this).css('display', 'none');
			}
			if (index == tot - 1) {

				if (current_tab_name_ends) {
					$(this).css('margin-right', '0px');
				} else {
					$(this).css('margin-right', '9.5px');
					$(this).css('border-right', '1px solid #bfbfbf');
					$(this).css('padding', '2px 3px 3px 3px');
				}
			}
		});

		var hei = 0;
		$('.List_Container_header_txt .sortable-display-icon span:nth-child(1)').each(function (index) {

			var exp_one = $(this).css('height').slice(0, -2);

			var col_height = parseInt(exp_one);
			if (hei < col_height) {
				hei = col_height;
			}
		});

		var set_hei = hei + 'px';
		$('.List_Container_header_txt .sortable-display-icon').each(function (index) {
			$('.action_col').css('height', set_hei);
			$(this).css('height', set_hei);
		});

		if ($('#cont_viewModalSection').css('display') == 'block') {
			var divHeight = $('#cont_viewModalSection').height();
			$('.modal-backdrop').css('min-height', divHeight + 'px');
		}
		//resize_fun();

		setTimeout(function () {
			treeViewDropdownCheckboox();
		}, 2000);

		/* JIRA ID 6067 , Alignment Issues while zoom-in and zoom-out the browse window 'Begin' */
		setTimeout(function () {

			$("thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;");
			$(".wrap-when-landing-C4C thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);top: 58px;border-right: 0px !important;");
			$("thead.fullHeadSecond").css("display", "none");
			$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
			$(".cart_page").parents('html').css("overflow", "hidden");
			//	$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');
			$(".JCLRgrip").mouseup();

		}, 50);
		/* JIRA ID 6067 , Alignment Issues while zoom-in and zoom-out the browse window 'End' */


	});
	setTimeout(function () {
		treeViewMulti()
	}, 1000);

});

function treeViewDropdownCheckboox() {

	var selectedDropdown_txt;
	var selectedDropdown_txt_local = localStorage.getItem('selectedDropdown');

	if (selectedDropdown_txt_local) {
		selectedDropdown_txt = selectedDropdown_txt_local.split(',');
	}

	var lis_selected_value_txt;
	var lis_selected_value_txt_local_get = localStorage.getItem('lis_selected_value');

	var lis_selected_value_txt_local = "";
	if (lis_selected_value_txt_local_get) {
		lis_selected_value_txt_local = lis_selected_value_txt_local_get.split(',');
	}

	if (selectedDropdown_txt_local) {
		lis_selected_value_txt = lis_selected_value_txt_local;
	}

	var val_split;
	$(lis_selected_value_txt).each(function (index) {
		var z = lis_selected_value_txt[index];
		if (z.indexOf(',') != -1) {
			val_split = z.split(',');

			for (i = 0; i < val_split.length; i++) {

				$(selectedDropdown_txt).each(function (indexnum) {
					var parent_div_id_li_input = '#' + selectedDropdown_txt[indexnum] + ' ul li input';

					$(parent_div_id_li_input).each(function () {
						var input_value_attr_txt = $(this).attr('value');
						var val_split_text = val_split[i];

						if (input_value_attr_txt == val_split_text) {
							$(this).attr('checked', 'checked');

						}
					});
				});
			}
		} else {
			$(selectedDropdown_txt).each(function (indexnum) {

				var parent_div_id_li_input = '#' + selectedDropdown_txt[indexnum] + ' ul li input';

				$(parent_div_id_li_input).each(function () {
					var input_value_attr_txt = $(this).attr('value');
					var val_split_text = z;

					if (input_value_attr_txt == val_split_text) {
						$(this).attr('checked', 'checked');

					}
				});

			});
		}
	});

	$(selectedDropdown_txt).each(function (indexnum) {
		var checked_content = "";
		var set_selected_values_id = selectedDropdown_txt[indexnum].split('popup');
		var set_selected_values_id_concat = set_selected_values_id[0] + 'hidden';
		var id_selectedDropdown_txt = '#' + selectedDropdown_txt[indexnum] + ' ul li input';

		$(id_selectedDropdown_txt).each(function (index) {
			var checked_input = $(this).attr('checked');

			if (checked_input) {

				if (checked_content.length == 0) {
					checked_content = $(this).attr('value');

				} else {
					checked_content = checked_content + ',' + $(this).attr('value');

				}

			}
		});
		$('#' + set_selected_values_id_concat).val(checked_content);
	});

	setTimeout(function () {
		$('td').filter(function () {
			return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
		}).css('text-align', 'right');
		$('td #ACTIVE').closest('td').css('text-align', 'center');
	}, 1000);

}

function resize_fun() {

	setTimeout(function () {
		treeViewMulti()
	}, 2000);

	var current_tab_name = $('div#attributesContainer div.row div.tabbable.show-large ul.nav.nav-responsive.nav-tabs li.active').text().trim();

	var current_tab_name_ends = current_tab_name.endsWith('s') || current_tab_name.endsWith('S');
	var current_tab_name_ends_class = current_tab_name.endsWith('class') || current_tab_name.endsWith('CLASS');
	if (current_tab_name_ends) {
		if (current_tab_name_ends_class) { } else {
			$('.except_sec').removeClass('contain_mater');
			$('.search_input_new').css('margin-left', '0px');
			$('.except_sec').css('border', '0');
			$('.search_div').css('margin-top', '0');
		}
		var dis_block = $('.set_float_List').css('display');
		var dis_block_mat = $('.materialMainBan').css('display');
		if (dis_block == 'block' && dis_block_mat == 'block') {
			$('.set_float_List').addClass('set_float_List_style');
			var a = $('.set_float_List').css('width');
			var b = $('.materialMainBan').css('width');
			if (a != '' && b != '') {
				var x = a.slice(0, -2);
				var y = b.slice(0, -2);

				var c = parseInt(x);
				var d = parseInt(y);
				if (c >= d) {
					$('.set_float_List').addClass('set_float_List_style');
				} else {
					$('.set_float_List').removeClass('set_float_List_style');
				}
			}
		}
	} else {
		$('.set_float_List').removeClass('set_float_List_style');
	}

	var last_cont = localStorage.getItem('mat_brd');
	if (last_cont) {
		if (last_cont.indexOf('List') === 0) {
			if (current_tab_name_ends) {
				$('#' + last_cont).css('padding-top', '0px');
			} else {
				$('#' + last_cont).css('border-bottom', '1px solid #ccc');
				$('#' + last_cont).css('padding-top', '0px');
			}
		} else {
			$('#' + last_cont).css('border-bottom', '1px solid #ccc');
		}
	}

	localStorage.setItem('sec_list_container', '0');

	var Container_td = [];
	$('table.table.table-bordered tbody tr:first td.ListContent_Search').each(function (index) {
		Container_td[index] = $(this).css('width');
	});

	var search_total_wid = $('.search_input_new').length;
	$('.search_input_new').each(function (index) {
		if (index == search_total_wid - 1) {
			if (Container_td[index]) {
				var x = Container_td[index].slice(0, -2);
				var aa = parseFloat(x);

				if (current_tab_name_ends) {
					var p = aa - 1;
					p += 'px';
					$(this).css('width', p);
					$(this).css('padding', '2px 3px 3px 3px');
				} else {
					var p = aa + 1;
					p += 'px';
					$(this).css('width', p);
				}

			}
		} else {
			$(this).css('width', Container_td[index]);
		}

	});

	var total = $('.search_span_btn_txt').length;

	$('.search_span_btn_txt').each(function (index) {

		if (index == 0) {

			$(this).css('border-left', '1px solid #bfbfbf');
		}
		if (index == total - 1) { }
	});

	var tot = $('.search_input_new').length;

	$('.search_input_new').each(function (index) {
		if (index == 1) {
			$(this).css('display', 'none');
		}
		if (index == tot - 1) {

			if (current_tab_name_ends) {
				$(this).css('margin-right', '0px');
			} else {
				$(this).css('margin-right', '9.5px');
				$(this).css('border-right', '1px solid #bfbfbf');
				$(this).css('padding', '2px 3px 3px 3px');
			}
		}
	});
	var hei = 0;
	$('.List_Container_header_txt .sortable-display-icon span:nth-child(1)').each(function (index) {
		var exp_one = $(this).css('height').slice(0, -2);
		var col_height = parseInt(exp_one);
		if (hei < col_height) {
			hei = col_height;
		}
	});

	var set_hei = hei + 'px';
	$('.List_Container_header_txt .sortable-display-icon').each(function (index) {
		$('.action_col').css('height', set_hei);
		$(this).css('height', set_hei);
	});

}

cpq.ready(function () {
	$('body').on('click', function (e) {

		$('[data-toggle=popover]').each(function () {
			// hide any open popovers when the anywhere else in the body is clicked
			if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
				$(this).popover('hide');
			}
		});

		/* Attribute value columns alignment issue 'begin' */
		setTimeout(function () {
			var attr_value_col_value = $('table#SYOBJR_30107_SYOBJ_00003 tbody tr:first-child td:nth-child(4)').text();


			if (attr_value_col_value) {
				if (attr_value_col_value.indexOf('.') != -1) {
					var sp = attr_value_col_value.split('.');
					attr_value_col_value = sp[0];

				}

				var isnum = /^\d+$/.test(attr_value_col_value);

				if (isnum) {

					$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(4)').css('text-align', 'right');
					$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(5)').css('text-align', 'right');
					$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(4)').css('text-align', 'right');
					$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(5)').css('text-align', 'right');
				} else {

					$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(4)').css('text-align', 'left');
					$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(5)').css('text-align', 'left');
					$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(4)').css('text-align', 'left');
					$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(5)').css('text-align', 'left');
				}
			}
			var count = 0;
			var selcted_node = 0;
			$('#commontreeview ul li').each(function () {
				if ($(this).hasClass('node-selected')) {
					selcted_node = count

				}
				count += 1
			})
			/*if(selcted_node == 0){
			$('#FirstSecInformation').css('display','block')
			}
			else if($("#commontreeview ul li:nth-child("+selcted_node+") span").hasClass('glyphicon-minus')){
			$('#FirstSecInformation').css('display','block')
			}*/
		}, 1000);
		/* Attribute value columns alignment issue 'end' */

	});
	$('#div_PNT_PLANT_MATERIALS td').attr("contenteditable", false);
});

function Material_view_obj(ele) {
	try {
		ProductId = cpq.models.configurator.productId();
	}
	catch {
		console.log("ProductID not defined")
	}
	current_url = window.location.href;
	if (ProductId == '273') {
		try {


			$(".emp_notifiy").css('display', 'none');
			$("#PageAlert ").css('display', 'none');
			$("#alertnotify").html('<div class="col-md-12" id="dirty-flag-warning"><div class="col-md-12 alert-warning"><label> <img src="/mt/APPLIEDMATERIALS_PRD/Additionalfiles/warning1.svg" alt="Warning"> WARNING : 000001 : This quote requires manual pricing updates before finalization.</label></div></div>');



		}
		catch { console.log('===error price bench mark notification') }
	}
	localStorage.setItem('price_model', '1');
	var tab_name = $('ul#carttabs_head li.active a span').text();
	//	var act_tab_name_txt = localStorage.getItem('active_tab_name_text');
	// A043S001P01-12225--start
	var act_tab_name_txt = $('ul#carttabs_head .active ul.dropdown-menu > .active > a > span').text();
	// A043S001P01-12225--end
	saletype = $(ele).closest('tr').find('td:nth-child(6)').text();
	localStorage.setItem('saletype', saletype)
	if (act_tab_name_txt) {
		tab_name = act_tab_name_txt;
	} else if (act_tab_name_txt == 'Fulfillment Fees') {
		tab_name = 'Fulfillment Fees'
	}

	if (tab_name == 'Pricebook Entries') {
		$('table#FULLTABLELOAD tbody td:nth-child(4)').css('pointer-events', 'none');
	}
	var optionsvalue = []
	localStorage.setItem('options1_SYSEFL_PB_01935', JSON.stringify(optionsvalue))
	localStorage.setItem('options1_SYSEFL_PB_01919', JSON.stringify(optionsvalue))
	localStorage.setItem('options1_SYSEFL_PB_00431', JSON.stringify(optionsvalue))
	localStorage.setItem('attr_type_cont', '0');

	localStorage.setItem('avoid_loading', '1'); //Avoid loading of BANNER_CONTENT and Currency_Symbol
	localStorage.setItem('testloop', '0')
	localStorage.setItem("variable_record_id_value", '');
	localStorage.setItem("tab_name", '');
	localStorage.setItem('SECTION_EDIT', '');
	localStorage.setItem('lbe_lock', '');
	/* Attribute tab ERP 'Begin'*/
	lbe_lock = ''
	localStorage.setItem('ERP_Attributes_localStg', '');
	var a = $(ele).closest('tr').children('td:last-child').children('input').attr('checked');

	var ab = $('ul#carttabs_head li.active a span').text();


	if (ab == 'Attributes') {

		localStorage.setItem('ERP_Attributes_localStg', a);
	}

	/* Attribute tab ERP 'End'*/
	if ("Pricebook Entries")
		/* Main Banner Delete 'begin'*/
		var currentTabName = $('ul#carttabs_head li.active a span').text();
	var currentRecordId = '';
	//A043S001P01-12225---start
	var act_tab_name_txt_1 = $('ul#carttabs_head .active ul.dropdown-menu > .active > a > span').text();
	if (act_tab_name_txt_1) {
		currentTabName = act_tab_name_txt_1;
	}
	//A043S001P01-12225--end

	if (currentTabName == 'Pricebook Entries') {

		//currentRecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		currentRecordId = $(ele).find("abbr").attr('id');
		lbe_lock = $(ele).closest('tr').children('td:nth-child(3)').children('input').attr('checked')

		localStorage.setItem('lbe_lock', lbe_lock);
	} else if (currentTabName == 'Tabs') {
		currentRecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
	} else {

		currentRecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
	}

	localStorage.setItem('KeyToCurrency', currentRecordId);


	localStorage.setItem("variable_record_id_value", currentRecordId);
	localStorage.setItem("tab_name", currentTabName);

	/* Main Banner Delete 'End'*/
	/* Inc Country Templates Delete */

	localStorage.setItem('parent_obj_check_redirect', '0');

	localStorage.setItem("Action_Text", "");
	localStorage.setItem("record_number_add_new", "0");

	localStorage.setItem("tab_change", "1");
	localStorage.setItem("related_list_load", "");
	localStorage.setItem("RelatedEdit", "0");
	localStorage.setItem('Material_view_obj_details', '1');

	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);
	localStorage.setItem('PrcTreeParam', "");
	localStorage.setItem('PrcTreeParentParam', "");
	localStorage.setItem('PrcNodeTreeSuperParentParam', "");
	localStorage.setItem('PrcTopSuperParentParam', "");
	// A043S001P01-6738 Start
	localStorage.setItem("SecTreeCurrentNodeId", ' ');
	// A043S001P01-6738 End
	var Material_view_obj_text = $(ele).text();

	localStorage.setItem("Action_Text", "VIEW");
	var Local_View_Text = localStorage.getItem("Action_Text");

	var table_id = $(ele).closest('table').attr('id')

	var lable = [];

	/* 	if (currentTabName == 'My Approval Queue'){
			Primary_Data = $(ele).find("abbr").attr('id');
		}else{ */
	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != '!') {
			lable.push($(this).text().trim())
		}
	});
	//}

	//if (currentTabName != 'My Approval Queue' && currentTabName != 'My Approvals Queue'){
	Primary_Data = lable[1]
	//}
	/* else if (currentTabName == 'My Approval Queue' || currentTabName == 'My Approvals Queue'){
		Primary_Data = lable[2]
	} */
	/*if ((CurrentTab = 'Tabs') || (CurrentTab = 'Actions')){
		Primary_Data = lable[2]
	}*/
	//A043S001P01-11419 -Dhurga Start
	var Primary_Data_rec = lable[2]
	//A043S001P01-11419 -Dhurga End
	if (Primary_Data == '') {
		Primary_Data = localStorage.getItem("variable_record_id_value");
	}
	var quotesrecId = localStorage.getItem("masterquoteRecId")
	var quotesId = localStorage.getItem("masterquote")
	if (ele == quotesId && quotesId != "") {
		Primary_Data = quotesrecId
		Primary_Data_rec = quotesId
	}
	localStorage.setItem('keyData', Primary_Data);
	localStorage.setItem('keyDataVal', Primary_Data);
	var keyData_1 = localStorage.getItem('keyData');
	//var material_active_tab=''
	//if (material_active_tab!=''){
	var material_active_tab = $('ul#carttabs_head li.active a span').text();
	//}
	//A043S001P01-12225--start
	var material_active_tab_li_txt = $('div#attributesContainer .tabbable.show-large.tabsmenu ul#carttabs_head li.dropdown.pull-right.tabdrop.active ul.dropdown-menu .active a span').text().trim();
	//A043S001P01-12225--end


	if (material_active_tab_li_txt) {
		material_active_tab = material_active_tab_li_txt;
	}
	localStorage.setItem('KeyValueToTable', material_active_tab);

	var act_tab_name_txt = localStorage.getItem('active_tab_name_text');

	var kvt = localStorage.getItem('KeyValueToTable');
	if (material_active_tab) {
		var attr_btn_name;
		$('button').each(function () {
			if ($(this).text() == 'ADD NEW') {
				attr_btn_name = $(this).attr('title');

			}
		});
		$('.' + attr_btn_name).trigger('click');
		//setTimeout(DelayRefreshCall(), 4000);
		localStorage.setItem("CurrentNodeId", 0);
		localStorage.setItem('NewDataSet', '');
		//A043S001P01-11419 -Dhurga Start
		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'Primary_Data_rec': Primary_Data_rec,
				'TabNAME': material_active_tab,
				'ACTION': 'VIEW',
				'RELATED': ''
			},
				//A043S001P01-11419 -Dhurga end
				function () {

					$(".BTN_MA_ALL_REFRESH").click();
					if (material_active_tab == 'Sales Orders') {

						Name = 'SALES ORDER LINE PRICING CONDITIONS'
						RecName = 'div_CTR_' + Name.replace(/\ /g, '_');
						CurrentRecordId = 'SYOBJR-90081'
						try {
							cpq.server.executeScript("SYGSSESVAL", {
								'TreeParam': 'Header Pricing Conditions',
								'TreeParentParam': 'Header Information',
								'TreeSuperParentParam': '',
								'TopSuperParentParam': ''
							}, function (dataset) {


								loadRelatedList(CurrentRecordId, RecName);
							});
						} catch (e) {
							console.log(e);
						}
						$("div[id='" + RecName + "']").closest('.Related').css('display', 'block');
						$("div[id='" + RecName + "']").closest('.Related').addClass("tree_first_child");
						$("div[id='" + RecName + "']").closest('.Related').removeClass("tree_second_child");
						$("div[id='" + RecName + "']").closest('.Related').removeClass("tree_third_child");
						$("div[id='" + RecName + "']").closest('.Related').removeClass("tree_forth_child");
						$("div[id='" + RecName + "']").closest('.Related').removeClass("tree_fifth_child")

					} else if (material_active_tab == 'Email Templates') {
						$('#COMMON_TABS').show();
						$('.EmailTemplatetabs').show();

						$('#dyn10686').closest('.Detail ').show();
						$('#ban10687').closest('.Detail ').show();
						$('#ban10688').closest('.Detail ').show();
						$('#ban10689').closest('.Detail ').show();
						$('#drop10690').closest('.Detail ').show();
						$('#ban10692').closest('.Detail ').show();

						$('#dyn10984').closest('.Detail ').hide();
						$('#ban10691').closest('.Detail ').hide();

						$('#dyn10432').closest('.Detail ').show();
						$('#ban10433').closest('.Detail ').show();
						$('#ban10434').closest('.Detail ').show();
						$('#ban10435').closest('.Detail ').show();
						$('#ban10436').closest('.Detail ').show();

					} //A043S001P01-12267 Start
					else if (material_active_tab == 'My Approval Queue') {
						try {
							cpq.server.executeScript("ACSECTACTN", {
								'ACTION': "TrackedValues",
								'QuoteNumber': Primary_Data
							}, function (dataset) {

							});
						} catch (e) {
							console.log(e)
						}
					} // A043S001P01-12267 End


					//A043S001P01-11264 end
				});

		} catch (e) {
			console.log(e);
		}

	}

	localStorage.setItem("record_id_number", "");

	var record_txt = $(ele).closest('tr').children('td:nth-child(3)').text();

	localStorage.setItem("record_id_number", record_txt);

	var record_id_number_txt_value_check = localStorage.getItem("record_id_number");

	localStorage.setItem("seg_RECID", record_txt);

	localStorage.setItem("Edit_in_material", "0");
	localStorage.setItem("icon_edit_lock", material_active_tab);
	localStorage.setItem("TreeParam", "");
	localStorage.setItem("CurrentItem", "");
	localStorage.setItem('HighLightTreeParam', '');
	localStorage.setItem("bannerContentValueReset", '0');

	localStorage.setItem('longEdit', '2');
	// btn_banner_content('VIEW');
	$('#mat2712 .editclick i').attr('class', 'fa fa-lock');
	$('#mat2508 .editclick i').attr('class', 'fa fa-lock');
	localStorage.setItem("TextAreaReadOnlyMode", "1");
	if (tab_name == "Quotes") {
		//QuoteStatus();
		dynamic_status();
	}
}

function Material_clone_obj(ele) {
	localStorage.setItem("Action_Text", "");
	localStorage.setItem("record_number_add_new", "0");
	localStorage.setItem("related_list_load", "");
	localStorage.setItem("tab_change", "1");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);
	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");

	var Material_view_obj_text = $(ele).text();

	localStorage.setItem("Action_Text", "CLONE");
	var Local_View_Text = localStorage.getItem("Action_Text");

	var ids = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

	Primary_Data = ids;

	/*ids = $(ele).closest('tr').attr('id');
	Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

	Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
	if (Primary_Data_list.length == 2) {
	Primary_Data = Primary_Data_list[0]
	}
	else if (Primary_Data_list.length == 1) {
	Primary_Data = Primary_Data_list[0]
	}*/

	//var material_active_tab = $('div#attributesContainer .row .tabbable.show-large ul.nav.nav-responsive.nav-tabs li.active a span').text();
	var material_active_tab = $('ul#carttabs_head li.active a span').text();

	var material_active_tab_li_txt = $('div#attributesContainer .tabbable.show-large.tabsmenu ul#carttabs_head li.dropdown.pull-right.tabdrop.active ul.dropdown-menu li.active').text().trim();

	if (material_active_tab_li_txt) {
		material_active_tab = material_active_tab_li_txt;
	}
	localStorage.setItem('KeyValueToTable', material_active_tab);
	if (material_active_tab) {
		var attr_btn_name;
		$('button').each(function () {
			if ($(this).text() == 'ADD NEW') {
				attr_btn_name = $(this).attr('title');

			}
		});
		//$('.'+attr_btn_name).trigger('click');
		setTimeout(DelayRefreshCall(), 2000);
		localStorage.setItem("CurrentNodeId", '');
		localStorage.setItem('NewDataSet', '');
		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'CLONE',
				'RELATED': ''
			}, function () {

				$(".BTN_MA_ALL_REFRESH").click();

			});
		} catch (e) {
			console.log(e);
		}
	}

	localStorage.setItem("record_id_number", "");
	var record_txt = $(ele).closest('tr').children('td');
	$(record_txt).each(function (index) {

		var record_txt_id = $(this).attr('id');
		if (record_txt_id == 'KEY' || record_txt_id == 'Record Id') {
			var record_txt_id_value = $(this).text().trim();

			//var record_number_txt = localStorage.getItem("module_main_txt");
			record_txt_id_value = record_txt_id_value;

			localStorage.setItem("record_id_number", record_txt_id_value);
		}
	});
}

function Pricebook_clone_obj(ele) {

	localStorage.setItem("Action_Text", "");
	localStorage.setItem("record_number_add_new", "0");
	localStorage.setItem("related_list_load", "");
	localStorage.setItem("tab_change", "1");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);
	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");

	var Material_view_obj_text = $(ele).text();

	localStorage.setItem("Action_Text", "CLONE");
	var Local_View_Text = localStorage.getItem("Action_Text");

	ids = $(ele).attr('id');
	Primary_Data = ids.split('|')

	Primary_Data = Primary_Data[0]
	material_active_tab = Primary_Data[1]

	//var material_active_tab = $('div#attributesContainer .row .tabbable.show-large ul.nav.nav-responsive.nav-tabs li.active a span').text();
	var material_active_tab = $('ul#carttabs_head li.active a span').text();

	var material_active_tab_li_txt = $('div#attributesContainer .tabbable.show-large.tabsmenu ul#carttabs_head li.dropdown.pull-right.tabdrop.active ul.dropdown-menu li.active').text().trim();

	if (material_active_tab_li_txt) {
		material_active_tab = material_active_tab_li_txt;
	}

	if (material_active_tab) {
		var attr_btn_name;
		$('button').each(function () {
			if ($(this).text() == 'ADD NEW') {
				attr_btn_name = $(this).attr('title');

			}
		});
		//$('.'+attr_btn_name).trigger('click');
		setTimeout(DelayRefreshCall(), 2000);
		localStorage.setItem("CurrentNodeId", '');
		localStorage.setItem('NewDataSet', '');
		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'CLONE',
				'RELATED': ''
			}, function () {

				$(".BTN_MA_ALL_REFRESH").click();

			});
		} catch (e) {
			console.log(e);
		}
	}

	localStorage.setItem("record_id_number", "");
	var record_txt = $(ele).closest('tr').children('td');
	$(record_txt).each(function (index) {

		var record_txt_id = $(this).attr('id');
		if (record_txt_id == 'Record Id' || record_txt_id == 'KEY') {
			var record_txt_id_value = $(this).text().trim();

			//var record_number_txt = localStorage.getItem("module_main_txt");
			record_txt_id_value = record_txt_id_value;

			localStorage.setItem("record_id_number", record_txt_id_value);

		}
	});
}

function Move_to_parent_obj(ele) {
	$('.previewdiv.flt_rt').css('display', 'none');
	localStorage.setItem('moveToNextTab', '1');
	localStorage.setItem('moveNextTab', 'TRUE');

	localStorage.setItem("bannerContentValueReset", '0');
	localStorage.setItem('avoid_loading', '1');
	var moduleBeforeParent_txt = $('.main_ban_mod').text().trim();
	localStorage.setItem('moduleBeforeParent', moduleBeforeParent_txt);

	ids = $(ele).attr('id');

	data = "";
	if (ids) {
		data = ids.split('|');
	}
	localStorage.setItem("related_list_load", "");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);
	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");
	//A043S001P01-6297 start
	localStorage.setItem('salesorgSet', 1);
	//A043S001P01-6297 end
	Primary_Data = data[0]
	material_active_tab = data[1]
	localStorage.setItem("Action_Text", "VIEW");

	localStorage.setItem('keyData', Primary_Data);
	var keyData_1 = localStorage.getItem('keyData');

	localStorage.setItem('KeyValueToTable', material_active_tab);

	localStorage.setItem('activetab', "detailsTab");
	localStorage.setItem('Navigationactive', "0");

	var kvt = localStorage.getItem('KeyValueToTable');

	if (kvt == 'Pricebook Sets') {

		var get_button_list = $(ele).closest('tr').children('td:first-child').children('.btn-group').children('#ctr_drop').children('ul').children('li');
		localStorage.setItem('button_text_clone', 'notclone');
		$(get_button_list).each(function (index) {

			var button_text = $(this).text().trim();

			if (button_text == 'CLONE') {
				localStorage.setItem('button_text_clone', 'clone');
			}
		});
		var button_text_lstg = localStorage.getItem('button_text_clone');
	}

	if (kvt == 'List Pricebook Entries') {
		if (ids) {
			data = ids.split('|');

			if (data[1] == 'List Pricebook Entries') {
				localStorage.setItem('Navigationactive', "1");
				localStorage.setItem('KeyToCurrency', data[0])
			}
		}
	}

	localStorage.setItem('related_list_load', "");
	localStorage.setItem("localDetail", "");
	localStorage.setItem('Related_Loading', "");
	localStorage.setItem("RelatedEdit", "");


	// if (kvt == 'Participant') {
	// 	localStorage.setItem("PARTICIPANT_REFRESH", "TRUE");
	// }

	// setTimeout(function () {
	// 	Refresh = localStorage.getItem("PARTICIPANT_REFRESH");
	// 	if (Refresh == 'TRUE') {
	// 		$('.BTN_MA_ALL_REFRESH').click();
	// 		localStorage.setItem("PARTICIPANT_REFRESH", "");
	// 		localStorage.setItem("REFRESHED", "TRUE");
	// 	}
	// }, 5000);

	//A043S001P01-11728 start
	if (material_active_tab.trim() == 'List Pricebook Entries') {
		material_active_tab = 'List Pricebook Entries'
	}
	//A043S001P01-11728 end
	setTimeout(function () {
		localStorage.setItem("CurrentNodeId", '');
		localStorage.setItem('NewDataSet', '');

		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'VIEW',
				'RELATED': 'TRUE'
			}, function () {
				localStorage.setItem("localDetail", "");
				localStorage.setItem('Related_Loading', "");
				localStorage.setItem("RelatedEdit", "");
				localStorage.setItem("Action_Text", "VIEW");
				localStorage.setItem('related_list_load', "");
				//localStorage.getItem("PARTICIPANT_REFRESH", "TRUE");
				$(".BTN_MA_ALL_REFRESH").click();

				$('.createtab').trigger('click');

				//A043S001P01-11503 code starts...
				setTimeout(function () {

					$('.Detail').css('display', 'block')
					if (data[1] = 'Currencies') {
						$('.createclose').click();
					}

				}, 5000);
				if (material_active_tab == 'Quote' || material_active_tab == 'Quotes') {
					quote_id = $(".segment_part_number_text").text()
					cpq.server.executeScript("CQPREVWDTL", { 'ACTION': 'QUOTE_INFO', 'QUOTE_ID': quote_id, 'QT_REC_ID': Primary_Data }, function (data0) {
						if (data0 != '') {
							$('.container_banner_inner_sec').css("display", "none")
							$('#TREE_div').html(data0);
							$(".CommonTreeDetail").css("display", "block");
						}
					});
				}
				//A043S001P01-11503 code ends..
			});
		} catch (e) {
			console.log(e);
		}

		//$(".BTN_MA_ALL_REFRESH").click();
	}, 1500);

	localStorage.setItem("RelatedEdit_parent", "1");
	var lrep = localStorage.getItem("RelatedEdit_parent");

	var ids = $(ele).closest('tr').attr('id');
	var Prim_Data = $("#" + ids + " td:nth-child(3)").text().trim();

	localStorage.setItem("record_id_number", Primary_Data);

	var Move_to_parent_obj_id_txt = $(ele).attr('id');
	var Move_to_parent_obj_id_txt_split;
	if (Move_to_parent_obj_id_txt) {
		Move_to_parent_obj_id_txt_split = Move_to_parent_obj_id_txt.split('|');
		localStorage.setItem("module_main_txt", Move_to_parent_obj_id_txt_split[1].trim())

		var loc_mod_txt = localStorage.getItem("module_main_txt");
	}
	var child_acc = $(ele).closest('td').parent().parent().closest('table').closest('.fixed-table-body').closest('.fixed-table-container').closest('.bootstrap-table').parent().attr('id');

	var child_acc_split;
	var child_acc_split_replace;
	if (child_acc) {

		if (child_acc == 'div_CTR_DEFAULT_INVOICING_SALES_ORG_FOR_COUNTRIES') {
			localStorage.setItem('INVOICING_SALES_ORG', '1');
		} else if (child_acc == 'div_CTR_SEGMENT_REQUIRED_INVOICE_MATERIALS') {
			localStorage.setItem('INVOICE_MATERIALS_SALES_ORG', '1');
		} else if (child_acc == 'div_CTR_MATERIALS_IN_AWARD_CODE') {
			localStorage.setItem('MATERIALS_IN_AWARD_CODE', '1');
		} else if (child_acc == 'div_CTR_AVAILABLE_PLANT_PERSONALIZATIONS') {
			localStorage.setItem('Other_parent_content', '1');
		} else if (child_acc == 'div_CTR_PRICE_MODEL_+_METHOD_COMBINATIONS') {
			if (material_active_tab == 'Price Models') {

				localStorage.setItem('Price_Models_redirection', '1');
				var a = localStorage.getItem('Price_Models_redirection');

			}
			if (material_active_tab == 'Price Classes') {

				localStorage.setItem('Price_Classes_redirection', '1');
				var a = localStorage.getItem('Price_Classes_redirection');

			}

		} else {

			localStorage.setItem('all_parent', '1');
			if (child_acc) {
				child_acc_split = child_acc.split('CTR_');
				if (child_acc_split.length > 0) {
					if (child_acc_split[1]) {
						child_acc_split_replace = child_acc_split[1].replace('_', ' ');
					}
				}
			}

		}
		//div_CTR_CHILD_ACCOUNTS
	}

	if (child_acc_split_replace == 'CHILD ACCOUNTS') {
		localStorage.setItem('account_parent', '1');
	}

	if (material_active_tab == 'Sales Orgs') {
		localStorage.setItem('SALES_ORG_hyper', '1');
	}

	var first_li_text = $('#carttabs_head > li[id^=tab_]:first-child').text().trim();

	localStorage.setItem('first_li_txt', first_li_text);


	setTimeout(function () {
		if ($('ul#carttabs_head li.active a span').text().trim() == 'Currency') {
			$('#PM_TABS').removeClass('disp_blk');
			$('#PM_TABS').addClass('disp_none')
		}
		$('.createtab').trigger('click');

	}, 1500);

}

function Move_to_parent_obj_edit(ele) {
	ids = $(ele).attr('id');
	data = ids.split('|')

	Primary_Data = data[0]
	material_active_tab = data[1]
	localStorage.setItem("Action_Text", "EDIT");

	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);
	localStorage.setItem('keyData', Primary_Data);
	var keyData_1 = localStorage.getItem('keyData');
	localStorage.setItem('activetab', "detailsTab");

	localStorage.setItem('KeyValueToTable', material_active_tab);
	var kvt = localStorage.getItem('KeyValueToTable');

	if (kvt == 'Pricebook Sets') {

		var get_button_list = $(ele).closest('tr').children('td:first-child').children('.btn-group').children('#ctr_drop').children('ul').children('li');
		localStorage.setItem('button_text_clone', 'notclone');
		$(get_button_list).each(function (index) {

			var button_text = $(this).text().trim();

			if (button_text == 'CLONE') {
				localStorage.setItem('button_text_clone', 'clone');
			}
		});
		var button_text_lstg = localStorage.getItem('button_text_clone');

	}

	setTimeout(function () {
		localStorage.setItem("CurrentNodeId", '');
		localStorage.setItem('NewDataSet', '');
		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'EDIT',
				'RELATED': 'TRUE'
			}, function () {
				localStorage.setItem("Action_Text", "EDIT");
				$(".BTN_MA_ALL_REFRESH").click();

			});
		} catch (e) {
			console.log(e);
		}
	}, 500);

	localStorage.setItem("RelatedEdit_parent", "1");
	var lrep = localStorage.getItem("RelatedEdit_parent");

	var ids = $(ele).closest('tr').attr('id');
	var Prim_Data = $("#" + ids + " td:nth-child(3)").text().trim();

	localStorage.setItem("record_id_number", Primary_Data);
	var child_acc = $(ele).closest('td').parent().parent().closest('table').closest('.fixed-table-body').closest('.fixed-table-container').closest('.bootstrap-table').parent().attr('id');

	if (child_acc == 'div_CTR_DEFAULT_INVOICING_SALES_ORG_FOR_COUNTRIES') {
		localStorage.setItem('INVOICING_SALES_ORG', '1');
	}

	var first_li_text = $('#carttabs_head > li[id^=tab_]:first-child').text().trim();

	localStorage.setItem('first_li_txt', first_li_text);

}

function Move_to_clone_obj(ele) {
	ids = $(ele).attr('id');
	data = ids.split('|')
	localStorage.setItem("related_list_load", "");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);
	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");

	Primary_Data = data[0]
	material_active_tab = data[1]
	localStorage.setItem("Action_Text", "CLONE");
	localStorage.setItem('activetab', "detailsTab");
	setTimeout(function () {
		localStorage.setItem("CurrentNodeId", '');
		localStorage.setItem('NewDataSet', '');
		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'CLONE',
				'RELATED': 'TRUE'
			}, function () {

				localStorage.setItem("Action_Text", "CLONE");
				$(".BTN_MA_ALL_REFRESH").click();

			});
		} catch (e) {
			console.log(e);
		}
	}, 500);
	localStorage.setItem("RelatedEdit_parent", "1");
	var lrep = localStorage.getItem("RelatedEdit_parent");

	var ids = $(ele).closest('tr').attr('id');
	var Prim_Data = $("#" + ids + " td:nth-child(3)").text().trim();

	localStorage.setItem("record_id_number", Primary_Data);
	var child_acc = $(ele).closest('td').parent().parent().closest('table').closest('.fixed-table-body').closest('.fixed-table-container').closest('.bootstrap-table').parent().attr('id');

	if (child_acc == 'div_CTR_DEFAULT_INVOICING_SALES_ORG_FOR_COUNTRIES') {
		localStorage.setItem('INVOICING_SALES_ORG', '1');
	}

	var first_li_text = $('#carttabs_head > li[id^=tab_]:first-child').text().trim();

	localStorage.setItem('first_li_txt', first_li_text);
	var a = localStorage.getItem('first_li_txt');

}

function Material_edit_obj(ele) {

	localStorage.setItem('price_model', '0');

	localStorage.setItem('avoid_loading', '1'); //Avoid loading of BANNER_CONTENT and Currency_Symbol

	localStorage.setItem('attr_type_cont', '1'); //make Attribute Type as editable

	localStorage.setItem('parent_obj_check_redirect', '0');
	localStorage.setItem('SECTION_EDIT', '');
	localStorage.setItem("Action_Text", "");
	localStorage.setItem("record_number_add_new", "0");
	localStorage.setItem("tab_change", "1");
	localStorage.setItem("related_list_load", "");
	localStorage.setItem("RelatedEdit", "1");
	localStorage.setItem('Material_view_obj_details', '1');
	localStorage.setItem('lbe_lock', '');

	localStorage.setItem('related_tab_edit_click', '1');
	var Material_edit_obj_related_tab_click = localStorage.getItem('related_tab_edit_click');

	var Material_edit_obj_text = $(ele).text();



	localStorage.setItem("Action_Text", Material_edit_obj_text);
	var Local_Edit_Text = localStorage.getItem("Action_Text");

	//ids = $(ele).closest('tr').attr('id');

	var table_id = $(ele).closest('table').attr('id')
	var lable = [];



	//Primary_Data = $("#" + ids +" td:nth-child(3)").text().trim()

	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != '!') {
			lable.push($(this).text().trim())
		}
	});



	Primary_Data = lable[1];
	localStorage.setItem('keyData', Primary_Data);
	localStorage.setItem('keyDataVal', Primary_Data);
	var keyData_1 = localStorage.getItem('keyData');

	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);
	localStorage.setItem('PrcTreeParam', "");
	localStorage.setItem('PrcTreeParentParam', "");
	localStorage.setItem('PrcNodeTreeSuperParentParam', "");
	localStorage.setItem('PrcTopSuperParentParam', "");

	var active_tab_set = $('ul#carttabs_head li.active a span').text().trim();
	///A043S001P01-8500 start

	// if (active_tab_set == "Price Model") {
	// var selectedMarketType = $('#QSTN_SYSEFL_PB_01449 :selected').text();
	// var selectedModelType = $('#QSTN_SYSEFL_PB_01444 :selected').text();
	// if (selectedMarketType != 'NON MARKET BASED') {
	// $('input:checkbox:first').prop('checked', false);
	// $('input:checkbox:first').prop('disabled', true);

	// if (localStorage.getItem("Action_Text") == "VIEW") {
	// $('input:checkbox').prop('disabled', true);
	// }

	// if (localStorage.getItem("Action_Text") == "EDIT") {
	// $('input:checkbox').prop('disabled', false);
	// }
	// } else {
	// $('input:checkbox:first').prop('disabled', false);
	// if (localStorage.getItem("Action_Text") == "VIEW") {
	// $('input:checkbox').prop('disabled', true);
	// }

	// if (localStorage.getItem("Action_Text") == "EDIT") {

	// $('input:checkbox').prop('disabled', false);
	// if (selectedModelType != "DISCOUNT DOWN") {
	// $('input:checkbox:first').prop('checked', false);
	// $('input:checkbox:first').prop('disabled', true);
	// }

	// }
	// }
	// }
	///A043S001P01-8500 end
	if (active_tab_set == 'Price Agreement' && localStorage.getItem("Action_Text") == "EDIT") {

		$('#mat4713 .editclick i').attr('class', 'fa fa-lock');
		$("#mat4713").attr("disabled", true);
		$("#lk4714").attr("disabled", true);
		$('#lk4714 .editclick i').attr('class', 'fa fa-lock');
	}
	//Primary_Data_list = $("#" + ids +" td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ');

	//if (Primary_Data_list.length == 2) {
	//Primary_Data = Primary_Data_list[0]
	//}
	//else if (Primary_Data_list.length == 1){
	//Primary_Data = Primary_Data_list[0]
	//}

	var material_active_tab = $('ul#carttabs_head li.active a span').text();

	var material_active_tab_li_txt = $('div#attributesContainer .tabbable.show-large.tabsmenu ul#carttabs_head li.dropdown.pull-right.tabdrop.active ul.dropdown-menu li.active').text().trim();

	if (material_active_tab_li_txt) {
		material_active_tab = material_active_tab_li_txt;
	}

	var act_tab_name_txt = localStorage.getItem('active_tab_name_text');


	localStorage.setItem('KeyValueToTable', material_active_tab);

	var kvt = localStorage.getItem('KeyValueToTable');

	if (material_active_tab) {
		var attr_btn_name;
		$('button').each(function () {
			if ($(this).text() == 'ADD NEW') {
				attr_btn_name = $(this).attr('title');

			}
		});

		setTimeout(DelayRefreshCall(), 2000);

		localStorage.setItem("CurrentNodeId", '');
		localStorage.setItem('NewDataSet', '');
		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'EDIT',
				'RELATED': ''
			}, function () {

				$(".BTN_MA_ALL_REFRESH").click();

			});
		} catch (e) {
			console.log(e);
		}
	}
	localStorage.setItem("directEdit", "Edit");
	localStorage.setItem("DIRECT_EDT", "TRUE")

	localStorage.setItem("record_id_number", "");

	var record_txt = '';
	var currentTabName = $('ul#carttabs_head li.active').text().trim();
	var currentRecordId = '';

	if (currentTabName == 'Pricebook Entries') {

		currentRecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		record_txt = $(ele).closest('tr').children('td:nth-child(3)').text();
	}

	if (currentTabName == 'Price Agreement' && localStorage.getItem("Action_Text") == "EDIT") {
		$('#mat4713 .editclick i').attr('class', 'fa fa-lock');
		$("#mat4713").attr("disabled", true);
		$("#lk4714").attr("disabled", true);
		$('#lk4714 .editclick i').attr('class', 'fa fa-lock');
		currentRecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
		record_txt = $(ele).closest('tr').children('td:nth-child(3)').text();
	} else {

		currentRecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
		record_txt = $(ele).closest('tr').children('td:nth-child(3)').text();
	}

	localStorage.setItem('KeyToCurrency', currentRecordId);

	localStorage.setItem("record_id_number", record_txt);

	var record_id_number_txt_value_check = localStorage.getItem("record_id_number");

	localStorage.setItem("seg_RECID", record_txt);

	/*var record_txt = $(ele).closest('tr').children('td');
	$(record_txt).each(function (index) {

	var record_txt_id = $(this).attr('id');
	if (record_txt_id == 'KEY' || record_txt_id == 'Record Id') {
	var record_txt_id_value = $(this).text().trim();

	//var record_number_txt = localStorage.getItem("module_main_txt");
	record_txt_id_value = record_txt_id_value;
	localStorage.setItem("record_id_number", record_txt_id_value);
	}
	});*/
	localStorage.setItem("Edit_in_material", "1");
	localStorage.setItem("icon_edit_lock", material_active_tab);
	localStorage.setItem("TreeParam", "");
	localStorage.setItem("CurrentItem", "");
	localStorage.setItem('HighLightTreeParam', '');
	localStorage.setItem("bannerContentValueReset", '0');

	$('input').each(function () {
		var inp = $(this).val();
		if (/^[-+]?[0-9]+\.[0-9]+$/.test(inp)) {
			$(this).attr('type', 'number');
		}
	});

	btn_banner_content('EDIT');
	localStorage.setItem('longEdit', '1');

	localStorage.setItem("TextAreaReadOnlyMode", "0");
}

function Material_delete_obj(ele) {
	var record_id_value;
	var tr_id = $(ele).closest('tr').attr('id');
	//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	CurrentTab = $("ul#carttabs_head li.active a span").text();

	if (CurrentTab == "Price Agreements") {
		var attr = $(ele).attr('data-delete');
		if (typeof attr !== typeof undefined && attr !== false && attr == "Yes") {
			if (document.getElementById("delete_container_div")) {
				SR_ID = $(ele).closest('tr').find('td:nth-child(4) abbr').text();
				data = '<div class="modulesecbnr brdr mrgbt0">WARNING : DELETE ' + SR_ID + '</div><div class="pad10">This Price Agreement is not allowed to delete</div>';
				document.getElementById("delete_container_div").innerHTML = data;
			}
			$('#cont_viewModal_Material_Delete .modal-footer button').each(function () {
				if ($(this).text() == 'DELETE') {
					$(this).css('display', 'none');
				}
			});
			setTimeout(function () {
				$('#cont_viewModal_Material_Delete').modal('show');
			}, 10);
			$('div#cont_viewModal_Material_Delete .modal-dialog').css('cssText', 'width:550px !important;');
			return;
		}
	}
	var id_value = '#' + tr_id + ' td';

	$(id_value).each(function (index) {

		if (index == 2) {
			record_id_value = $(this).text().trim();
		}
	});

	var a = $(ele).closest('ul').closest('td').parent().attr('id');

	var record_value = $('#' + a).children('td:nth-child(3)').text().trim();

	var table_id = $(ele).closest('table').attr('id')

	//ids = $(ele).closest('tr').attr('id');
	var lable = [];


	$(ele).closest('tr').find('td').each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != '!') {
			lable.push($(this).text().trim())
		}
	});


	//Primary_Data = $("#" + ids +" td:nth-child(3)").text().trim();
	record_id_value = lable[2]

	localStorage.setItem("variable_record_id_value", lable[1]);

	var active_tab = $('ul#carttabs_head li.active a span').text();

	var active_tab_li_txt = $('div#attributesContainer .tabbable.show-large.tabsmenu ul#carttabs_head li.dropdown.pull-right.tabdrop.active ul.dropdown-menu li.active').text().trim();

	if (active_tab_li_txt) {
		active_tab = active_tab_li_txt;
	}

	localStorage.setItem("tab_name", active_tab);


	try {
		cpq.server.executeScript("PADELCONPO", {
			'Record_Id': record_id_value
		}, function (dataset) {

			data = dataset[0];
			error_msg = dataset[1];
			Delete_Container_DIV(data, error_msg);
		});
	} catch (e) {
		console.log(e);
	}

}

function Delete_Container_DIV(data, error_msg) {
	if (document.getElementById("delete_container_div")) {

		document.getElementById("delete_container_div").innerHTML = data;
	}
	if (error_msg == 'NO') {
		$('#cont_viewModal_Material_Delete .modal-footer button').each(function () {

			if ($(this).text() == 'DELETE') {
				$(this).css('display', 'none');
			}
		});
	} else {
		$('#cont_viewModal_Material_Delete .modal-footer button').each(function () {

			if ($(this).text() == 'DELETE') {
				$(this).css('display', 'inline-block');
			}
		});
	}
}

function container_delete() {

	var a = localStorage.getItem("variable_record_id_value");
	var b = localStorage.getItem("tab_name");

	if (b == "Inc Country Templates") {
		a = $("#QSTN_SYSEFL_MA_00381").val();
	}
	if (b == "Price Agreements") {
		var attr = $(this).attr('data-delete');
		if (typeof attr !== typeof undefined && attr !== false && attr == "Yes") {
			cpq.server.executeScript("SYERRMSGVL", {
				'OBJRECID': 'SYOBJ-00155',
				'Action': 'QBINFO'
			}, function (data) {
				if (data != '') {
					$('div#product_info_msg alert-info#productInfoMsg').html('')
					$("#product_info_msg").css("display", "block");
					$('div#product_info_msg #productInfoMsg').append("Unable to Delete Due to Revision Status");
					$('.close').hide();
				}
			});
		}
	}
	var subtab = $('ul#carttabs_head li ul li.active').text().trim()
	if (subtab != "") {

		if (subtab == "Item Category Group") {
			b = "Item Category Groups";
			if (a == "") {
				a = $("#QSTN_SYSEFL_MA_00475").val();
			}
		}
		if (subtab == "Material Type") {
			b = "Material Types";
		}
	}
	try {
		cpq.server.executeScript("SYALCONTDL", {
			'Record_Id': a,
			'Tab_name': b
		}, function (data) {
			if (b == "Categories") {

				$("#BTN_SYACTI_MA_00035_BACKTOLIST").trigger('click');
			}
			if (b == "Metals") {

				$("#BTN_SYACTI_PB_00064_BACKTOLIST").trigger('click');
			}
			if (b == "Inc Country Templates") {

				$("#BTN_SYACTI_MA_00054_BACKTOLIST").trigger('click');
			}

			if (b == "Item Category Group") {

				$("#BTN_SYACTI_MA_00104_BACKTOLIST").trigger('click');
			}

			$(".BTN_MA_ALL_REFRESH").trigger('click');
			if (b == "Sets") {

				$("#BTN_SYACTI_MA_00030_BACKTOLIST").trigger('click');
			}

			if (String(data) == 'TRUE') {

				$('.close').click();
				//document.getElementById("DEL_REC_CONF").style.display = "none";
				document.getElementById("DEL_REC_WARN_MSG").style.display = "block";
			} else {
				$(".BTN_MA_ALL_REFRESH").click();
				if (document.getElementById("DEL_REC_CONF")) {
					document.getElementById("DEL_REC_CONF").style.display = "none";
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function popup_cont_VIEW() {

	var lable = localStorage.getItem('cont_lable')
	var value = localStorage.getItem('cont_value')
	var table_id = localStorage.getItem('cont_table_id')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");

	try {
		cpq.server.executeScript("SYLDPPRVAE", {
			'RETURN': '0',
			'OPERATION': 'VIEW',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVAL': ''
		}, function (datas) {
			data = datas[0];
			date_field = datas[1];
			//RAMESH A043S001P01-8507 START
			// if (document.getElementById("binddivpop")) {
			// document.getElementById("binddivpop").innerHTML = data;
			// }
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
			//RAMESH A043S001P01-8507 END
			if (date_field.length !== 0) {
				$.each(date_field, function (key, value) {
					onclick_datepicker(value)
				});
			}

			setTimeout(function () {
				$('[data-toggle="popover"]').popover();
			}, 500);

		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		// var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();

		if (table_heigth > popUp_height) {

			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');

		}
	}, 3000);

	setTimeout(function () {
		var b = $('#QSTN_SYSEFL_MA_05164').val();
		var a = $('#HELP_TEXT').val();

		if (a != b) {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-info-circle').after('<i class="fa fa-warning drkred"></i>');
		} else {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
		}

	}, 3000);
}

var drop_down_selected_list = [];

function labelDropdown(checkParam) {
	var check = $(checkParam).prop('checked');
	var checkParamClass = $(checkParam).attr('class');

	if (checkParamClass != "ALL COUNTRIES" && check == 'true') {
		$(checkParam).removeAttr('checked');
		$(drop_down_selected_list).each(function (index) {

			var arr_value = drop_down_selected_list[index];
			if (checkParamClass == arr_value && arr_value != 'ALL COUNTRIES') {

				drop_down_selected_list = jQuery.grep(drop_down_selected_list, function (value) {
					return value != checkParamClass;
				});
			} else if (arr_value == 'ALL COUNTRIES') {
				drop_down_selected_list = [];
				$('#checkboxes label input').each(function (index) {
					if (index == 0) {
						$(this).removeAttr('checked');
					} else if (index == 1) {
						$('#checkboxes label input').each(function () {

							var label_check = $(this).attr('class');

							var ch_drop_val = $(this).attr('checked');
							if (ch_drop_val == 'checked') {
								drop_down_selected_list.push(label_check);
							}
						});
					} else { }
				});
			} else { }
		});
	} else {
		if (checkParamClass == "ALL COUNTRIES" && check == 'true') {

			$('#checkboxes label input').each(function () {

				$(this).removeAttr('checked');
				var label_check = $(this).attr('class');

				drop_down_selected_list = jQuery.grep(drop_down_selected_list, function (value) {
					return value != label_check;
				});
			});
		} else {

			if (checkParamClass == "ALL COUNTRIES") {
				drop_down_selected_list = [];

				$('#checkboxes label input').each(function (index) {

					var label_check = $(this).attr('class');
					$(this).attr('checked', 'checked');
					if (index != 0) {
						drop_down_selected_list.push(label_check);
					}
				});

				//drop_down_selected_list.push(checkParamClass);
			} else {
				$(checkParam).attr('checked', 'checked');
				//drop_down_selected_list.push(checkParamClass);
				drop_down_selected_list = [];
				$('#checkboxes label input').each(function () {

					var label_check = $(this).attr('class');
					var ch_drop_val = $(this).attr('checked');
					if (ch_drop_val == 'checked') {
						drop_down_selected_list.push(label_check);
					}
				});
			}

		}

	}
	var total_dpd_count = 0;
	var total_checked_count = 0;
	$('#checkboxes label input').each(function () {

		var label_check_out = $(this).attr('class');
		var ch_drop_val_out = $(this).attr('checked');
		if (ch_drop_val_out == 'checked') {
			total_checked_count += 1;
		}
		total_dpd_count += 1;
	});

	total_checked_count = total_checked_count + 1;

	if (total_dpd_count == total_checked_count) {
		$('#checkboxes input.ALL.COUNTRIES').attr('checked', 'checked');
		drop_down_selected_list = [];
		drop_down_selected_list.push('ALL COUNTRIES');
	}

	var show_selected = '';
	$(drop_down_selected_list).each(function (index) {

		if (show_selected == '') {
			show_selected = drop_down_selected_list[index];

		} else {
			show_selected = show_selected + ',' + drop_down_selected_list[index];

		}
	});

	$('.inp_val').val(show_selected);

}
localStorage.setItem('activePricefactor', '');

function popup_cont_SAVE(elm, divname) {
	//A043S001P01-7066-------Start
	$("#HideSavecancel").css("display", "none")
	var temp = false;
	var TreeParam = ''
	var TreeParentParam = '';
	var TreeSuperParentParam = '';
	var TopSuperParentParam = ''
	var category = $('#CATEGORY_ID').val()
	var currentTabName = $('#carttabs_head li.active').text().trim()
	var material_active_tab = $('ul#carttabs_head li.active a span').text();
	//11285 START
	if (divname == 'div_CTR_Constraints' && currentTabName == 'Object') {
		$('#ADDNEW__SYOBJR_95825_SYOBJ_00426').show();
		$('#DROP_CONSTRAINT_BTN').show();
		$('#RECREATE_CONSTRAINT_BTN').show();

	}
	if (divname == 'div_CTR_Approval_chain_Steps') {
		$("#ADDNEW__SYOBJR_00013_SYOBJ_01023").css("display", "block")
	}

	if (divname == 'div_CTR_Role_Users') {
		localStorage.setItem("divid", 'div_CTR_Role_Users');
	}
	//A043S001P01-11534 start
	if (divname == 'div_CTR_Document_Type_Templates' && currentTabName == 'Document Type') {
		$('#ADDNEW__SYOBJR_90083_SYOBJ_00244').show();
	}
	//A043S001P01-11534 end
	if (temp == false) {
		//A043S001P01-7066--------End
		$('html').css('cssText', 'overflow-y:auto !important');
		divid = localStorage.getItem("divid");
		//Changed for #A043S001P01-4672 - Start
		if (divid == '' || divid === null || divid === undefined) {
			divname = 'VIEW_DIV_ID'
		}
		if (divname == '' || divname === null || divname === undefined) {
			divname = 'VIEW_DIV_ID'
		}
		//Changed for #A043S001P01-4672 - End

		var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();

		var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');



		localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
		var fff_test = localStorage.getItem('before_click_on_edit_lstg');
		localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
		var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');

		localStorage.setItem('Related_popup_Edit', '1');

		var current_active_sub_tab2 = $('.row.tabsmenu2.tabdyn ul li.active').text().trim();

		localStorage.setItem('current_active_sub_tab', current_active_sub_tab2);

		var table_id = $(elm).attr("id");
		if (table_id == "SYOBJC_SAVE_CONST") { table_id = "SYOBJC" }

		//localStorage.setItem('operation_state',table_id);
		if (table_id == "PRLPBK") {

		} else {
			//divname1 = '#'+ divname
			input_val = []
			pop_id = []

			if (divname == 'div_CTR_Role_Users') {
				divname = "#div_CTR_Role_Users"
			} else {
				divname = "#" + divname
			}

			$(divname + " table input:not(.popup)").each(function () {

				if ($(this).attr('type').toUpperCase() == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
					input_val.push($(this).prop('checked'))

					pop_id.push($(this).attr('id'))
				} else if ($(this).attr('type') != 'checkbox') {
					input_val.push($(this).val())

					pop_id.push($(this).attr('id'))
				}
			});

			$(divname + " #container select:not(#select_id)").each(function () {
				currentid = $(this).attr('id')
				if (currentid != "FirstMESSAGE_HEADERVALUE" && currentid != "options1_MESSAGE_HEADERVALUE" && currentid != 'FirstMESSAGE_BODYVALUE' && currentid != 'options1_MESSAGE_BODYVALUE') {
					input_val.push($(this).children("option:selected").text());
					pop_id.push($(this).attr('id'))
				} else if (currentid == "FirstMESSAGE_HEADERVALUE") {
					fec = ''
					$('select#options1_MESSAGE_HEADERVALUE option').each(function () {
						fec += $(this).val()
						fec += ','
					});
					fec = fec.slice(0, -1)
					pop_id.push("MESSAGE_HEADERVALUE")
					input_val.push(fec)
				} else if (currentid == "FirstMESSAGE_BODYVALUE") {
					fec = ''
					$('select#options1_MESSAGE_BODYVALUE option').each(function () {
						fec += $(this).val()
						fec += ','
					});
					fec = fec.slice(0, -1)
					pop_id.push("MESSAGE_BODYVALUE")
					input_val.push(fec)
				}

			});

			$(divname + " #container textarea").each(function () {
				input_val.push($(this).val());
				pop_id.push($(this).attr('id'))
			});

			var cont_lable = localStorage.getItem('cont_lable')
			var cont_value = localStorage.getItem('cont_value')
			var cont_table_id = localStorage.getItem('cont_table_id')
			if (cont_value) {
				cont_value = cont_value.split(',')
			}
			if (cont_lable) {
				cont_lable = cont_lable.split(',')
			}
			//var first_record_id = localStorage.getItem("first_record_id");
			var first_record_id = $('.iconhvr .col-md-3.pad-0 input').val();
			var first_record_feild = localStorage.getItem("first_record_feild");
			if (divname == '#div_CTR_Tabs') {
				input_val[17] = $('#CLASS_LAYOUT_RECORD_ID').val()
			}
			if (table_id == "SAQTIP" && pop_id[1] == "QUOTE_ID") {// to pass quote id for add involved party
				input_val[1] = $('.segment_part_number > p.segment_part_number_text > abbr').text();
			}
			try {
				cpq.server.executeScript("SYPOSAVEAL", {
					'LABLE': pop_id,
					'VALUE': input_val,
					'TABLEID': table_id,
					'CONT_LABLE': cont_lable,
					'CONT_VALUE': cont_value,
					'CONT_TABLEID': cont_table_id,
					'RECORDID': first_record_id,
					'RECORDFEILD': first_record_feild,
					'Countries': drop_down_selected_list,
					'TreeParam': TreeParam,
					'TreeParentParam': TreeParentParam,
					'TreeSuperParentParam': TreeSuperParentParam,
					'TopSuperParentParam': TopSuperParentParam
				}, function (data) {



					localStorage.setItem("cont_lable", data[0]);
					localStorage.setItem("cont_value", data[1]);
					localStorage.setItem("cont_table_id", cont_table_id);
					localStorage.setItem("first_record_id", data[4]);
					localStorage.setItem("first_record_feild", data[5]);
					var err_msg = data[8];
					if (data[9] != "") {
						eval(data[9]);// to execute field level validation
					}
					if (cont_lable === 'undefined') {
						cont_lable = [];
					}

					if (err_msg == '') {
						if (table_id != 'SYROUS') {
							document.getElementById('Headerbnr').style.display = 'none';
							document.getElementById('Headerbnr').innerHTML = '';
						}

						//$('#cont_viewModalSection').modal('hide');
						$('.close').click();
						localStorage.setItem("related_list_load", "");
						localStorage.setItem("RelatedEdit", '0');
						//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
						CurrentTab = $('ul#carttabs_head li.active').text().trim()
						//Added to stay in same page after clicking save in add new mode for  related list grids under subtabs - start
						//var active_tab = $('ul#carttabs_head li.active a span').text().trim();
						if (table_id == 'ACACSA' || table_id == 'ACAPTF' || table_id == 'SAQTIP') {
							eval($('#COMMON_TABS li.active ').attr('onclick'));
						}
						//Added to stay in same page after clicking save in add new mode for  related list grids under subtabs - end
						else {
							$('.BTN_MA_ALL_REFRESH').click();
						}





						setTimeout(function () {


							var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();

							var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');



							localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
							var fff_test = localStorage.getItem('before_click_on_edit_lstg');
							localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
							var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');
							$('.' + active_before_click_on_edit).trigger('click');


						}, 2000);
						$("body").removeClass("modal-open");
						$("body").css("padding-right", "");
						drop_down_selected_list = [];
					} else {
						document.getElementById('Headerbnr').style.display = 'block';
						document.getElementById('Headerbnr').innerHTML = err_msg;
					}
					if (AllTreeParam["TreeParam"] == "Customer Information") {
						localStorage.setItem("left_tree_refresh", "yes")
						localStorage.setItem("add_new_functionality", "TRUE")
						CommonLeftView()
						//Subbaner('',CurrentNodeId, 'SYOBJR-98798', 'SAQTIP');
						loadRelatedList("SYOBJR-98798", "div_CTR_Involved_Parties")
					}
					if (AllTreeParam["TreeParam"] == "Sales Team") {
						localStorage.setItem("left_tree_refresh", "yes")
						localStorage.setItem("add_new_functionality", "TRUE")
						CommonLeftView()
						//Subbaner('',CurrentNodeId, 'SYOBJR-98798', 'SAQTIP');
						loadRelatedList("SYOBJR-00643", "div_CTR_related_list")
					}

				});
			} catch (e) {
				console.log(e);
			}
		}
	}
	//A043S001P01-7066-------Start
	else {
		$('#alert_msg div label').text('ERROR:You will not be able to save your data until all required fields are populated')
		$('#alert_msg').css('display', 'block')
		//A043S001P01-7066-------End
	}
	$('div#cont_viewModalSection').css('display', 'none');
}

function popup_cont_CLOSE() {
	$('.BTN_MA_ALL_REFRESH').click();
	$("body").removeClass("modal-open");
	$("body").css("padding-right", "");
}

function popup_cont_EDIT() {
	//start--A043S001P01-7185
	$('html').css('cssText', 'overflow-y:hidden !important');
	//end--A043S001P01-7185
	//RAMESH A043S001P01-8507 START
	//$('div#cont_viewModalSection').css('display','none');
	//RAMESH A043S001P01-8507 end
	setTimeout(function () {
		localStorage.setItem("TextAreaReadOnlyMode", "0");
		textAreaAccess();
	}, 2000);

	var lable = localStorage.getItem('cont_lable')
	var value = localStorage.getItem('cont_value')
	var table_id = localStorage.getItem('cont_table_id')
	if (table_id == 'MAATVL') {
		localStorage.setItem('operation_state', 'MAATVL');

	}
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");

	try {
		cpq.server.executeScript("SYLDPPRVAE", {
			'RETURN': '0',
			'OPERATION': 'EDIT',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVAL': ''
		}, function (datas) {
			data = datas[0];
			date_field = datas[1];
			//RAMESH A043S001P01-8507 START
			// if (document.getElementById("binddivpop")) {
			// document.getElementById("binddivpop").innerHTML = data;
			// }
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
				////A043S001P01-12307 code starts...To hide the x button in edit mode.
				ButtonName = document.querySelector('div#VIEW_DIV_ID .row.pad-10.bg-lt-wt.brdr').children[0].innerText
				if (ButtonName == 'CANCEL') {
					$('.close').css('display', 'none')
				} else {
					$('.close').css('display', 'block')
				}
				////A043S001P01-12307 code ends...To hide the x button in edit mode.
			}
			//RAMESH A043S001P01-8507 END
			if (date_field.length !== 0) {
				$.each(date_field, function (key, value) {
					onclick_datepicker(value)
				});
			}

			var sel_val = '';
			$('div#checkboxes input[checked="checked"]').each(function () {
				var class_txt = $(this).attr('class');

				if (sel_val == '') {
					sel_val = class_txt;

				} else {
					sel_val = sel_val + ',' + class_txt;

				}
			});

			setTimeout(function () {
				$('[data-toggle="popover"]').popover();
			}, 500);

			$('.inp_val').val(sel_val);
		});
	} catch (e) {
		console.log(e);
	}

	setTimeout(function () {
		$('.in .modal-dialog .modal_vh_div table tbody tr td input').each(function (index) {

			var inp_bg_color = $(this).css('background-color');

			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('border', '1px solid #dcdcdc');
			}

		});
		$('.in .modal-dialog .modal_vh_div table tbody tr td select').each(function (index) {

			var inp_bg_color = $(this).css('background-color');

			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('border', '1px solid #dcdcdc');
			}

		});

		$('input').each(function () {
			var inp = $(this).val();
			if (/^[-+]?[0-9]+\.[0-9]+$/.test(inp)) {
				$(this).attr('type', 'number');
			}
		});

	}, 1000);

	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		//var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();

		if (table_heigth > popUp_height) {

			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');

		}
	}, 3000);

	setTimeout(function () {
		var b = $('#QSTN_SYSEFL_MA_05164').val();
		var a = $('#HELP_TEXT').val();

		if (a != b) {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-info-circle').after('<i class="fa fa-warning drkred" ></i>');
		} else {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
		}

	}, 3000);
	// 8992 STARTS Vijaya Kumar
	setTimeout(function () {

		var len = '';
		if ($('div#cont_viewModalSection .modal-dialog .modal_vh_div .modal-content div#VIEW_MODAL_SECTION div#VIEW_DIV_ID .row.pad-10.bg-lt-wt.brdr button')) {
			len = $('div#cont_viewModalSection .modal-dialog .modal_vh_div .modal-content div#VIEW_MODAL_SECTION div#VIEW_DIV_ID .row.pad-10.bg-lt-wt.brdr button').length;
		}
		$('div#cont_viewModalSection .modal-dialog .modal_vh_div .modal-content div#VIEW_MODAL_SECTION div#VIEW_DIV_ID .row.pad-10.bg-lt-wt.brdr button').each(function (index) {

			var btn_txt = $(this).text().trim();

			if (btn_txt == 'CANCEL') {
				$(this).remove();
			}
			if (index == len - 1) {
				$(this).before('<button type="button" onclick="viewedit_popup_close()" class="btnconfig" data-dismiss="modal">CANCEL</button>');
			}
		});
	}, 3000); // 8992 ENDS

}

function namePOPUPFormatter(value, row) {

	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="cont_lookup_popup_onchange(this)">' + value + '</a>';

}

function namePOPUPFormatternew(value, row) {

	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="cont_lookup_popup_onchange_new(this)">' + value + '</a>';

}

function namePOPUPFormattersetcheck(value, row) {

	ids = row.ids
	return '<p id = "' + ids + '" >' + value + '</p>';

}

function namePrice_class_popup_onchange(ele) {

	if (document.getElementById("PRICEMETHOD_ID")) {
		document.getElementById("PRICEMETHOD_ID").value = ele.text;
	}
	document.getElementById("pivot_viewModalSection").style.display = "none"
}

function namePrice_class_popup(value, row) {
	ids = row.PRICEMETHOD_NAME
	return '<a id = "' + ids + '" class="cur_sty" onclick="namePrice_class_popup_onchange(this)">' + value + '</a>';

}

function namePrice_class_popupback() {
	if ($('#pivot_viewModalSection')) {
		//document.getElementById("pivot_viewModalSection").style.display="block"
		document.getElementById("pivot_viewModalSection").style.display = "none";
	}

}

function namePrice_class_popupclear() {
	if ($('#pivot_viewModalSection')) {
		document.getElementById("pivot_viewModalSection").style.display = "none";
	}

}

function namePOPUPFormatterClone(value, row) {

	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="cont_lookup_popup_onchange_clone(this)">' + value + '</a>';

}

function cont_lookup_popup(elem) {

	value = $(elem).attr('id');
	if (value.indexOf('___') != -1) {
		a = value.split('___')[0];
		b = value.split('___')[1];
		var PRICEMODEL_ID = document.getElementById("PRICEMODEL_ID").value;
		value = b + '___' + PRICEMODEL_ID
	}
	var PRICE_MOD_ID = ''
	if (value == 'PRPRMM') {
		PRICE_MOD_ID = $('#VIEW_DIV_ID #PRICEMODEL_ID').val()
	}

	look_up_id = $(elem).closest('td').children('input:first').attr('id');
	localStorage.setItem("look_up_id", look_up_id);

	input_val = []
	pop_id = []

	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});

	var assoc = {};
	for (var i = 0; i < pop_id.length; i++) {
		assoc[pop_id[i]] = input_val[i];
	}

	localStorage.setItem("assoc_array_value_view", JSON.stringify((assoc)));
	table = localStorage.getItem('cont_table_id');

	keyData = localStorage.getItem('keyData');

	try {
		cpq.server.executeScript("SYCTLKPPUP", {
			'TABLEID': value,
			'OPER': 'NO',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'GSCONTLOOKUP': '',
			'TABLENAME': table,
			'KEYDATA': keyData,
			'PRICE_MOD_ID': PRICE_MOD_ID,
			'ARRAYVAL': assoc,
			'PRICEMODEL_ID': ''
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data4 = dataset[4];
			//RAMESH A043S001P01-8507 START
			// if (document.getElementById("binddivpop")) {

			// $('div#cont_viewModalSection').css('display','block');
			// }
			//RAMESH A043S001P01-8507 end
			if (data4 == '') {
				document.getElementById('VIEW_DIV_ID').innerHTML = datas;
			} else {
				document.getElementById('VIEW_MODAL_SECTION').innerHTML = datas;
			}

			try {
				$('#' + data2).bootstrapTable({
					data: data1
				});
			} catch (err) {

				setTimeout(function () {

					$('#' + data2).bootstrapTable({
						data: data1
					});
				}, 5000);
			} finally { }

			try {
				eval(data3);
			} catch (e) {
				console.log(e);
			}

		});
	} catch (e) {
		console.log(e);
	}

	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		//var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();

		if (table_heigth > popUp_height) {

			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');

		}
	}, 3000);

}

function cont_lookup_popup_clone(elem) {

	value = $(elem).attr('id');

	table = localStorage.getItem('cont_table_id')
	look_up_id = $(elem).closest('td').children('input:first').attr('id');
	localStorage.setItem("look_up_id", look_up_id);

	input_val = []
	pop_id = []
	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});
	var assoc = {};
	for (var i = 0; i < pop_id.length; i++) {
		assoc[pop_id[i]] = input_val[i];
	}

	localStorage.setItem("assoc_array_value", JSON.stringify((assoc)));
	table = localStorage.getItem('cont_table_id');
	keyData = localStorage.getItem('keyData');

	try {
		cpq.server.executeScript("SYCTLKPPUP", {
			'TABLEID': value,
			'OPER': 'CLONE',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'GSCONTLOOKUP': '',
			'TABLENAME': table,
			'KEYDATA': keyData,
			'ARRAYVAL': assoc,
			'PRICEMODEL_ID': ''
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			document.getElementById('VIEW_DIV_ID').innerHTML = datas;

			try {
				$('#' + data2).bootstrapTable({
					data: data1
				});
			} catch (err) {

				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1
					});
				}, 5000);
			} finally { }
			try {
				eval(data3);
			} catch (e) {
				console.log(e);
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function cont_lookup_attr_new(elem) {

	value = $(elem).attr('id');
	table = localStorage.getItem('cont_table_id');
	keyData = localStorage.getItem('keyData');

	try {
		cpq.server.executeScript("SYCTLKPPUP", {
			'TABLEID': value,
			'OPER': 'PIVOT_CHECK',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'GSCONTLOOKUP': '',
			'TABLENAME': table,
			'KEYDATA': keyData,
			'ARRAYVAL': '',
			'PRICEMODEL_ID': ''
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			document.getElementById('VIEW_DIV_ID').innerHTML = datas;

			try {
				$('#' + data2).bootstrapTable({
					data: data1
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1
					});
				}, 5000);
			} finally { }
			try {
				eval(data3);
			} catch (e) {
				console.log(e);
			}

			setTimeout(function () {

				$('th.bs-checkbox:first-child').html('<div class="th-inner ht_bg_cl_pd_lt"><div class="pst_rel_ht">Select</div><div class="fht-cell pad_imp"><div class="filter-control br_ht_pad_padlf_bg_imp"><input name="btSelectAll" onclick="attrMaterial(this)" class="custom pos_rel_top5" type="checkbox"><span class="lbl"></span></div></div></div>');


				var count = 0;
				var index_count = 0;
				$('table#table_MAATTR tbody tr').each(function (index) {

					var z = $(this).attr('class');

					index_count = index;

					if (z == 'selected') {

						count = count + 1;

					}
				});
				index_count = index_count + 1;

				if (index_count == count) {

					$('table#table_MAATTR thead tr th.bs-checkbox input').trigger('click');
				}

				$('table#table_MAATTR tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {

					$(this).attr('onchange', 'attrcheckbox(this)');
				});

			}, 200);
		});
	} catch (e) {
		console.log(e);
	}

}
$(document).on("click", ".page-link", function () {

	$("#table_MAATTR td.bs-checkbox").append('<span class="lbl"></span>');
	$("#table_MAATTR .bs-checkbox input").addClass("custom");

})

function cont_lookup_set_attrcheck_new(elem) {
	$("#table_MAATTR td.bs-checkbox").append('<span class="lbl"></span>');
	$("#table_MAATTR .bs-checkbox input").addClass("custom");
	value = $(elem).attr('id');

	table = localStorage.getItem('cont_table_id');

	try {
		cpq.server.executeScript("SYCTLKPPUP", {
			'TABLEID': value,
			'OPER': 'PIVOT_CHECK_SET',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'GSCONTLOOKUP': '',
			'TABLENAME': '',
			'KEYDATA': '',
			'ARRAYVAL': '',
			'PRICEMODEL_ID': ''
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data5 = dataset[5];
			document.getElementById('VIEW_DIV_ID').innerHTML = datas;


			try {
				$('#' + data2).bootstrapTable({
					data: data1
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1
					});
				}, 5000);
			} finally {

				$("#table_MAATTR td.bs-checkbox").append('<span class="lbl"></span>');
				$("#table_MAATTR .bs-checkbox input").addClass("custom");
			}
			try {
				eval(data3);
				eval(data5);
			} catch (e) {
				console.log(e);
			}

			setTimeout(function () {

				$('th.bs-checkbox:first-child').html('<div class="th-inner ht55_bg_padlt" ><div class="pst_rel_ht">Select</div><div class="fht-cell pad_imp" ><div class="filter-control br_ht_pad_padlf_bg_imp"><input name="btSelectAll" onclick="attrMaterial(this)" class="custom pos_rel_top5" type="checkbox" ><span class="lbl"></span></div></div></div>');


				var count = 0;
				var index_count = 0;
				$('table#table_MAATTR tbody tr').each(function (index) {

					var z = $(this).attr('class');

					index_count = index;

					if (z == 'selected') {

						count = count + 1;

					}
				});
				index_count = index_count + 1;

				if (index_count == count) {

					$('table#table_MAATTR thead tr th.bs-checkbox input').trigger('click');
				}

				$('table#table_MAATTR tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {

					$(this).attr('onchange', 'attrcheckbox(this)');
				});

			}, 200);

		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		$('table#table_MAATTR tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {

			$(this).attr('class', 'custom');

			$(this).after('<span class="lbl"></span>');
		});
	}, 600);

}
setInterval(function () {
	$('.in table#table_MAATTR thead tr th.bs-checkbox .lbl').remove();
	$('.in table#table_MAATTR thead tr th.bs-checkbox input.custom').after('<span class="lbl"></span>');
}, 100);

function cont_lookup_popup_new(elem, DivName) {

	//$('#cont_viewModalSection').css('display', 'block'); // Added for this ID 7857.....
	//$('div#cont_viewModalSection').addClass('in') // To add the inClass when we clicking the lookup from addnew scenario.
	if (DivName == '' || DivName == undefined) {
		DivName = 'VIEW_DIV_ID';
		localStorage.setItem("TREETAB", 'NO');
	} else {
		localStorage.setItem("TREETAB", 'YES');
	}
	getpopupid = $(elem).attr('data-target').slice(1);
	$('#' + getpopupid).show()
	value = $(elem).attr('id');
	if (TreeParam == "Approval Chain Steps" && value == "") {
		value = "ACAPCH"
	}
	table = localStorage.getItem('XX_cont_table_id')
	look_up_id = $(elem).closest('td').children('input:first').attr('id');
	localStorage.setItem("look_up_id", look_up_id);
	input_val = []
	pop_id = []
	//Get the Tested Object Name code starts..
	current_tab_name = $('#carttabs_head li.active a span').text();
	if (current_tab_name == 'Approval Chain') {
		Tested_object_name = $('#TSTOBJ_LABEL').val();
		Trackedfield_Tested_object_name = $('#TRKOBJ_NAME').val();
		chain_mappings_approval_object = $('#APROBJ_LABEL').val();
	}
	else if (current_tab_name == 'Quote') {
		Tested_object_name = $('select#PARTY_ROLE option:selected').text();
		Trackedfield_Tested_object_name = ''
		chain_mappings_approval_object = ''
		if (Tested_object_name.includes("..Select")) {
			Tested_object_name = Tested_object_name.replace("..Select", "")
			if (Tested_object_name == "") {
				involved_parties_tested_object = "True"
			}
		}
		if (Tested_object_name == "") {
			$("#cont_viewModalSection").css('display', 'none');
		}
	}
	else {
		Tested_object_name = '';
		Trackedfield_Tested_object_name = ''
		chain_mappings_approval_object = ''
	}

	//Get the Tested Object Name code ends..

	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});
	var assoc = {};
	for (var i = 0; i < pop_id.length; i++) {
		assoc[pop_id[i]] = input_val[i];
	}
	localStorage.setItem("assoc_array_value", JSON.stringify((assoc)));
	ctr_name = localStorage.getItem('ctr_name')

	if (ctr_name == 'CTR_SYSEFL_MA_00382') {
		table = localStorage.getItem('XX_cont_table_id');
		keyData = localStorage.getItem('keyData');

		table = ''
		try {
			cpq.server.executeScript("SYCTLKPPUP", {
				'TABLEID': value,
				'OPER': 'PIVOT_CHK',
				'ATTRIBUTE_NAME': '',
				'ATTRIBUTE_VALUE': '',
				'GSCONTLOOKUP': '',
				'TABLENAME': table,
				'KEYDATA': keyData,
				'ARRAYVAL': assoc,
				'PRICEMODEL_ID': '',
				'TESTEDOBJECT': Tested_object_name,
				'LOOKUP_ID': look_up_id,
			}, function (dataset) {

				datas = dataset[0];
				data1 = dataset[1];
				data2 = dataset[2];
				data3 = dataset[3];
				if (document.getElementById(DivName)) {
					document.getElementById(DivName).innerHTML = datas;
				}
				try {
					$('#' + data2).bootstrapTable({
						data: data1
					});
				} catch (err) {
					setTimeout(function () {
						$('#' + data2).bootstrapTable({
							data: data1
						});
					}, 5000);
				} finally { }
				try {
					eval(data3);
				} catch (e) {
					console.log(e);
				}
			});
		} catch (e) {
			console.log(e);
		}
	} else {

		table = localStorage.getItem('XX_cont_table_id');
		keyData = localStorage.getItem('keyData');


		pricmodal = ''
		if (table == 'ADDNEW__SYOBJR_30114_SYOBJ_00071') {
			var var_data = $('input#PRICEMODEL_ID').val();
		}
		if (look_up_id == 'PRICEMETHOD_ID') {
			table = ''
			var var_data = $('input#PRICEMODEL_ID').val();
		} else if (look_up_id == 'APROBJ_STATUSFIELD_LABEL') {
			var var_data = $('input#APROBJ_LABEL').val();


		} else if (look_up_id == 'DEP_ATTRIBUTE_NAME' || look_up_id == 'ATTVAL_VALUE_CODE' || look_up_id == 'ATTVAL_VALUECODE') {
			var var_data = $('input#ATTRIBUTE_NAME').val();
		} else if (look_up_id == 'DEP_ATTVAL_VALUE_CODE') {
			var var_data = $('input#DEP_ATTRIBUTE_NAME').val();
		} else if (look_up_id == 'CFGMATCLS_TAB_TEXT') {
			var var_data = $('input#CFGMATCLS_PAGE_RECORD_ID').val();
		}
		// A043S001P01-11642 start
		else if (look_up_id == 'CMP_CFGMATCLS_ID') {
			var var_data = $('input#CFGMATCLS_RECORD_ID').val();
		} else if (look_up_id == 'CFGMATCLS_SECTION_TEXT') {
			var var_data = $('input#CFGMATCLS_RECORD_ID').val();
		}
		// A043S001P01-11642 end
		else if (look_up_id == 'ATTRIBUTE_NAME') {
			var var_data = $('input#CFGMATCLS_RECORD_ID').val();
		} //A043S001P01-12265 Start
		else if (look_up_id == 'TRKOBJ_TRACKEDFIELD_LABEL') {
			var var_data = $("#div_CTR_Approval_Tracked_Fields input#TRKOBJ_NAME").val()
		} // A043S001P01-12265 End
		else {
			var var_data = ''
		}
		if (typeof (involved_parties_tested_object) == "undefined") {
			try {
				cpq.server.executeScript("SYCTLKPPUP", {
					'TABLEID': value,
					'OPER': 'YES',
					'ATTRIBUTE_NAME': '',
					'ATTRIBUTE_VALUE': '',
					'GSCONTLOOKUP': '',
					'TABLENAME': table,
					'KEYDATA': keyData,
					'ARRAYVAL': assoc,
					'PRICE_MODEL_ID': var_data,
					'TESTEDOBJECT': Tested_object_name,
					'TRACKEDTESTEDOBJECT': Trackedfield_Tested_object_name,
					'MAPPINGSAPPROVALOBJECT': chain_mappings_approval_object,
					'LOOKUP_ID': look_up_id,
					'SELECTED_ROLE': $('#CPQ_PARTNER_FUNCTION').val()
				}, function (dataset) {

					datas = dataset[0];
					data1 = dataset[1];
					data2 = dataset[2];
					data3 = dataset[3];
					data6 = dataset[6];
					localStorage.setItem('lookup_ids', [table, dataset[2], look_up_id]);
					if (document.getElementById(DivName)) {
						document.getElementById(DivName).innerHTML = datas;
					}
					if (data6 != "") {
						$('#' + data2).attr('data-pagination', 'false');
						$('#popup_footer').html(data6);
						total_rec = $('#TotalRecAppCount').text();
						localStorage.setItem('total_lookup_records', total_rec);
					}
					$("#cont_viewModalSection").modal('show');
					try {
						$('#' + data2).bootstrapTable({
							data: data1
						});
					} catch (err) {
						setTimeout(function () {
							$('#' + data2).bootstrapTable({
								data: data1
							});
						}, 5000);
					} finally { }
					try {
						eval(data3);
					} catch (e) {
						console.log(e);
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
	}
	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		//var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container .bootstrap-table .fixed-table-body table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();

		if (table_heigth > popUp_height) {

			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');

		}
	}, 3000);

}

function popup_cont_clone() {

	var table_id = localStorage.getItem('cont_table_id')
	var ids = localStorage.getItem('clone_ids')
	var lable = localStorage.getItem('cont_lable')
	var value = localStorage.getItem('cont_value')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");

	try {
		cpq.server.executeScript("SYCLONEALL", {
			'RETURN': ids,
			'OPERATION': 'CLONE',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': id_value,
			'LOOKUPOBJ': look_obj_val
		}, function (datas) {
			data = datas[0];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
				assoc = JSON.parse(localStorage.getItem('assoc_array_value'))

				if (assoc) {
					$.each(assoc, function (key, values) {
						$('#VIEW_DIV_ID #container #' + key).val(values);
					});
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function userRoles_clear() {
	$('#cont_viewModalSection').css('display', 'none');
	$('#div_CTR_Role_Users input#USER_NAME').val('');
}

function cont_openaddnew_back() {
	localStorage.setItem('ctr_name', '')
	var table_id = localStorage.getItem('cont_table_id')
	//A043S001P01-10888 START
	if (table_id == "ADDNEW__SYOBJR_94452_SYOBJ_00425") {
		var uname = $('input#USER_NAME').val();
	}
	// A043S001P01-10888 END
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");
	try {
		cpq.server.executeScript("SYUADNWPOP", {
			'TABLEID': table_id,
			'OPER': 'NO',
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': '',
			'LOOKUPOBJ': '',
			'LOOKUPAPI': ''
		}, function (data) {
			date_field = data[3];

			if (document.getElementById("VIEW_DIV_ID")) {
				var treetab = localStorage.getItem("TREETAB");

				if (treetab == 'YES') {
					$('#cont_viewModalSection').hide();
				}
				// A043S001P01-10888 START
				if (table_id == "ADDNEW__SYOBJR_94452_SYOBJ_00425") {
					$('#cont_viewModalSection').hide();
					document.getElementById("div_CTR_Role_Users").innerHTML = data[0];
					$('input#USER_NAME').val(uname);

				}
				// A043S001P01-10888 END
				else {
					document.getElementById("VIEW_DIV_ID").innerHTML = data[0];
				}
				assoc = JSON.parse(localStorage.getItem('assoc_array_value'))

				if (assoc) {
					$.each(assoc, function (key, value) {
						$('#VIEW_DIV_ID #container #' + key).val(value);
					});
				}
				if (date_field.length !== 0) {
					$.each(date_field, function (key, value) {
						onclick_datepicker(value)
					});
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		//var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();

		if (table_heigth > popUp_height) {

			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');

		}
	}, 3000);

}

function cont_lookup_popup_onchange(ele) {
	id_value = $(ele).attr('id');

	look_obj_val = $(ele).closest('table').attr('id')
	var look_up_id = localStorage.getItem("look_up_id");
	var lable = localStorage.getItem('cont_lable')
	var value = localStorage.getItem('cont_value')
	var table_id = localStorage.getItem('cont_table_id')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");
	try {
		cpq.server.executeScript("SYCTLKANVL", {
			'RETURN': '0',
			'OPERATION': 'EDIT',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'IDVALUE': id_value,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'LOOKUPOBJ': look_obj_val,
			'LOOKUPAPI': look_up_id
		}, function (datas) {

			data = datas[0];
			new_value = datas[1];
			obj_name = datas[3];

			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
				assoc = JSON.parse(localStorage.getItem('assoc_array_value_view'))

				if (assoc) {
					$.each(assoc, function (key, value) {
						$('#VIEW_DIV_ID #container #' + key).val(value);
					});
				}

				$.each(new_value, function (key, values) {

					if (values != '') {
						$('#VIEW_DIV_ID #' + key).val(values);
					}
				});

				value1 = id_value.split('|');

				$('#VIEW_DIV_ID #' + datas[2]).val(value1[0]);
			}
		});
	} catch (e) {
		console.log(e);
	}

	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		//var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();

		if (table_heigth > popUp_height) {

			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');

		}
	}, 2000);
}

function cont_lookup_popup_onchange_clone(ele) {

	id_value = $(ele).attr('id');

	look_obj_val = $(ele).closest('table').attr('id')
	var table_id = localStorage.getItem('cont_table_id')
	var ids = localStorage.getItem('clone_ids')
	var lable = localStorage.getItem('cont_lable')
	var value = localStorage.getItem('cont_value')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");

	try {
		cpq.server.executeScript("SYCLONEALL", {
			'RETURN': ids,
			'OPERATION': 'CLONE',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': id_value,
			'LOOKUPOBJ': look_obj_val
		}, function (datas) {

			data = datas[0];
			new_value = datas[1];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
				assoc = JSON.parse(localStorage.getItem('assoc_array_value'))

				if (assoc) {
					$.each(assoc, function (key, values) {
						$('#VIEW_DIV_ID #container #' + key).val(values);
					});
				}
				$.each(new_value, function (key, values) {

					if (values != '') {
						$('#' + key).val(values);
					}
				});

				value1 = id_value.split('|');

				ids = $.trim(datas[2]);
				$('#' + ids).val(value1[0]);
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function cont_lookup_popup_onchange_new(ele) {

	id_value = $(ele).attr('id');

	localStorage.setItem('selected_lookup_val', id_value)

	look_obj_val = $(ele).closest('table').attr('id')
	var table_id = localStorage.getItem('cont_table_id')
	// A043S001P01-10888 START
	if (table_id == 'ADDNEW__SYOBJR_94452_SYOBJ_00425') {
		var user_name = $(ele).text();
		localStorage.setItem('UserName', user_name)
	}
	// A043S001P01-10888 END

	var look_up_id = localStorage.getItem("look_up_id");

	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");
	divname = localStorage.getItem("divid");
	// A043S001P01-10888 START
	if (table_id != 'ADDNEW__SYOBJR_94452_SYOBJ_00425') {
		// A043S001P01-10888 END
		try {
			cpq.server.executeScript("SYUADNWPOP", {
				'TABLEID': table_id,
				'OPER': 'NO',
				'RECORDID': first_record_id,
				'RECORDFEILD': first_record_feild,
				'NEWVALUE': id_value,
				'LOOKUPOBJ': look_obj_val,
				'LOOKUPAPI': look_up_id
			}, function (datas) {
				data = datas[0];
				new_value = datas[1];
				date_field = datas[3];
				var treetab = localStorage.getItem("TREETAB");

				if (document.getElementById("VIEW_DIV_ID")) {
					if (treetab == 'YES' && table_id != "ADDNEW__SYOBJR_30114_BC6439C0_1C37_474A_B925_CF9A2E23B732") {
						$('#cont_viewModalSection').hide();
					} else {
						before_HTML_content = document.getElementById("VIEW_DIV_ID").innerHTML;
						document.getElementById("VIEW_DIV_ID").innerHTML = before_HTML_content;
					}
					assoc = JSON.parse(localStorage.getItem('assoc_array_value'))

					if (assoc) {
						$.each(assoc, function (key, values) {
							$('#VIEW_DIV_ID #container #' + key).val(values);
						});
					}
					$.each(new_value, function (key, values) {
						// A043S001P01-9035 start
						if (divname == 'div_CTR_Award_Level_Groups') {
							$('#div_CTR_Award_Level_Groups #' + key).val(values);
						}
						//Added to hide based on the selection of values from lookup in Approvers subtab-start
						else if (divname == 'div_CTR_Approvers') {
							if (look_up_id == 'PROFILE_ID') {
								if (values != '') {
									$('input#' + key).val(values);
									$('input#ROLE_ID').attr('disabled', 'disabled');
									$('input#ROLE_ID').closest('td').find('input:nth-child(2)').css('display', 'none');
									$('input#ROLE_ID').closest('tr').hide();
								}
								else if (values == '') {
									$('input#ROLE_ID').closest('tr').show();
									$('input#ROLE_ID').removeAttr('disabled');
									$('input#ROLE_ID').closest('td').find('input:nth-child(2)').css('display', 'inline-block');
								}
							}
							else if (look_up_id == 'ROLE_ID') {
								if (values != '') {
									$('input#' + key).val(values);
									$('input#PROFILE_ID').attr('disabled', 'disabled');
									$('input#PROFILE_ID').closest('td').find('input:nth-child(2)').css('display', 'none');
									$('input#PROFILE_ID').closest('tr').hide();
								}
								else if (values == '') {
									$('input#PROFILE_ID').closest('tr').show();
									$('input#PROFILE_ID').removeAttr('disabled');
									$('input#PROFILE_ID').closest('td').find('input:nth-child(2)').css('display', 'inline-block');

								}
							}
							else if (look_up_id != '') {
								$('input#' + key).val(values);
							}

						}
						//Added to hide based on the selection of values from lookup in Approvers subtab-end
						else if (values != '') {
							$('input#' + key).val(values);
						}
						// A043S001P01-9035 end
					});

					value1 = id_value.split('|');

					ids = $.trim(datas[2]);
					$('#' + ids).val(value1[0]);
					if (ids == 'PLANT_RECORD_ID') {
						getsalesorgval = $('#container input#SALESORG_ID').val();
						getplantid = $('#container input#PLANT_ID').val();
						if ($('#container input#SALESORG_ID').length != 0 && $('#container input#PLANT_ID').length != 0) {
							if (getsalesorgval.trim() == getplantid.trim()) {
								$("#container #FULFILL_METHOD").val("STANDARD");
							}
						}

					} else if (ids == "TSTOBJ_RECORD_ID") {
						try {
							quotenumber = localStorage.getItem("keyData")
							cpq.server.executeScript("ACSECTACTN", {
								'ACTION': 'mailbodyfield',
								'QuoteNumber': quotenumber,
								'objhRecordID': value1[0]
							}, function (dataset) {
								messagebodylist = dataset
								for (i = 0; i < messagebodylist.length; i++) {
									currentval = messagebodylist[i]
									$("#FirstMESSAGE_BODYVALUE").append('<option value="' + currentval + '">' + currentval + '</option>' + "\n");
								}
							});
						} catch (e) {
							console.log(e)
						}
					}

					if ((date_field.length !== 0) && (date_field != 'OWNED_DATE')) {
						$.each(date_field, function (key, value) {
							onclick_datepicker(value)
						});
					}
				}
			});
		} catch (e) {
			console.log(e);
		}
		// A043S001P01-10888 START
	} else {
		$('#cont_viewModalSection').hide()
		$('#div_CTR_Role_Users #container input#USER_NAME').val(user_name)
	}
	// A043S001P01-10888 END
}
function lang_cancel() {
	$("#Lang_cancel").prop('disabled', true);
	CurrentNodeId = 2;
	CommonRightView(CurrentNodeId);
}

function lang_save() {
	//$("#Lang_Select").prop('disabled', true);
	lang = $('#Lang').val();
	condensedview = $('#cv').is(':checked');
	lineitemdetailview = $('#lidv').is(':checked');
	billingview = $('#bm').is(':checked');
	spareview = $('#insp').is(':checked');
	//$('#TREE_div').css('display','none');
	//localStorage.setItem("showProgressBar", 1);
	$("div#progress-bar-model-text").text("GENERATING QUOTE DOCUMENT");
	if (lang == 'Select' || lang == '') {
		cpq.server.executeScript("CQDOCUGENR", { 'ACTION': 'WARNING' }, function (dataset) {
			//localStorage.setItem("showProgressBar", 0);
			if (localStorage.getItem("gendocwarning") == 0) {
				$('#conta2003').prepend(dataset);
				$('#PageAlert').show();
				localStorage.setItem("gendocwarning", 1);
			}
		});
	} else if (lang == 'English' || lang == 'Chinese') {
		$('#PageAlert').hide();
		$('#Headerbnr').remove();
		document_popup(lang);
		localStorage.setItem("showrefresh", "yes");
		cpq.server.executeScript("CQGNRTDOCS", { 'Language_selection': lang, 'Condensed_View': condensedview, 'Line_View': lineitemdetailview, 'Billing_MatrixView': billingview, 'Spare_view': spareview }, function (dataset) {
			//localStorage.setItem("showProgressBar", 0);
			$("#dynamic").css("width", "100%").attr("aria-valuenow", 100).text("100% Complete");
			CurrentNodeId = 2;
			CommonRightView(CurrentNodeId);
			//$('#progress_bar_modal').modal('hide');
		});
	}
	localStorage.setItem("showrefresh", "yes");
	//showProgressBar();

}
function document_popup(lang) {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');
	localStorage.setItem("gendoc", "yes");
	//$('#SYOBJR_98799_931DBB80_1A63_4B0A_96BA_FEF9885A08B1').append('<tr data-index="3"><td style="position:relative"><div class="btn-group dropdown"><div class="dropdown column-with-actions" id="ctr_drop"><i data-toggle="dropdown" id="dropdownMenuButton" class="fa fa-sort-desc dropdown-toggle" aria-expanded="false"></i><ul class="dropdown-menu left" aria-labelledby="dropdownMenuButton"><li><a class="dropdown-item" href="#">VIEW</a></li></ul></div></div></td><td class="bs-checkbox wth45"><input data-index="2" name="btSelectItem" type="checkbox" class="custom"><span class="lbl"></span><span class="lbl"></span><span class="lbl"></span></td><td><abbr title="<img title=Acquiring src=/mt/APPLIEDMATERIALS_PRD/Additionalfiles/Cloud_Icon.svg>"><img title="Acquiring" src="/mt/APPLIEDMATERIALS_PRD/Additionalfiles/Cloud_Icon.svg"></abbr></td><td><abbr id="Pending" title="Pending">Pending</abbr></td><td><abbr></abbr></td><td><abbr id="F7423685-5271-4DF6-92CB-A1CF9567E41D"></abbr></td><td><abbr id="F7423685-5271-4DF6-92CB-A1CF9567E41D" title="'+lang+'">'+lang+'</abbr></td><td><abbr id="F7423685-5271-4DF6-92CB-A1CF9567E41D"></abbr></td></tr>')
	try {
		cpq.server.executeScript("CQDOCUGENR", {
			'ACTION': 'POPUP',
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#div_CTR_Quote_documents').html(data);
				$('.drop-box').css('display', 'block');
				setTimeout(function () {
					$('.drop-box').css('display', 'none');
				}, 15000);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('opacity', '0');
			}

		});
	} catch (e) {
		console.log(e);
	}
}
function lang_sel_div() {
	CommonRightView('2_True');

}

function eventChildHyperLink(value, row) {
	ids = row.ids;
	return '<a class="detail-icon" href="#"></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}

function documentrealtedhyperlink(value, row) {

	return '<a href="#" onclick="downloadExcelConfiguration(this)">' + value + '</a>'

}

function attachmentdownloadhyperlink(value, row) {

	return '<a href="#" onclick="downloadattachedExcelConfiguration(this)">' + value + '</a>'

}


function downloadattachedExcelConfiguration(ele) {
	localStorage.setItem("showProgressBar", 1);
	$("div#progress-bar-model-text").text("DOWNLOADING QUOTE DOCUMENT");
	RecordId = ele.text
	ObjectName = 'SAQRAT'
	showProgressBar();
	cpq.server.executeScript('CQGNRTDOCS', { 'RECORD_ID': RecordId, 'ObjectName': ObjectName, 'QT_DWD': 'DOWNLOAD_ATTACHMENT' }, function (data) {
		value = data.size
		if (data.ErrorMsg) {
			alert("Sorry, something went wrong. CPQ is not able to create a XML file.\nError message: " + data.ErrorMsg);
			return;
		}
		var byteArray = new Uint8Array(data.File);
		if (window.navigator && window.navigator.msSaveBlob) {//if is IE
			navigator.msSaveBlob(new Blob([byteArray], { type: 'application/xml' }), data.FileName)
		} else {
			var a = document.createElement("a");
			document.body.appendChild(a);
			a.href = window.URL.createObjectURL(new Blob([byteArray], { type: 'application/octet-stream' }));
			a.download = data.FileName;
			localStorage.setItem("showProgressBar", 0);
			$("#dynamic").css("width", "100%").attr("aria-valuenow", 100).text("100% Complete");
			$('#progress_bar_modal').modal('hide');
			a.click();
			a.remove();
		}
	});
}

function btn_banner_content(txt) {
	localStorage.setItem("setaction", "");
	localStorage.setItem("QBLoaded", "");
	localStorage.setItem("SEG_REV_STATUS", "");

	var longEdit_val = localStorage.getItem('longEdit');
	/* Set Localstorage to stay on subtab after configurator update 'begin'*/
	var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();
	var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');
	// ADDED IF ELSE TO FIX UNDEFINED ERROR
	if (txt == "ADD NEW") {
		id_value = txt;
	} else {
		id_value = $(txt).attr('id');
	}
	//A043S001P01-12319 start
	if (id_value !== undefined) {
		if (id_value.includes("ADDNEW")) {
			localStorage.setItem('avoid_loading', '1');
			localStorage.setItem('BTNADDNEW', '1');
			// RESETTING THE LOCAL STORAGE TO PREVENT AFTER EDITIG AND CLICKING THE SECTION SAVE AND CANCEL BUTTON APPEARS IN THE UI STARTS.
			localStorage.setItem("SECTION_EDIT", "");
			// RESETTING THE LOCAL STORAGE TO PREVENT AFTER EDITIG AND CLICKING THE SECTION SAVE AND CANCEL BUTTON APPEARS IN THE UI ENDS.
		} else {
			localStorage.setItem('BTNADDNEW', '');
		}
	}
	var loadsection = '';
	loadsection = 'False';
	if (id_value == "Generate_Documents") {
		localStorage.setItem("gendocwarning", 0);
		$('#PageAlert').hide();
		$('#Headerbnr').remove();
		$('#TREE_div').css('display', 'none');

		if (TreeParam != "Documents") {
			//lang_sel_div();
			//loadsection = 'True';
		}
		TreeParentParam = "Quote information"
		$('.secondary_highlight_panel').find('button#Generate_Documents').css('display', 'none');
		items_include = $('#include_items').is(':checked');
		billing_matrix = $('#billmat').is(':checked');
		delivery_schedule = $('#part_delivery_schedule').is(':checked');
		parts_list_include = $('#include_parts_list').is(':checked');
		include_part_delivery = $('#include_part_delivery').is(':checked');
		cpq.server.executeScript("CQLANGSELT", { 'TreeParentParam': TreeParentParam, 'parts_list': items_include, 'billing_matrix': billing_matrix, 'delivery_schedule': delivery_schedule, 'parts_list_include': parts_list_include, 'include_part_delivery': include_part_delivery }, function (dataset) {
			$('.QuotesQuote_DocumentsOutput_Documents').click();
			$('#div_CTR_Quote_documents').css('display', 'none');
			$('.QuotesQuote_DocumentsDocument_Generator').removeClass('active');
			$('.QuotesQuote_DocumentsOutput_Documents').addClass('active');
			if (document.getElementById("div_CTR_Quote_documents")) {
				document.getElementById("div_CTR_Quote_documents").innerHTML = dataset;
				// FUNCTION CALL TO ENABLE THE POPOVER AND TO CLOSE IT WHEN ANOTHER IS ACTIVE
			}
			$('#div_CTR_Quote_documents').show();
			$('#div_CTR_Quote_documents').closest('.Related').css('display', 'block');
			quote_type = $(".segment_part_text").text();
			if (quote_type.indexOf('SPARE') != -1 || quote_type.indexOf('spare') != -1) {
				$("input#bm").prop("disabled", true);
			}

		});
	}

	// RESETTING THE LOCAL STORAGE TO PREVENT AFTER EDITIG AND CLICKING THE SECTION SAVE AND CANCEL BUTTON APPEARS IN THE UI STARTS.
	if (id_value.includes("BACKTOLIST") || id_value.includes("CANCEL")) {
		localStorage.setItem("SECTION_EDIT", "");
	}
	// RESETTING THE LOCAL STORAGE TO PREVENT AFTER EDITIG AND CLICKING THE SECTION SAVE AND CANCEL BUTTON APPEARS IN THE UI ENDS.
	//A043S001P01-12319 end
	if (id_value == 'BTN_SYACTI_AC_00006_SAVE') {
		$('#textinformation').css('display', 'none');
	}
	if (id_value == 'BTN_SYACTI_PB_00039_SAVE') {
		var array_list = {}
		var value = ['SYSEFL_PB_01919', 'SYSEFL_PB_01935', 'SYSEFL_PB_00431'];

		for (i = 0; i < value.length; i++) {
			//array_list[value[i]] = localStorage.getItem('selected_items_'+value[i])
			if ($("#options1_" + value[i]).text().trim() != '' || $("#options1_" + value[i]).text().trim() != null) {
				array_list[value[i]] = $("#options1_" + value[i]).text().trim().split("\n").toString()
			}

		}


		try {
			cpq.server.executeScript("PRDATEVLDN", {
				'picklist_array': array_list
			}, function () {

				console.log('saving....');

			});
		} catch (e) {
			console.log(e);
		}
		if ($('#QSTN_SYSEFL_PB_00093').val() == 'MCMVAR' || $('#QSTN_SYSEFL_PB_00093').val() == 'NCMVAR' || $('#QSTN_SYSEFL_PB_00093').val() == 'MBMAMF') {
			$('#processing_modal').modal()
		}
	} //A043S001P01 -  11384  Start
	else if (id_value == 'BTN_SYPGAC_AC_00003_SAVE') {
		quotenumber = $('#RichTextArea').val()
		cpq.server.executeScript("ACSECTACTN", {
			'ACTION': 'RichText',
			'QuoteNumber': quotenumber
		}, function (dataset) {
			$('#RichTextArea').jqxEditor({
				height: "350px !important",
				disabled: true
			});

		});
	}
	else if (id_value == 'BTN_SYPGAC_AC_00004_CANCEL') {
		$('#RichTextArea').jqxEditor({
			height: "350px !important",
			disabled: true
		});
	}
	// A043S001P01 -  11384 End



	if (id_value == 'BTN_SYACTI_PB_00127_CANCEL') {
		localStorage.setItem('RelatedEdit', '0');

		//$('#BTN_MA_ALL_REFRESH').click();
		data1 = localStorage.getItem('datasetnew');
		TreeParam = localStorage.getItem('PrcTreeParam');
		if (localStorage.getItem('EditCurrentNodeId') != '') {
			selectNodeById(localStorage.getItem('EditCurrentNodeId'));
		} else {
			selectNodeById(0);
		}
		TreeParentParam = localStorage.getItem('PrcTreeParentParam');
		TreeSuperParentParam = localStorage.getItem('PrcTreeSuperParentParam');
		data = data1.split(',');
		if (jQuery.inArray(TreeParam, data) !== -1 && TreeParentParam != 'Price Classes' && TreeSuperParentParam != 'Pricebook Sets') {
			PrcMdl_node_click();
			prcmdl_viewedit();
		}
	}
	if (id_value == 'BTN_SYACTI_SE_00024_GOTOPUBLISHER') {

	}
	module_name = $('#ModuleName').text().trim() // REQUIRED SYMBOL NOT SHOWING WHILE CLICKING ADD NEW.
	if ((module_name).toUpperCase() == "QUOTAS") {
		localStorage.setItem('avoid_loading', '1');
	}
	//if (id_value == 'BTN_MM_TAB_BTN_BACKTM'){

	//cpq.server.executeScript("SYMCTABSBL", { 'TABNAME': 'TABS' }, function (data) {


	//});
	//document.getElementById("createclose").click();
	//$("#MM_ALL_REFRESH").click();

	//  localStorage.setItem("mod_cof_id", "");
	//}



	if (id_value == 'BTN_PROFILE_ADD_NEW') {
		localStorage.setItem("Profile_ACTION", "ADD NEW");

		localStorage.setItem("REFRESH", "TRUE");
		try {
			cpq.server.executeScript("SYPRADDNEW", {
				'TabNAME': 'Profiles',
				'ACTION': 'ADD NEW',
			}, function () {
				$("#MM_ALL_REFRESH").click();

				$("#PROFILE_BANNER_RECORD_ID abbr").text('');
				$("#PROFILE_BANNER_RECORD_ID abbr").attr('title', '');
				$("#PROFILE_BANNER_ID abbr").text('');
				$("#PROFILE_BANNER_ID abbr").attr('title', '');
				$("#PROFILE_BANNER_NAME abbr").text('')
				$("#PROFILE_BANNER_NAME abbr").attr('title', '');

			});
		} catch (e) {
			console.log(e);
		}
	} else if (id_value == 'BTN_ROLE_ADD_NEW') {
		localStorage.setItem("Role_ACTION", "ADD NEW");

		localStorage.setItem("REFRESH", "TRUE");
		try {
			cpq.server.executeScript("SYPRADDNEW", {
				'TabNAME': 'Roles',
				'ACTION': 'ROLE ADDNEW',
			}, function (dataset) {
				$("#MM_ALL_REFRESH").click();
				data0 = dataset[0]
				setTimeout(function () {
					$('#righttreeview').html(data0);
				}, 3000);
				$("#PROFILE_BANNER_RECORD_ID abbr").text('');
				$("#PROFILE_BANNER_RECORD_ID abbr").attr('title', '');
				$("#PROFILE_BANNER_ID abbr").text('');
				$("#PROFILE_BANNER_ID abbr").attr('title', '');
				$("#PROFILE_BANNER_NAME abbr").text('')
				$("#PROFILE_BANNER_NAME abbr").attr('title', '');

			});
		} catch (e) {
			console.log(e);
		}
	}

	//9980 strat
	if (id_value == 'BTN_MM_TAB_MOD_ADDNEW') {

		try {

			cpq.server.executeScript("SYMCTABSOP", {
				'Primary_Data': '',
				'TabNAME': 'Tab',
				'ACTION': 'ADDNEW'
			}, function () {

			});


			//document.getElementById("createtab").click();

			$('#BTN_MA_ALL_REFRESH').click();
		} catch (e) {
			console.log(e);
		}

	}
	//9980 end

	if (id_value == 'BTN_SYACTI_PB_00128_SAVE') {


		input_val = []
		pop_id = []
		$("#RelatedDetail input:not(.popup)").each(function () {
			if ($(this).attr('type').toUpperCase() == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
				input_val.push($(this).prop('checked'))
				pop_id.push($(this).attr('id'))
			} else if ($(this).attr('type') != 'checkbox') {
				input_val.push($(this).val())
				pop_id.push($(this).attr('id'))
			}
		});

		$("#RelatedDetail select:not(#select_id)").each(function () {
			input_val.push($(this).children("option:selected").text());
			pop_id.push($(this).attr('id'))
		});
		$("#RelatedDetail textarea").each(function () {
			input_val.push($(this).val());
			pop_id.push($(this).attr('id'))
		});



		cpq.server.executeScript("PRSEPMATTR", {
			'Labels': pop_id,
			'Values': input_val
		}, function (datas) {

			localStorage.setItem('RelatedEdit', '0');
			$('.BTN_MA_ALL_REFRESH').click();
			PrcMdl_node_click();
			prcmdl_viewedit();

		});
	}

	var edit_related_cancel_get = localStorage.getItem('edit_related_cancel');
	if (edit_related_cancel_get == '1') {
		active_before_click_on_edit = "createclose";
		localStorage.setItem('edit_related_cancel', '0');
	}

	localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
	var fff_test = localStorage.getItem('before_click_on_edit_lstg');
	localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
	var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');


	/* Set Localstorage to stay on subtab after configurator update 'end'*/

	var ActiveTab = $('ul#carttabs_head li.active a span').text();

	if (txt == 'ADD NEW') {
		localStorage.setItem('keyData', null);
		var btn_txt_val = txt;

		//$('.PointRangAdj').css('display','none');
		localStorage.setItem("record_number_add_new", "1");

	} else {
		var btn_txt_val = $(txt).text();
	}

	if (longEdit_val == '1') {
		btn_txt_val = 'EDIT';

	}


	localStorage.setItem('btn_txt_val', btn_txt_val);

	localStorage.setItem("saveDraft", btn_txt_val);
	var sa_drf = localStorage.getItem("saveDraft");


	if (btn_txt_val == 'ADD NEW') {
		localStorage.setItem('price_model', '0');
		localStorage.setItem("Relatedadd", "1");
		localStorage.setItem('attr_type_cont', '1');
		localStorage.setItem('avoidCurrency', '1');
		localStorage.setItem('KeyToCurrency', '');
		if (id_value == 'BTN_PRICE_MODELS_ADDNEW') {
			localStorage.setItem("RelatedEdit", "1");
		} else {
			localStorage.setItem("RelatedEdit", "0");
		}


		localStorage.setItem("record_number_add_new", "1");

		//localStorage.setItem("Action_Text", "NEW");
		localStorage.setItem("Action_Text", "ADD NEW");
		localStorage.setItem("Action_Text_new", "ADDNEW");

		localStorage.setItem("bannerContentValueReset", "2");
		localStorage.setItem("bannerContent_dont_update", "1");
		localStorage.setItem('SgmtTreeParamRecordId', "");
		localStorage.setItem('Sgmt_RelatedRecId', "");
		localStorage.setItem('Sgmt_RelatedRecName', "");
		localStorage.setItem("CurrentNodeId", "");
		localStorage.setItem("TreeParamRecId", "");
		localStorage.setItem('TreeParam', "");
		localStorage.setItem('clicked_preview_cancel', 0);
		localStorage.setItem('firsttime_cancel', 0);
		localStorage.setItem('TreeParentParam', "");
		localStorage.setItem('NodeTreeSuperParentParam', "");
		localStorage.setItem('TopSuperParentParam', "");
		localStorage.setItem('SgmtParentNodeRecId', "");
		localStorage.setItem('TextAreaReadOnlyMode', 2);


		/* */
		var material_active_tab = $('ul#carttabs_head li.active a span').text();

		var material_active_tab_li_txt = $('div#attributesContainer .tabbable.show-large.tabsmenu ul#carttabs_head li.dropdown.pull-right.tabdrop.active ul.dropdown-menu li.active').text().trim();

		if (material_active_tab_li_txt) {
			material_active_tab = material_active_tab_li_txt;
		}
		if (material_active_tab = 'Price Agreement') {
			//$('#ctr_drop').css('cssText', 'display:none !important');
		}


		localStorage.setItem('KeyValueToTable', material_active_tab);

		var kvt = localStorage.getItem('KeyValueToTable');



		/* */

	} else if (btn_txt_val == 'EDIT') {



		localStorage.setItem('section_fields_editable', '2');
		localStorage.setItem('attr_type_cont', '1');

		localStorage.setItem('longEdit', '0');

		localStorage.setItem("RelatedEdit", "1");
		localStorage.setItem("record_number_add_new", "0");

		localStorage.setItem("Action_Text", "");
		localStorage.setItem("Action_Text", "EDIT");
		localStorage.setItem("removeHorLine_edit", "1");

		localStorage.setItem('related_tab_edit_click', '1');
		var test_related_tab_edit_click = localStorage.getItem('related_tab_edit_click');

		setTimeout(function () {

			$('.Look_up_search').each(function (index) {

				var look_up_id = $(this).attr('id');

				var look_id_split = look_up_id.split('QSTN_LKP');

				var txt_box_id = 'QSTN' + look_id_split[1];

				$('#' + txt_box_id).css('background-color', '#fff');

			});

			$('input').each(function () {
				var inp = $(this).val();
				if (/^[-+]?[0-9]+\.[0-9]+$/.test(inp)) {
					$(this).attr('type', 'number');
				}
			});

		}, 3000);
		$('.row.tabsmenu2.tabdyn ul.inlinelist li').removeAttr('class');
		$('.row.tabsmenu2.tabdyn ul.inlinelist li:first-child').attr('class', 'active');

		$('.createtab').closest('li').removeClass('active');
		$('.createclose').closest('li').addClass('active');

		localStorage.setItem("Edit_in_material", "1");

	} else if (btn_txt_val == 'CANCEL' || btn_txt_val == 'SAVE' || btn_txt_val == 'SAVE DRAFT') {
		var ban_hide_var = localStorage.getItem("Banner_Hiding_Var");

		if (ban_hide_var == '1') {
			localStorage.setItem("page_reload", "0");
		}
		$('.txtArea').attr('readonly', 'readonly');
		localStorage.setItem("Banner_Hiding_Var", '0');
		localStorage.setItem('longEdit', '2');
		localStorage.setItem("page_reload_2", "0");
		localStorage.setItem('attr_type_cont', '0');

		localStorage.setItem("related_list_load", "");
		localStorage.setItem("RelatedEdit", "0");
		localStorage.setItem("record_number_add_new", "0");

		if (btn_txt_val == 'CANCEL') {

			localStorage.setItem('price_model', '1');

			var addnew_val = localStorage.getItem("Action_Text_new");

			var rel_ok = localStorage.getItem("rel_ok_local");


			if (addnew_val == 'ADDNEW') {

				localStorage.setItem("Action_Text", "");
				localStorage.setItem("Action_Text_new", "");
				localStorage.setItem("removeHorLine_edit", "1");

			} else {

				localStorage.setItem("Action_Text", "VIEW");
				localStorage.setItem("removeHorLine_edit", "1");

				localStorage.setItem("Action_Text", "VIEW");
			}

			if (rel_ok == '1') {

				$('.createtab').trigger('click');

				localStorage.setItem("rel_ok_local", '0');

			} else {

				localStorage.setItem("rel_ok_local", '0');

			}
			localStorage.setItem("setaction", "VIEW");
			// setTimeout(function () {

			// $('.BTN_MA_ALL_REFRESH').click();
			// $('.sec_attr_get #dyn5217 #ctr_drop').hide();
			// $('.sec_attr_get #dyn5291 #ctr_drop').hide();
			// }, 2000);
		} else if (btn_txt_val == 'SAVE' || btn_txt_val == 'SAVE DRAFT') {

			localStorage.setItem('avoid_loading', '1');
			localStorage.setItem("bannerContentValueReset", "0");
			localStorage.setItem('bannerContent_dont_update', '0');
			localStorage.setItem('keyData', '');

			//localStorage.setItem('KeyValueToTable','');
			localStorage.setItem("Action_Text_new", "ADDNEW");

			var addnew_val = localStorage.getItem("Action_Text_new");
			if (addnew_val == 'ADDNEW') {
				localStorage.setItem("Action_Text", "ADD NEW");
				localStorage.setItem("Action_Text_new", "");
				localStorage.setItem("removeHorLine_edit", "1");

			} else {
				localStorage.setItem("Action_Text", "");
				localStorage.setItem("Action_Text", "VIEW");
				localStorage.setItem("removeHorLine_edit", "1");
			}

			var id = [];


			$("#QSTN_SYSEFL_MA_00427_TABLE input").each(function () {
				if ($(this).prop("checked")) {

					id.push($(this).attr("id"));
				}
			});

			if (id.length > 0) {

				try {

					cpq.server.executeScript("gs_globalval", {
						'List': id,
						'flag_val': 'True'
					}, function (data) {


					});
				} catch (e) {
					console.log(e);
				}
			} else {


				try {

					cpq.server.executeScript("gs_globalval", {
						'List': id,
						'flag_val': 'False'
					}, function (data) {


					});
				} catch (e) {
					console.log(e);
				}
			}

			var CTR_TYPE = '',
				COLCOUNT = '',
				ROWCOUNT = '',
				CTRNAME = '',
				COL_LIST = '',
				RECID = '';
			// setTimeout(function () {

			// $('.BTN_MA_ALL_REFRESH').click();
			// $('.sec_attr_get #dyn5217 #ctr_drop').hide();
			// $('.sec_attr_get #dyn5291 #ctr_drop').hide();
			// }, 2000);

			// $('.BTN_MA_ALL_REFRESH').click();
			//var KeyValueToTable_txt = localStorage.getItem("record_id_number");

			var KeyValueToTable_txt = $('input#QSTN_SYSEFL_SE_00102').val();
			var keyData_val = $('ul#carttabs_head .active').text().trim();


			try {
				cpq.server.executeScript("SYUHILTBAN", {
					'currentTabName': KeyValueToTable_txt,
					'keyData_val': keyData_val
				}, function (data) {

					if (data) {

						if (data[0] && data[1]) {
							if (data[0] && data[1][0] && data[1][1] && data[1][2]) {

								if (bannerContentValueReset_txt == '2') {
									localStorage.getItem("bannerContentValueReset", '0');
									$('.product_txt').text('');
									$('.part_number_header').text('');
									$('.sap_desc_header').text('');
									$('.product_txt_to_top abbr').text('');
									$('.product_txt_to_top abbr').attr('title', '');
									$('.part_number_content abbr').text('');
									$('.part_number_content abbr').attr('title', '');
									$('.sap_desc_content abbr').text('');
									$('.sap_desc_content abbr').attr('title', '');
									$('.segment_part_number_heading').text('');
									$('.segment_part_heading').text('');
									$('.segment_part_number_text abbr').text('');
									$('.segment_part_number_text abbr').attr('title', '');
									$('.segment_part_text abbr').text('');
									$('.segment_part_text abbr').attr('title', '');

									$('.order_mgmt_date_heading').text('');
									$('.order_mgmt_date_text abbr').attr('title', '');
									$('.order_mgmt_date_text').text('');

								} else {
									$('.order_mgmt_date').css('display', 'none');
									localStorage.setItem('KeyToCurrency', data[1][0].Value);
									var headerValue_split = data[0].split(',');
									$('.product_txt').text(headerValue_split[0]);
									$('.part_number_header').text(headerValue_split[1]);
									$('.sap_desc_header').text(headerValue_split[2]);
									$('.product_txt_to_top abbr').text(data[1][0].Value);
									$('.product_txt_to_top abbr').attr('title', data[1][0].Value);
									$('.product_txt_to_top').text(data[1][0].Value);
									$('.part_number_content abbr').text(data[1][1].Value);
									$('.part_number_content abbr').attr('title', data[1][1].Value);
									$('.sap_desc_content abbr').text(data[1][2].Value);
									$('.sap_desc_content abbr').attr('title', data[1][2].Value);

									$('.segment_part_number_heading').text(headerValue_split[1]);
									$('.segment_part_heading').text(headerValue_split[2]);
									$('.segment_part_number_text abbr').text(data[1][1].Value);
									$('.segment_part_number_text abbr').attr('title', data[1][1].Value);
									$('.segment_part_text abbr').text(data[1][2].Value);
									$('.segment_part_text abbr').attr('title', data[1][2].Value);

									if (headerValue_split.length > 3) {

										$('.order_mgmt_date').css('display', 'block');
										$('.order_mgmt_date_heading').text(headerValue_split[3]);
										$('.order_mgmt_date_text abbr').text(data[1][3].Value);
										$('.order_mgmt_date_text abbr').attr('title', data[1][3].Value);
									}

								}
							}

						} else {
							var curr_tab_price_tab = $('ul#carttabs_head li.active a').text().trim();
							if (curr_tab_price_tab == 'Price Model') {
								var price_model_val = [];
								$('.g4.except_sec.removeHorLine.iconhvr').each(function (index) {
									var pricemodel_text = $(this).text().trim();
									if (pricemodel_text == 'Key' || pricemodel_text == 'Price Model ID' || pricemodel_text == 'Price Model Name') {
										var b = $(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').val();

										if (b) {
											price_model_val.push(b);
										}
									}
								});

								$('.product_txt').text('Key');
								$('.segment_part_number_heading').text('Price Model ID');
								$('.segment_part_heading').text('Price Model Name');
								$('.product_txt_to_top').text(price_model_val[0]);

								$('.segment_part_number_text abbr').text(price_model_val[1]);
								$('.segment_part_number_text abbr').attr('title', price_model_val[1]);
								$('.segment_part_text abbr').text(price_model_val[2]);
								$('.segment_part_text abbr').attr('title', price_model_val[2]);
							}

						}
					}
				});

			} catch (e) {
				console.log(e);
			}

			localStorage.setItem('save_drf', '1');


		}

		$('.row.tabsmenu2.tabdyn ul.inlinelist li').removeAttr('class');
		$('.row.tabsmenu2.tabdyn ul.inlinelist li:first-child').attr('class', 'active');
		localStorage.setItem("Edit_in_material", "0");

	} else if (btn_txt_val == 'DELETE') {
		localStorage.setItem("record_number_add_new", "0");

		//localStorage.setItem("Action_Text", "NEW");
		localStorage.setItem("Action_Text", "ADD NEW");

		localStorage.getItem("tab_name");

		var record_id_value = $('.iconhvr .col-md-3.pad-0 input').val();
		var currentTabName = $('ul#carttabs_head li.active').text().trim();
		if (record_id_value == "" && currentTabName == "Category") {
			var record_id_value = $("#QSTN_SYSEFL_MA_00358").val();
			localStorage.setItem("variable_record_id_value", record_id_value);
			localStorage.getItem("tab_;name", "Categories")
		}
		try {
			cpq.server.executeScript("PADELCONPO", {
				'Record_Id': record_id_value
			}, function (dataset) {

				data = dataset[0];
				error_msg = dataset[1];
				Delete_Container_DIV(data, error_msg);
			});
		} catch (e) {
			console.log(e);
		}

		$('.BTN_MA_ALL_REFRESH').click();

	} else if (btn_txt_val == 'BACK TO LIST') {

		localStorage.setItem('price_model', '0');

		localStorage.setItem('attr_type_cont', '0');
		localStorage.setItem('avoid_loading', '0');

		var segment_curent = $('ul#carttabs_head li.active').text().trim();

		if (segment_curent == 'Price Agreement') {
			localStorage.setItem("segment_curent_ltsg", "1");
		} else if (segment_curent == 'Price Model') {
			localStorage.setItem("PrcTreeParam", " ");
		}
		localStorage.setItem("active_tab_name_text", segment_curent);
		localStorage.setItem("related_list_load", "");
		localStorage.setItem("RelatedEdit", "0");

		localStorage.setItem("record_number_add_new", "1");

		localStorage.setItem("Action_Text", "");

		localStorage.setItem("Action_Text", "");

		localStorage.setItem('KeyValueToTable', '');

	} else if (btn_txt_val == 'CLONE') {
		localStorage.setItem("record_number_add_new", "0");

		localStorage.setItem("Action_Text", "CLONE");

	} else { }

	var active_tab_set = $('ul#carttabs_head li.active a span').text().trim();
	//A043S001P01-8500 start
	// if (active_tab_set == "Price Model") {
	// var selectedMarketType = $('#QSTN_SYSEFL_PB_01449 :selected').text();
	// var selectedModelType = $('#QSTN_SYSEFL_PB_01444 :selected').text();
	// if (selectedMarketType != "NON MARKET BASED") {
	// $('input:checkbox:first').prop('checked', false);
	// $('input:checkbox:first').prop('disabled', true);
	// } else {
	// if (selectedModelType != "DISCOUNT DOWN") {
	// $('input:checkbox:first').prop('checked', false);
	// $('input:checkbox:first').prop('disabled', true);
	// } else {
	// $('input:checkbox:first').prop('disabled', false);
	// }
	// }
	// }
	//A043S001P01-8500 end
	x_tab = $('ul#carttabs_head li.active a').text().trim();
	if (x_tab == 'Pricebook Entry' && btn_txt_val == 'SAVE') {
		$('.BTN_MA_ALL_REFRESH').click();

	}
	setTimeout(function () {
		var factorid = localStorage.getItem('factorid');
		if (document.getElementById("options1_SYSEFL_PB_01935")) {
			localStorage.setItem('factorid', '');
			options1_SYSEFL_PB_01935 = JSON.parse(localStorage.getItem('options1_SYSEFL_PB_01935'));
			options1_SYSEFL_PB_00431 = JSON.parse(localStorage.getItem('options1_SYSEFL_PB_00431'));
			options1_SYSEFL_PB_01919 = JSON.parse(localStorage.getItem('options1_SYSEFL_PB_01919'))
			var editietm = localStorage.getItem("RelatedEdit");
			if (editietm == '0') {
				disablevalues();
			}
			if (options1_SYSEFL_PB_01935 !== null && options1_SYSEFL_PB_01935 != '') {
				for (i = 0; i < options1_SYSEFL_PB_01935.length; i++) {
					$("#options1_SYSEFL_PB_01935").append('<option value="' + options1_SYSEFL_PB_01935[i] + '">' + options1_SYSEFL_PB_01935[i] + '</option>' + "\n");
					if (i == 0) {
						$('.options_SYSEFL_PB_00431').empty();
						$('.options_SYSEFL_PB_01919').empty();
						$('#options1_SYSEFL_PB_00431').empty()
						$('#options1_SYSEFL_PB_01919').empty()
					}
					$(".options_SYSEFL_PB_00431").append('<option value="' + options1_SYSEFL_PB_01935[i] + '">' + options1_SYSEFL_PB_01935[i] + '</option>' + "\n");
					$(".options_SYSEFL_PB_01919").append('<option value="' + options1_SYSEFL_PB_01935[i] + '">' + options1_SYSEFL_PB_01935[i] + '</option>' + "\n");
				}
				$(".options_SYSEFL_PB_01935 option").filter(function () {
					return $.inArray(this.value, options1_SYSEFL_PB_01935) !== -1
				}).remove();

				if (options1_SYSEFL_PB_00431 !== null && options1_SYSEFL_PB_00431 != '') {
					for (i = 0; i < options1_SYSEFL_PB_00431.length; i++) {
						$("#options1_SYSEFL_PB_00431").append('<option value="' + options1_SYSEFL_PB_00431[i] + '">' + options1_SYSEFL_PB_00431[i] + '</option>' + "\n");
					}
					$(".options_SYSEFL_PB_00431 option").filter(function () {
						return $.inArray(this.value, options1_SYSEFL_PB_00431) !== -1
					}).remove();
				}
				if (options1_SYSEFL_PB_01919 !== null && options1_SYSEFL_PB_01919.length != '') {
					for (i = 0; i < options1_SYSEFL_PB_01919.length; i++) {
						$("#options1_SYSEFL_PB_01919").append('<option value="' + options1_SYSEFL_PB_01919[i] + '">' + options1_SYSEFL_PB_01919[i] + '</option>' + "\n");
					}
					$(".options_SYSEFL_PB_01919 option").filter(function () {
						return $.inArray(this.value, options1_SYSEFL_PB_01919) !== -1
					}).remove();
				}
			} else {
				$('#options1_SYSEFL_PB_01935').empty()
				$('#options1_SYSEFL_PB_00431').empty()
				$('#options1_SYSEFL_PB_01919').empty()
				$('.options_SYSEFL_PB_00431').empty()
				$('.options_SYSEFL_PB_01919').empty()
			}

			// if (options1_SYSEFL_PB_01935!== null && options1_SYSEFL_PB_00431 !=null && options1_SYSEFL_PB_01919 !=null)
			// {
			// 	if (options1_SYSEFL_PB_01935.length>=1)
			// 	{
			// 		for(i=0;i<options1_SYSEFL_PB_01935.length;i++){
			// 		$("#options1_SYSEFL_PB_01935").append( '<option value="'+options1_SYSEFL_PB_01935[i]+'">'+options1_SYSEFL_PB_01935[i]+'</option>'+ "\n");
			// 		}
			// 		if(options1_SYSEFL_PB_01935.length=1 && options1_SYSEFL_PB_01935[0]=='')
			// 		{
			// 			$('#options1_SYSEFL_PB_01935').empty()
			// 		}
			// 		$(".options_SYSEFL_PB_01935 option").filter(function () {
			// 			return $.inArray(this.value, options1_SYSEFL_PB_01935) !== -1
			// 		 }).remove();

			// 		$('.options_SYSEFL_PB_00431').empty()
			// 		for(i=0;i<options1_SYSEFL_PB_01935.length;i++){
			// 			$(".options_SYSEFL_PB_00431").append( '<option value="'+options1_SYSEFL_PB_01935[i]+'">'+options1_SYSEFL_PB_01935[i]+'</option>'+ "\n");
			// 			}
			// 			$('.options_SYSEFL_PB_01919').empty()
			// 		for(i=0;i<options1_SYSEFL_PB_01935.length;i++){
			// 			$(".options_SYSEFL_PB_01919").append( '<option value="'+options1_SYSEFL_PB_01935[i]+'">'+options1_SYSEFL_PB_01935[i]+'</option>'+ "\n");
			// 			}
			// 	}
			// 	if (options1_SYSEFL_PB_00431.length>=1)
			// 	{
			// 		for(i=0;i<options1_SYSEFL_PB_00431.length;i++){
			// 		$("#options1_SYSEFL_PB_00431").append( '<option value="'+options1_SYSEFL_PB_00431[i]+'">'+options1_SYSEFL_PB_00431[i]+'</option>'+ "\n");
			// 		$(".options_SYSEFL_PB_00431 option[value=\""+options1_SYSEFL_PB_00431[i]+"\"]").remove();

			// 		}
			// 		$(".options_SYSEFL_PB_00431 option").filter(function () {
			// 			return $.inArray(this.value, options1_SYSEFL_PB_00431) !== -1
			// 		 }).remove();
			// 		if(options1_SYSEFL_PB_00431.length=1 && options1_SYSEFL_PB_00431[0]=='')
			// 		{
			// 			$('#options1_SYSEFL_PB_00431').empty()
			// 		}

			// 	}
			// 	if (options1_SYSEFL_PB_01919.length>=1)
			// 	{
			// 		for(i=0;i<options1_SYSEFL_PB_01919.length;i++){
			// 		 $("#options1_SYSEFL_PB_01919").append( '<option value="'+options1_SYSEFL_PB_01919[i]+'">'+options1_SYSEFL_PB_01919[i]+'</option>'+ "\n");
			// 		 $(".options_SYSEFL_PB_01919 option[value=\""+options1_SYSEFL_PB_01919[i]+"\"]").remove();
			// 		}

			// 		$(".options_SYSEFL_PB_01919 option").filter(function () {
			// 			return $.inArray(this.value, options1_SYSEFL_PB_01919) !== -1
			// 		 }).remove();
			// 		if(options1_SYSEFL_PB_01919.length=1 && options1_SYSEFL_PB_01919[0]=='')
			// 		{
			// 			$('#options1_SYSEFL_PB_01919').empty()
			// 		}

			// 	}
			// }
		}

	}, 2000)
}

function disablevalues() {
	$(".options_SYSEFL_PB_01935").prop("disabled", true);
	$("#options1_SYSEFL_PB_01935").prop("disabled", true);
	$(".leftbutton").prop("disabled", true);
	$(".rightbutton").prop("disabled", true);
	$(".topbutton").prop("disabled", true);
	$(".btmbutton").prop("disabled", true);
	$(".options_SYSEFL_PB_00431").prop("disabled", true);
	$("#options1_SYSEFL_PB_00431").prop("disabled", true);
	$(".options_SYSEFL_PB_01919").prop("disabled", true);
	$("#options1_SYSEFL_PB_01919").prop("disabled", true);
	$("[id^='div_PICKLISTLOAD_'] div[id^=button_mvmt] button[disabled]").css("dispaly", "none")
}

function related_list_pagination() {

	$('.qstn_r_contaier ul.pagination').each(function () {
		var str = "<i class='fa fa-angle-double-left'></i><i class='fa fa-angle-double-left'></i>";
		$(this).find(' > li:eq(0)').before('<li><a>' + str + '</a></li>');
	});

	$('li.page-item.page-next a').each(function () {
		var str3 = "<i class='fa fa-angle-right'></i><i class='fa fa-angle-right'></i>";
		$(this).text('');
		$(this).html(str3);
	});
	$('li.page-item.page-pre a').each(function () {
		var str4 = "<i class='fa fa-angle-left'></i><i class='fa fa-angle-left'></i>";
		$(this).text('');
		$(this).html(str4);
	});
	$('.qstn_r_contaier ul.pagination').each(function () {
		var str2 = "<i class='fa fa-angle-double-right'></i><i class='fa fa-angle-double-right'></i>";
		$(this).find(' > li:last-child').after('<li><a>' + str2 + '</a></li>');
	});

}

function Obj_RefreshOnchange(ele) {



	var table_id = $(ele).closest('table').attr('id');


	Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
	//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')
	Primary_Data_list = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

	if (Primary_Data_list.length > 1) {
		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
	} else {
		//Primary_Data = Primary_Data_list[0];
		Primary_Data = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
	}
	localStorage.setItem("mod_cof_id", Primary_Data);

	localStorage.setItem('avoid_loading', '1');
	localStorage.setItem("bannerContentValueReset", '0');

	var act_tab = $('ul#carttabs_head .active a span').text();
	localStorage.setItem('KeyValueToTable', act_tab);

	localStorage.setItem('keyData', Primary_Data);
	//ids = $(ele).closest('tr').attr('id');
	//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()

	//Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')

	//if (Primary_Data_list.length > 1) {
	//Primary_Data = Primary_Data_list[0]
	//} else {
	//Primary_Data = Primary_Data_list[0];
	//}

	if ($('ul.nav-tabs').find('li.active').text().trim().indexOf('Objects') > -1) {

		try {
			cpq.server.executeScript("SYMCMOBJCR", {
				'Primary_Data': Primary_Data,
				'OBJECTS': 'MODULES',
				'ACTION': 'REFRESH'
			}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
		$("#MM_ALL_REFRESH").click();

	}

}

function list_search_funct(event) {
	var key = event.which || event.keyCode;
	if (key == '13') {
		search_onclick();
	}
}

function List_row_click(rowValue) {

	var rowValue_id = $(rowValue).attr('id');

	var idtxt;
	var idtxt_list = [];
	$('table.table.table-bordered.List_Container_header_txt.CTRBTNSTYLE tbody tr').each(function () {
		idtxt = $(this).attr('id');
		idtxt_list.push(idtxt);
	});

	var id_last_char = idtxt[idtxt.length - 1];

	var id_last_char_1 = parseInt(id_last_char) - 1;

	var id_last_char_2 = parseInt(id_last_char) - 2;

	if (rowValue_id.endsWith(id_last_char) || rowValue_id.endsWith(id_last_char_1) || rowValue_id.endsWith(id_last_char_2)) {
		var z = 'tr#' + rowValue_id + ' ul';

		var len_z = 'tr#' + rowValue_id + ' ul li';

		setTimeout(function () {
			var display_value = $(z).css('display');

			if (display_value == 'block') {

				var action_btn_count = $(len_z).length;
				var action_display = 'table.table.table-bordered.List_Container_header_txt.CTRBTNSTYLE tbody tr#' + rowValue_id + ' ul li';
				var action_li_count = 0;

				$(action_display).each(function (index) {
					if ($(this).css('display') == 'block' || $(this).css('display') == 'list-item') {

						action_li_count += 1;
					}
				});

				var material_height = $('.materialMainBan.material_head').css('height').slice(0, -2);
				var material_new_height;
				var material_new_height_px;
				if (action_li_count == 1) {
					//material_new_height = parseInt(material_height)+60;
				} else if (action_li_count == 2) {

					$('.visible-lg.visible-md.debugger-links.clearfix.small').parent().css('display', 'none');

				} else if (action_li_count == 3) {

					$('.visible-lg.visible-md.debugger-links.clearfix.small').parent().css('display', 'none');

				} else if (action_li_count == 4) {

					$('.visible-lg.visible-md.debugger-links.clearfix.small').parent().css('display', 'none');

				} else { }

				localStorage.setItem("material_new_height_with_px", "1");

			} else {

				$('.visible-lg.visible-md.debugger-links.clearfix.small').parent().css('display', 'block');

				var mate_height = localStorage.getItem("material_new_height_with_px");
				if (mate_height == '1') {

					$('.materialMainBan.material_head').removeAttr('style');

					localStorage.setItem("material_new_height_with_px", "0");

				} else {

					localStorage.setItem("material_new_height_with_px", "0");
				}
			}

			var dis_block = $('.set_float_List').css('display');
			var dis_block_mat = $('.materialMainBan').css('display');
			if (dis_block == 'block' && dis_block_mat == 'block') {
				$('.set_float_List').addClass('set_float_List_style');
				var a = $('.set_float_List').css('width');
				var b = $('.materialMainBan').css('width');

				var x;
				var y;
				if (a) {
					x = a.slice(0, -2);
				}
				if (b) {
					y = b.slice(0, -2);
				}

				var c = parseInt(x);
				var d = parseInt(y);
				if (c >= d) {

					$('.set_float_List').addClass('set_float_List_style');
				} else {

					$('.set_float_List').removeClass('set_float_List_style');
				}
			}
			resize_fun();
		}, 20);
	}
}

function Table_Onclick_Scroll() {

	if (localStorage.getItem("SR_REMV") == "Remove") {
		return;
	} else {
		$('.qstn_r_contaier table tbody tr td div.btn-group.dropdown div.dropdown').each(function (index) {
			$(this).addClass('column-with-actions');
			$(this).closest('td').css('cssText', 'position:relative');
			$('.materialMainBan.material_head').css('cssText', 'padding-bottom: 10px');
		});

		setTimeout(function () {
			var clicked_table_id;
			var clicked_tr_data_index;
			//$('.qstn_r_contaier table tbody tr td div.btn-group.dropdown div.dropdown.open').each(function(index){

			//$(this).closest('td').css('cssText','position:absolute !important');
			//$(this).closest('td').css('padding-left','16px');
			//$('.qstn_r_contaier table tbody tr td div.btn-group.dropdown div.dropdown').each(function(index){

			//$(this).closest('td').css('cssText','position:absolute;padding-left:19px !important;padding-top:2px !important;');
			//$(this).closest('td').addClass('relatedstyle');
			//$(this).closest('td').css('cssText','position:absolute');
			//$(this).closest('td').css('padding-left','19px');
			//$(this).closest('td').css('padding-top','5px');
			//});
			//});


			$('.qstn_r_contaier table tbody tr td div.btn-group.dropdown div.dropdown.open').each(function (index) {
				clicked_table_id = $(this).closest('table').attr('id');

				clicked_tr_data_index = $(this).closest('tr').attr('data-index');

				var local_tb_id = localStorage.getItem("localstg_table_id");
				var local_row_id = localStorage.getItem("localstg_last_row_data_index");

				if (local_tb_id == clicked_table_id && local_row_id == clicked_tr_data_index) {

					$('.materialMainBan.material_head').css('cssText', 'padding-bottom: 100px !important');
				} else {
					$('.materialMainBan.material_head').css('cssText', 'padding-bottom: 10px');
				}
			});

		}, 20);
	}
}

function onclick_datepicker(id) {
	$("#" + id).datepicker('show')
	$("#" + id).datepicker({
		autoclose: true,
		todayHighlight: true
	});
	//A055S000P01-3335 - start
	//$("#" + id).datepicker('show')
	if (localStorage.getItem('AddNew') == "false") {
		$("#" + id).datepicker('show')
	}
	//A055S000P01-3335 - end
	/* $("#EXCHANGE_RATE_DATE").datepicker({
	autoclose: true,
	todayHighlight: true
	}); */
	try {
		if (localStorage.getItem("currentSubTab").includes('Entitlements')) {
			var gecurrenttatbleid = $('#' + id).closest('table').attr('id');
			localStorage.setItem('getatbleid', gecurrenttatbleid);
		}
	}
	catch (e) {
		console.log(e);
	}

}

function dropstopclose(event) {
	event.stopPropagation();
}

function all_checkbox_clicked(ele) {

	id = $(ele).attr('id')

	check_val = $("#all_edit_checkbox").prop('checked')

	localStorage.setItem('set_local_value', '')
	localStorage.setItem('set_local_value', 'checkbox_click')

	if (check_val == true) {
		CLICKEDID = 'true'
	} else {
		CLICKEDID = 'false'
	}
	try {
		cpq.server.executeScript("SYBLKEDTLG", {
			'TITLE': '',
			'VALUE': '',
			'CLICKEDID': CLICKEDID,
			'ELEMENT': 'ALL'
		}, function (data) {


			$('#BTN_MA_ALL_REFRESH').click()
			if (data == 'true') {
				setTimeout(function () {
					$("#all_edit_checkbox").prop('checked', true)
				}, 1500);
			} else if (data == 'true') {
				setTimeout(function () {
					$("#all_edit_checkbox").prop('checked', false)
				}, 1500);
			}
		});
	} catch (e) {
		console.log(e);
	}

}

function call_popup_edit(elem) {

	clk_ctr_id = $(elem).closest('tr').attr('id')

	title = $(elem).attr('id');
	clk_ctr_id = clk_ctr_id.trim();
	title = title.trim();

	value = $('#' + clk_ctr_id + ' [id="' + title + '"] span').text();

	value = value.trim();
	if (value == '') {
		value = $('#' + clk_ctr_id + ' [id="' + title + '"] span input').prop('checked');
	}

	if (value == undefined) {
		value = ''
	}

	try {
		cpq.server.executeScript("SYBLKEDTLG", {
			'TITLE': title,
			'VALUE': value,
			'CLICKEDID': clk_ctr_id,
			'ELEMENT': 'EDIT'
		}, function (datas) {

			data = datas[0];
			data1 = datas[1];
			data_clicked = datas[2];
			date_field = datas[3];


			if (data != '') {
				if (document.getElementById("VIEW_DIV_ID")) {
					document.getElementById("VIEW_DIV_ID").innerHTML = data;
					$('#cont_viewModalSection').css('display', 'block')
					//$('#cont_viewModalSection').prepend('<div class="modal-backdrop fade in"></div>')
					var divHeight = $('#cont_viewModalSection').height();
					$('.modal-backdrop').css('min-height', divHeight + 'px');
					//	$('.modal-dialog').css('width', '550px')
					//$('.modal-dialog').css('margin-top', '100px')
				}
				localStorage.setItem("multiedit_save_date", data1);
				localStorage.setItem("multiedit_data_clicked", data_clicked);

				if (date_field.length !== 0) {
					$.each(date_field, function (key, value) {
						onclick_datepicker(value)
					});
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function multiedit_cancel() {
	$('#list_grid_bulk_edit').css('display', 'none')
	$(".modal-backdrop").remove();
	$('.modal-backdrop').css('min-height', '0px');
	//Ramesh A043S001P01-5062 START 28-11-2019
	$('#cont_viewModalSection').css('display', 'none')
	$('#cont_multiEditModalSection').css('display', 'none');
	//Ramesh A043S001P01-5062 END 28-11-2019

}

function multiedit_save_RL() {
	if (localStorage.getItem("SR_REMV") == "Remove") {
		return;
	}
	TreeParam = localStorage.getItem("CommonTreeParam");
	TreeParentParam = localStorage.getItem("CommonTreeParentParam");
	TreeSuperParentParam = localStorage.getItem("CommonTreeSuperParentParam");
	var selected_value = '';
	localStorage.setItem("InlineEdit", "NO");
	input_val = []
	pop_id = []
	subtab = localStorage.getItem('currentSubTab');
	table_id_RL_edit = localStorage.getItem("table_id_RL_edit");
	var A_Keys = [];
	var A_Values = [];
	try {
		$('.filter-control').each(function () {
			values = this.firstElementChild.className;
			if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
				try {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
				}
				catch {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
				}
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
			if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
				x = values.split(' ')[1];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		});
	}
	catch (e) {
		console.log(e);
	}

	if ((TreeParam == 'Quote Items' || TreeParentParam == 'Quote Items' || localStorage.getItem("CommonNodeTreeSuperParentParam") == 'Quote Items')) {
		title = localStorage.getItem("saqico_title");
		pop_id.push(title);
		inp = localStorage.getItem("saqico_value");
		input_val.push($("#SYOBJR_00009_E5504B40_36E7_4EA6_9774_EA686705A63F").find("abbr[id=" + inp + "]").parent().text());
	}
	else if ((subtab == "Events" && (AllTreeParam['TreeParentLevel3'] == "Product Offerings" || AllTreeParam['TreeParentLevel2'] == "Product Offerings" || AllTreeParam['TreeParentLevel1'] == "Product Offerings"))
		|| (subtab == "Assemblies" && AllTreeParam['TreeParentLevel3'] == "Comprehensive Services") || localStorage.getItem('EDIT_OBJ') == "SAQGPA" || subtab == "Periods") {
		title = localStorage.getItem("saqico_title");
		pop_id.push(title);
	}
	else {
		$("#RL_EDIT_DIV_ID #container input").each(function () {
			if ($(this).attr('type') == 'checkbox') {
				input_val.push($(this).prop('checked'))
				pop_id.push($(this).attr('id'))
			} else if ($(this).attr('type') != 'checkbox' && $(this).attr('type') != 'radio') {
				input_val.push($(this).val())
				pop_id.push($(this).attr('id'))
			}
		});
	}


	var selectPN = [];

	$("#table_covered_obj_parent tbody tr.selected").each(function () {
		var sel_val_PN = $(this).find('td:nth-child(3)').text()
		selectPN.push(sel_val_PN);
	});

	$("#div_CTR_Spare_Parts #SYOBJR_00005_7EAA11B4_82C9_400B_8E48_65497373A578 tbody tr ").each(function () {



		var sel_val_PN = $(this).find('td:nth-child(4)').text()
		selectPN.push(sel_val_PN);

	});
	if (localStorage.getItem('cont_table_id') == "table_event_parent") {
		tableId = "table_event_parent"
	}
	else {
		tableId = table_id_RL_edit
	}
	if ((subtab == "Assemblies" && AllTreeParam['TreeParentLevel3'] == "Comprehensive Services") || localStorage.getItem('EDIT_OBJ') == "SAQGPA") {
		$("#" + tableId + " tbody tr").each(function () {
			var sel_val_PN = $(this).find('td:nth-child(3)').text().trim();
			selectPN.push(sel_val_PN);
		});
	}
	else if (subtab == "Events") {
		//INC08814544 - Start - M
		var keyIndex = $("#table_Preventive_Maintainence_parent thead").find("[data-field='QUOTE_SERVICE_COV_OBJ_ASS_PM_KIT_RECORD_ID']").index() || $("#table_Preventive_Maintainence_parent thead").find("[data-field='QUOTE_REV_PO_GRNBK_PM_EVEN_ASSEMBLIES_RECORD_ID']").index()
		keyIndex = keyIndex + 1
		$("#table_Preventive_Maintainence_parent tbody tr").each(function () {
			var sel_val_PN = $(this).find('td:nth-child(' + keyIndex + ')').text().trim();
			selectPN.push(sel_val_PN);
		});
		//INC08814544 - End - M
	}
	if ((TreeParam == 'Quote Items' || TreeParentParam == 'Quote Items' || TreeSuperParentParam == 'Quote Items') && (localStorage.getItem("saqico_title") == 'NET_PRICE')) {
		// input = localStorage.getItem("value_tag");
		// input_val.push($("#SYOBJR_00009_E5504B40_36E7_4EA6_9774_EA686705A63F").find(input).val());
		table_id = localStorage.getItem("value_tag");
		index = localStorage.getItem("edit_index")
		input_val.push($('#' + table_id).closest('tr').find('td:nth-child(' + index + ')').text().trim());
	}
	// else if (subtab == "Events" &&  AllTreeParam['TreeParentLevel3'] == "Product Offerings"){
	// 	table_id = localStorage.getItem("value_tag");
	// 	index = localStorage.getItem("edit_index");
	// 	input_val.push($('#'+table_id).closest('tr').find('td:nth-child('+index+')').text().trim() );
	// }
	else if ((subtab == "Assemblies" && AllTreeParam['TreeParentLevel3'] == "Comprehensive Services") || localStorage.getItem('EDIT_OBJ') == "SAQGPA") {
		if (localStorage.getItem('PM_FrequencyBulkedit') == 'yes') {
			input_val = $('#updated_PM').val().replace(/\,/g, "");
			if ($("input[name='massOrSingleEdit']:checked").attr('id') == 'massEditRadio') {
				var select_all = false;
				$('#' + table_id_RL_edit).find('[type="checkbox"]:checked').map(function () {
					if ($(this).attr('name') == 'btSelectAll') {
						select_all = true;
					}
				});
				if (select_all == true) {
					localStorage.setItem('multiedit_selectall', 'PM_BULKEDIT_ALL');
				}
				else {
					selectPN = localStorage.getItem('multiedit_checkbox_clicked').split(',');
				}
			}
			else {
				selectPN = [];
				if (localStorage.getItem('multiedit_save_date').split(',').length > 1) {
					var selected_id = localStorage.getItem('PM_selectedId');
				}
				else {
					var selected_id = localStorage.getItem('multiedit_save_date');
				}
				selectPN[0] = selected_id;
			}
			localStorage.removeItem('PM_FrequencyBulkedit');
		}
		else {
			table_id = localStorage.getItem("value_tag");
			index = localStorage.getItem("edit_index");
			$('#' + tableId + ' > tbody > tr ').each(function () {
				input_val.push($(this).find('td:nth-child(' + index + ')').text().replace(/\,/g, "").trim());
			});
		}
		$('#ADDNEW__SYOBJR_00011_SYOBJ_00974').css('display', 'block');
		$('#AssembliesInlineEdit').css('display', 'block');
	}
	else if (subtab == "Events" && (AllTreeParam['TreeParentLevel1'] == "Product Offerings" || AllTreeParam['TreeParentLevel2'] == "Product Offerings" || AllTreeParam['TreeParentLevel3'] == "Product Offerings")) {
		if (localStorage.getItem('PM_FrequencyBulkedit') == 'yes') {
			input_val = $('#updated_PM').val().replace(/\,/g, "");
			if ($("input[name='massOrSingleEdit']:checked").attr('id') == 'massEditRadio') {
				var select_all = false;
				$('#table_Preventive_Maintainence_parent').find('[type="checkbox"]:checked').map(function () {
					if ($(this).attr('name') == 'btSelectAll') {
						select_all = true;
					}
				});
				if (select_all == true) {
					localStorage.setItem('multiedit_selectall', 'PM_BULKEDIT_ALL');
				}
				else {
					selectPN = localStorage.getItem('multiedit_save_date').split(',');
				}
			}
			else {
				selectPN = [];
				selectPN[0] = localStorage.getItem('PM_selectedId');
			}
			localStorage.removeItem('PM_FrequencyBulkedit');
		}
		else {
			table_id = localStorage.getItem("value_tag");
			index = localStorage.getItem("edit_index");
			$('#table_Preventive_Maintainence_parent > tbody > tr ').each(function () {
				input_val.push($(this).find('td:nth-child(' + index + ')').text().replace(/\,/g, "").trim());
			});
		}
		$('#ADDNEW__SYOBJR_00011_SYOBJ_00974').css('display', 'block');
	}
	else if (subtab == "Periods") {
		table_id = localStorage.getItem("table_id_RL_edit");
		if (localStorage.getItem('PartsListBulkedit') == 'yes') {
			input_val = $('#DELIVERY_DATE').val().replace(/\,/g, "");
			if ($("input[name='massOrSingleEdit']:checked").attr('id') == 'massEditRadio') {
				var select_all = false;
				$('#' + table_id).find('[type="checkbox"]:checked').map(function () {
					if ($(this).attr('name') == 'btSelectAll') {
						select_all = true;
					}
				});
				if (select_all == true) {
					localStorage.setItem('multiedit_selectall', 'PERIOD_BULKEDIT_ALL');
				}
				else {
					selectPN = localStorage.getItem('multiedit_data_clicked').split(',');
				}
			}
			else {
				selectPN = [];
				selectPN[0] = localStorage.getItem('PartsSelectedId');
			}
			localStorage.removeItem('PartsListBulkedit');
		}
		else {
			index = localStorage.getItem("edit_index");
			$('#' + table_id + ' > tbody > tr ').each(function () {
				input_val.push($(this).find('td:nth-child(' + index + ')').text().replace(/\,/g, "").trim());
			});
		}
		$('#PeriodsInlineEdit').css('display', 'block');
	}
	else {
		$("#RL_EDIT_DIV_ID #container select").each(function () {
			input_val.push($(this).children("option:selected").text());
			pop_id.push($(this).attr('id'))
		});
	}
	radio_val = $("input[name='massOrSingleEdit']:checked").attr('id');

	if (radio_val != undefined) {

		if (radio_val == 'singleEditRadio') {
			selected_value = localStorage.getItem("PM_selectedId");

		} else if (radio_val == 'massEditRadio') {
			selected_value = localStorage.getItem("multiedit_data_clicked");

		}
	} else {

		selected_value = localStorage.getItem("multiedit_save_date");
	}
	var selectall = localStorage.getItem("multiedit_selectall");
	localStorage.removeItem("multiedit_selectall");
	offering_description = ""
	if (table_id_RL_edit.includes("SYOBJR_98876")) {
		pop_id = ['OFFERING_DESCRIPTION']
		offering_description = $("#OFFERING_DESCRIPTION").val();
	}
	try {
		cpq.server.executeScript("SYBLKETRLG", {
			'TITLE': pop_id[0],
			'VALUE': input_val[0],
			'RECORDID': (selected_value != null) ? selected_value.trim() : null,
			'ALLVALUES': input_val,
			'CLICKEDID': table_id_RL_edit,
			'ELEMENT': 'SAVE',
			'selectPN': selectPN,
			'SELECTALL': selectall,
			'A_Keys': A_Keys,
			'A_Values': A_Values,
			'offering_description': offering_description
		}, function (datas) {
			//var active= $('ul#carttabs_head li.active').text().trim();
			//if(active=="Category")
			//{
			//$("#BTN_SYACTI_MA_00035_BACKTOLIST").click();
			//}
			if (table_id_RL_edit === "SYOBJR_98869_BE7C58A4_65B2_4824_A04E_89D5777B8398") {
				[CurrentRecordId, RecName] = ['SYOBJR-98869', 'div_CTR_Revisions'];
				loadRelatedList(CurrentRecordId, RecName);
			}
			else if (table_id_RL_edit === 'SYOBJR_00005_7EAA11B4_82C9_400B_8E48_65497373A578') {
				// A055S000P01-3184 - issue:4 commented for issue(while clikcing bulk edit button cancel & save buttons are not appending in UI) - start
				// var sparePartsBulkSAVEBtn = $('.secondary_highlight_panel').find('button#spare-parts-bulk-save-btn')
				// var sparePartsBulkCANCELBtn = $('.secondary_highlight_panel').find('button#spare-parts-bulk-cancel-btn')
				// var sparePartsBulkAddBtn = $('.secondary_highlight_panel').find('button#spare-parts-bulk-add-modal-btn')
				// if (sparePartsBulkSAVEBtn.length == 1){
				// 				sparePartsBulkSAVEBtn.remove()
				// 			}
				// 			if (sparePartsBulkCANCELBtn.length == 1){
				// 				sparePartsBulkCANCELBtn.remove()
				// 			}
				// A055S000P01-3184 - issue:4 commented for issue(while clikcing bulk edit button cancel & save buttons are not appending in UI) - end

				$('#spare-parts-bulk-save-btn').css('display', 'none');
				$('#spare-parts-bulk-cancel-btn').css('display', 'none');
				$('#spare-parts-bulk-edit-btn').css('display', 'none');
				$('#spare-parts-bulk-add-modal-btn').css('display', 'block');
				loadRelatedList('SYOBJR-00005', 'div_CTR_Spare_Parts')
			}
			else if (table_id_RL_edit == "SYOBJR_00009_E5504B40_36E7_4EA6_9774_EA686705A63F") {
				//localStorage.setItem("left_tree_refresh", "yes");
				localStorage.setItem("add_new_functionality", "TRUE");
				localStorage.setItem("SaveSalesPrice", "yes");
				$("[id='qtn_save'] span").click();
				loadRelatedList('SYOBJR-00009', 'div_CTR_Assemblies')
			}
			//Restricted the tree refresh after clicking save in bulk edit scenario starts...
			else if (table_id_RL_edit == 'SYOBJR_00028_5C2A88D7_BE6A_422E_A185_8FAA71D78609') {
				loadRelatedList('SYOBJR-00028', 'div_CTR_Tool_Relocation_Matrix')
				CommonLeftView();
				localStorage.setItem("toolRE_matrix", "yes")

			}
			else if (table_id_RL_edit == 'SYOBJR_95556_0975E1E2_9D30_4928_AB0A_4DA54537A67A' && localStorage.getItem('cont_table_id') != "table_event_parent") {
				loadRelatedList('SYOBJR-95556', 'div_CTR_Assemblies');
				localStorage.removeItem('EDIT_OBJ');
			}
			else if (table_id_RL_edit == 'SYOBJR_00009_E5504B40_36E7_4EA6_9774_EA686705A63F') {
				loadRelatedList('SYOBJR-00009', 'div_CTR_Assemblies')
			}
			else if (table_id_RL_edit == 'SYOBJR_98876_741A3F2E_B2F1_4C9D_9705_B25CBD7F7B32') {
				loadRelatedList('SYOBJR-98876', '')
				// subTabDetails('Offerings', 'Related','SAQITM', 'SYOBJR-00010')
			}
			else if (table_id_RL_edit == 'SYOBJR_00011_1E92CAAD_4EE9_4E5C_AA11_80F20D295A63') {
				PreventiveMaintainenceTreeTable()
			}
			//Restricted the tree refresh after clicking save in bulk edit scenario ends..
			//9646 code starts...
			else if (subtab == 'Parts List' || subtab == 'Periods' || subtab == 'Events') {
				active_chain_step = $('#COMMON_TABS ul li.active').attr('onclick')
				eval(active_chain_step)

			}
			//9646 code ends...
			else {

				$('#BTN_MA_ALL_REFRESH').click();
			}


			localStorage.setItem("related_list_load", "");
			setTimeout(function () {


				var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();

				var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');



				localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
				var fff_test = localStorage.getItem('before_click_on_edit_lstg');
				localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
				var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');
				$('.' + active_before_click_on_edit).trigger('click');

			}, 2000);
			$('#cont_multiEditModalSection').css('display', 'none')
			$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
			$("#cont_multiEditModalSection .modal-backdrop").remove();
			//To hide BULK EDIT button after clicking save - start
			$("#spare-parts-bulk-edit-btn").css('display', 'none');
			//To hide BULK EDIT button after clicking save - end
			if (localStorage.getItem("CommonTreeParam") == "Receiving Equipment") {
				localStorage.setItem("AfterDelete", "YES");
				localStorage.setItem("add_new_functionality", "TRUE");// To restrict navigation to first node in C4C
				CommonLeftView();
			}

		});
	} catch (e) {
		console.log(e);
	}

}

//PRPBMA-349351
function multiedit_save() {
	active_tab = $('ul#carttabs_head li.active').text().trim();
	var selected_value = '';
	var clickedid = '';
	input_val = []
	pop_id = []
	$("#list_grid_bulk_edit #container input").each(function () {
		if ($(this).attr('type') == 'checkbox') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox' && $(this).attr('type') != 'radio') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});
	$("#list_grid_bulk_edit #container select").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});
	$("#RL_EDIT_DIV_ID #container input").each(function () {
		input_val.push($(this).children("input").text());
		pop_id.push($(this).attr('id'))
	});
	var myEle = document.getElementById("CURRENCY_TO_POINT_VALUE");
	if (myEle) {
		input_val.push(myEle.value);
		pop_id.push('CURRENCY_TO_POINT_VALUE')
	}
	table_id_edit = localStorage.getItem("table_id_edit");
	radio_val = $("input[name='massOrSingleEdit']:checked").attr('id');
	if (radio_val != undefined) {
		if (radio_val == 'singleEditRadio') {
			selected_value = localStorage.getItem("multiedit_save_data");
			if (selected_value == null) {
				selected_value = localStorage.getItem("multiedit_save_date")
			}
		} else if (radio_val == 'massEditRadio') {
			selected_value = localStorage.getItem("multiedit_data_checked");
		}
	} else {
		selected_value = localStorage.getItem("multiedit_save_data");

	}
	if (table_id_edit == 'SALES_ORG_LEVEL_DEFAULT_FACTORS' || table_id_edit == 'PRICE_CLASS_LEVEL_FACTORS') {
		var clickedid = table_id_edit;
		$("#VIEW_DIV_ID #container input").each(function () {
			input_val.push($(this).val());
			pop_id.push($(this).attr('id'))
		});
	}
	if (table_id_edit == 'MATERIALS_IN_PRICE_METHODS') {
		var clickedid = table_id_edit;
		pop_id.push('PRICEMETHOD_ID')
		input_val.push($("#pivotgrid_bulk_edit #PRICEMETHOD_ID option:selected").text());
	}
	if (pop_id[0] == 'DEFAULT_LOWPRCADJ_FACTOR' && active_tab == 'Price Classes' && active_tab != '') {
		if (radio_val != 'singleEditRadio' && radio_val != undefined) {
			selected_value = localstorage.getitem('multiedit_data_clicked');
		}
		//selected_value = localStorage.getItem('multiedit_data_clicked');
		try {
			cpq.server.executeScript("SYBLKETTLG", {
				'TITLE': pop_id[0],
				'VALUE': $('#DEFAULT_LOWPRCADJ_FACTOR').val(),
				'RECORDID': selected_value,
				'ELEMENT': 'SAVE',
				CLICKEDID: clickedid
			}, function (datas) {
				$('#BTN_MA_ALL_REFRESH').click();
				$('#cont_multiEditModalSection').css('display', 'none');
				$('#cont_viewModalSection').css('display', 'none');
				$('#list_grid_bulk_edit').css('display', 'none')
				$('#list_grid_bulk_edit .modal-backdrop').css('min-height', '0px');
				$("#list_grid_bulk_edit .modal-backdrop").remove();
			});
		} catch (e) {
			console.log(e);
		}
		localStorage.setItem("multiedit_checkbox_clicked1", "");
	} else {
		try {
			cpq.server.executeScript("SYBLKEDTLG", {
				'TITLE': pop_id[0],
				'VALUE': input_val[0],
				'RECORDID': selected_value,
				'ELEMENT': 'SAVE',
				CLICKEDID: clickedid
			}, function (datas) {
				if (table_id_edit == 'MATERIALS_IN_PRICE_METHODS') {
					$('#pivotgrid_bulk_edit').css('display', 'none')
					$(".modal-backdrop").remove();
					$('.modal-backdrop').css('min-height', '0px');
					$('#cont_viewModalSection').css('display', 'none')
					$('#BTN_MA_ALL_REFRESH').click();
				}
				//Ramesh A043S001P01-5062 END 28-11-2019
				if (table_id_edit != 'SALES_ORG_LEVEL_DEFAULT_FACTORS' && table_id_edit != 'PRICE_CLASS_LEVEL_FACTORS') {
					$('#BTN_MA_ALL_REFRESH').click();
				} else if (table_id_edit == 'SALES_ORG_LEVEL_DEFAULT_FACTORS' || table_id_edit == 'PRICE_CLASS_LEVEL_FACTORS') {
					PRICE_CLASS_LEVEL_FACTORS(datas);
					$('#BTN_MA_ALL_REFRESH').click();
				}
				$('#cont_multiEditModalSection').css('display', 'none')
				$('#cont_viewModalSection').css('display', 'none');
				$('#list_grid_bulk_edit').css('display', 'none')
				$('#list_grid_bulk_edit .modal-backdrop').css('min-height', '0px');
				$("#list_grid_bulk_edit .modal-backdrop").remove();
			});
		} catch (e) {
			console.log(e);
		}
	}
}

localStorage.setItem('bannerContent_dont_update', '0');
var list123 = [];

function Store_val_func(a) {

	var z = $(a).attr('checked');
	var cl = $(a).attr('class');

	list123 = [];
	$('.dropdown.open ul li input').each(function (index) {

		var checked_attr = $(this).attr('checked');

		if (checked_attr == 'checked') {
			var checked_class_txt = $(this).attr('class');

			list123.push(checked_class_txt);
		}
	});


	if (z == 'checked') {
		$(a).removeAttr('checked');
		$(list123).each(function (index) {
			list123 = jQuery.grep(list123, function (value) {
				return value != cl;
			});
		});

	} else {
		$(a).attr('checked', 'checked');
		list123 = [];
		$('.dropdown.open ul li input').each(function (index) {

			var checked_attr = $(this).attr('checked');

			if (checked_attr == 'checked') {
				var checked_class_txt = $(this).attr('class');
				checked_class_txt = checked_class_txt.replace('custom', '')
				list123.push(checked_class_txt);
			}
		});

	}


	$('.dropdown.open button span input.Store_val').val(list123);

	var get_open_class = $('.dropdown.open button').attr('class');

	var splited_class = get_open_class.split(' ');
	var get_index_number;
	$(splited_class).each(function (index) {
		var single_splited_class = splited_class[index];

		if (single_splited_class.startsWith("dropdownSibling")) {

			get_index_number = single_splited_class.split('_');

			get_index_number = get_index_number[1];

		}

	});

	var int_get_index_number = parseInt(get_index_number);

	int_get_index_number = int_get_index_number + 1;

	var table_child_td = 'table#QSTN_SYSEFL_MA_00427_TABLE tbody tr td:nth-child(' + int_get_index_number + ') input[type="Checkbox"]';

	var table_child_td_remove = 'table.table.table-bordered tbody tr td:nth-child(' + int_get_index_number + ') input.Non-Select-Type';

	if (list123.length == 0) {

		$(table_child_td).each(function () {
			var a = $(this).attr('checked');

			if (a == 'checked') {
				$(this).removeAttr('checked');
			}
		});
		$(table_child_td_remove).each(function () {
			$(this).attr('disabled', 'disabled');
		});
	} else {
		$(table_child_td_remove).each(function () {
			$(this).removeAttr('disabled');
		});
	}

	//var get_checkbox_class = $(a).parent().closest('ul').attr('class');
	var get_checkbox_class = $(a).parent().closest('ul').siblings('button').attr('class');

	if (get_checkbox_class) {

		var get_checkbox_class_split = get_checkbox_class.split('_');

		var get_checkbox_class_split_index = parseInt(get_checkbox_class_split[1]);
		get_checkbox_class_split_index = get_checkbox_class_split_index + 1;

		var enable_required_column = 'table#QSTN_SYSEFL_MA_00427_TABLE tbody tr td:nth-child(' + get_checkbox_class_split_index + ')';

		$(enable_required_column).each(function (index) {
			var children_length = $(this).children('.lbl').length;

			if (children_length == 1) {
				$(this).children('input').removeAttr('disabled');
			}
		});
	}

	var ul_list = [];
	$('table#QSTN_SYSEFL_MA_00427_TABLE tbody tr:first-child td ul').each(function (index) {
		var ul_classname = $(this).attr('class');
		ul_list.push(ul_classname);
	});


	$(ul_list).each(function (index) {


		var replace_space = ul_list[index].replace(/ /g, ".");

		var a = 'ul.' + replace_space + ' li input';

		var count_value = 0;
		$(a).each(function (indexValue) {
			var b = $(this).attr('checked');

			if (b == 'checked') {
				count_value = count_value + 1;
			} else { }

		});

		var split_by_space = ul_list[index].split(' ');

		var ul_list_index_num = split_by_space[0].split('_');

		var ul_list_index_convert = parseInt(ul_list_index_num[1]);
		ul_list_index_convert = ul_list_index_convert + 1;

		if (count_value == 0) {
			var current_column = 'table#QSTN_SYSEFL_MA_00427_TABLE tbody tr td:nth-child(' + ul_list_index_convert + ') > input[type="Checkbox"]';

			$(current_column).each(function (index) {

				var dis_attr_val = $(this).attr('disabled');
				if (dis_attr_val != 'disabled') {
					$(this).attr('disabled', 'disabled');
				}
			});
		}
	});

}

function dropbutton() {

	list123 = [];

	materialPlusEmblem();

}

function emblem_checked(emb) {
	var x = $(emb).attr('checked');
	if (x == 'checked') {
		$(emb).removeAttr('checked');
	} else {
		$(emb).attr('checked', 'checked');
	}
}

var check_this_list = [];

localStorage.setItem("local_check_this_list", '');

function get_checkbox_row_list(check_this) {
	localStorage.setItem("txt_match", "0");
	var closest_tr_id = $(check_this).closest('tr').attr('id');

	if (check_this_list.length > 0) {
		localStorage.setItem("local_insert", '0');

		$(check_this_list).each(function (index) {
			var grep_txt = check_this_list[index];

			if (grep_txt == closest_tr_id) {
				localStorage.setItem("txt_match", "1");

				$(check_this_list).each(function (index) {

					check_this_list = jQuery.grep(check_this_list, function (value) {
						return value != closest_tr_id;
					});
				});

			}

		});

		var local_insert_value = localStorage.getItem("txt_match");

		if (local_insert_value == '0') {

			check_this_list.push(closest_tr_id);
		}
	} else {

		check_this_list.push(closest_tr_id);
	}

	localStorage.setItem("local_check_this_list", check_this_list);

	var local_check_this_list_length = localStorage.getItem("local_check_this_list");

}

//localStorage.setItem("record_id_number", "");
localStorage.setItem("record_number_add_new", "");

localStorage.setItem('relatedOkLocal', "0");

$(window).bind("load", function () {
	var list_display_value = $('.List_Container_header_txt').css('display');
	if (list_display_value != 'table') {
		$('.row.tabsmenu2.tabdyn').css('display', 'block');
	}
});
function loadDetails(RecordId, ObjName, AllTreeParams) {
	setTimeout(function () {
		$('.CommonTreeDetail').css('display', 'block');
	}, 1000);
	if (TreeParam == "Contract Quotes" || TreeParam == "Exchange Rates") {
		price_breadcrumb();
	}
	// if (ObjName == 'SAQTIP' && TreeParam == 'Customer Information'){
	// 	localStorage.setItem("page_type","OBJECT PAGE LAYOUT")
	// 	Subbaner("",CurrentNodeId, CurrentRecordId, ObjName)
	// }
	if (localStorage.getItem("currentSubTab") == "Annualized Items" && TreeParam == "Quote Items") {
		RecordId = localStorage.getItem("RecordIds");
		ObjName = "SAQICO"
	}
	var btn = $('#seginnerbnr > button').attr('id');
	if (btn != undefined) {
		if (btn.includes('ADDNEW_')) {
			$('#' + btn).hide();
		}
	}
	try {
		RecordId = RecordId.trim();
		ObjName = ObjName.trim();
	}
	catch (e) {
		console.log(e);
	}
	cpq.server.executeScript("SYULODTRND", { 'RECORD_ID': RecordId, 'ObjName': ObjName, 'AllTreeParams': AllTreeParams, 'MODE': 'VIEW', 'NEWVAL': '', 'LOOKUPOBJ': '', 'LOOKUPAPI': '', 'SECTION_EDIT': '', 'Flag': 1, 'DetailList': '' }, function (dataset) {
		var [datas, data1, data2, data3, data4, data5] = [dataset[0], dataset[1], dataset[2], dataset[3], dataset[4], dataset[5]];
		localStorage.setItem('Lookupobjd', data5)
		localStorage.setItem("page_type", "OBJECT PAGE LAYOUT")
		if (document.getElementById("TREE_div")) {
			document.getElementById("TREE_div").innerHTML = datas;
			// FUNCTION CALL TO ENABLE THE POPOVER AND TO CLOSE IT WHEN ANOTHER IS ACTIVE
			$('#div_CTR_related_list').css('display', 'none');
			popover()
			// INC08616028 - Start - A
			account_subtab = $("#CPQ_PARTNER_FUNCTION").val();
			if (account_subtab == "RECEIVING ACCOUNT") {
				Subbaner('Receiving Account Details', CurrentNodeId, CurrentRecordId, 'SAQTIP')
			}
			else if (account_subtab == "SENDING ACCOUNT") {
				Subbaner('Sending Account Details', CurrentNodeId, CurrentRecordId, 'SAQTIP')
			}
			// INC08616028 - End - A
		}
		if (ObjName == 'ACACSA' || ObjName == 'ACACST') {
			onFieldChanges();
		}

	});

}
//Billing Matrix Footer Total - Start
function priceSumFormatter(data) {
	var field = this.field
	return data.map(function (row) {
		return +$.parseHTML(row[field])[0].innerText
	}).reduce(function (sum, i) {
		return sum + i
	}, 0)
}

function totalTextFormatter(data) {
	return $('#COMMON_TABS li.active').text().trim() + ' Total'
}
//Billing Matrix Footer Total - End
function loadRelatedList(RecId, RecName) {
	$(".display_gird").css("display", "none");
	$('#cancelButton').css('display', 'none');
	$('#saveButton').css('display', 'none');
	var subTabText = localStorage.getItem('currentSubTab');
	//restricted breadcrumb reset, since it causes missing of levels in breadcrumb
	//A055S000P01-17070 code starts ...ends..
	restrict_reset = ['SYOBJR-95555', 'SYOBJR-95556', 'SYOBJR-00031', 'SYOBJR-00032', 'SYOBJR-00033', 'SYOBJR-00038'];  // Events, Assemblies, Kit
	if (subTabText != "Equipment Assemblies" && subTabText != "Receiving Equipment" && !restrict_reset.includes(RecId)) {
		breadCrumb_Reset();
	}
	//Hide the save and cancel button
	//Subbaner("",CurrentNodeId, CurrentRecordId, ObjName)
	if (localStorage.getItem("adnw_btn_hide") == "yes") {
		Subbaner("", CurrentNodeId, CurrentRecordId, ObjName)
		localStorage.setItem("adnw_btn_hide", "no")
	}
	$('div#HideSavecancel').css('display', 'none');
	$('.HideAddNew').css('display', 'block');
	// $("#ADDNEW__SYOBJR_00005_SYOBJ_00272").css('display','none');
	$('#ADDNEW__SYOBJR_95981_SYOBJ_00865').show();
	//Hide the save and cancel button.
	//$('#FirstSecInformation').css('display','none');
	$('#ADDNEW__SYOBJR_95985_SYOBJ_00866').show();
	if (RecId == "SYOBJR-30345") {
		$("#ADDNEW__SYOBJR_30345_SYOBJ_00163").show();
	}
	if (RecId == "SYOBJR-00013") {
		$("#ADDNEW__SYOBJR_00013_SYOBJ_01023").css("display", "block")
	}
	if (RecId == "SYOBJR-98798") {  //To display add new in involved parties subtab after cancel in add party
		var cont_table_id = localStorage.getItem('cont_table_id');
		var currentSubTab = localStorage.getItem('currentSubTab');
		//chainsteps_breadcrumb(currentSubTab);
		$('#' + cont_table_id).show();
		$('#jqxSplitter').css("cssText", 'height : 88vh!important');
	}
	//11285 START
	if (RecId == 'SYOBJR-95825') {
		$('#ADDNEW__SYOBJR_95825_SYOBJ_00426').show();
		$('#DROP_CONSTRAINT_BTN').hide();
		$('#RECREATE_CONSTRAINT_BTN').hide();
		$('#SYOBJC_SAVE_CONST').hide();
		$('#SYOBJC_CANCEL_CONST').hide();

	}
	if (RecId == 'SYOBJR-94447') {
		$('#ADDNEW__SYOBJR_94447_SYOBJ_00322').show();
		$('#delete_ADDNEW__SYOBJR_94447_SYOBJ_00322').show();
		$('.header_section_div').removeAttr('style');
		$('.header_section_div').removeAttr('class');
	} //11285 END
	//A043S001P01-11534 start
	if (RecId == 'SYOBJR-90083') {
		$('#ADDNEW__SYOBJR_90083_SYOBJ_00244').show();
	}
	//A043S001P01-11534 end
	if (RecId == 'SYOBJR-95976') {
		$('#ADDNEW__SYOBJR_95976_SYOBJ_00855').show();
	}
	if (RecId == 'SYOBJR-95826') {
		$('#ADDNEW__SYOBJR_95826_SYOBJ_00317').show();
	}
	if (RecId == 'SYOBJR-98868') {
		cpq_tab_id = localStorage.getItem('CurrentRecordId')
	}
	else {
		cpq_tab_id = ''
	}
	PR_CURR = $(".segment_part_number_text").text();
	var TP = localStorage.getItem('CommonTreeParam');
	// to hide notification banner if records exists in related list starts in apr chn
	var apr_current_rec_id = localStorage.getItem('keyData');
	// to hide notification banner if records exists in related list ends in apr chn
	Currenttab = $('ul#carttabs_head li.active a span').text();
	if (typeof (equipment_serialnumber) != 'undefined') {
		equipment_id = equipment_serialnumber.split('-')[0]
	}
	else if (RecId == 'SYOBJR-95557') {
		equipment_id = localStorage.getItem('openedKit');
	}
	else if (RecId == 'SYOBJR-98868') {
		equipment_id = localStorage.getItem('EquipmentIdValue');
	}
	else {
		equipment_id = ""
	}
	try {
		line_item = localStorage.getItem("line_item")
	}
	catch {
		line_item = ""
	}
	try {
		cpq.server.executeScript("SYLDRTLIST", {
			'REC_ID': RecId,
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'ACTION': 'PRODUCT_ONLOAD',
			'SUBTAB': subTabText,
			'PR_CURR': PR_CURR,
			'TP': TP,
			'Currenttab': Currenttab,
			'equipment_id': equipment_id,
			'line_item': line_item,
			'CPQ_TAB_ID': cpq_tab_id
		}, function (dataset) {

			//Currenttab = $('ul#carttabs_head li.active a span').text();
			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data4 = dataset[4];
			data5 = dataset[5];
			data6 = dataset[6];
			data7 = dataset[7];
			data8 = dataset[8];
			data9 = dataset[9];
			data10 = dataset[10];
			data11 = dataset[11];
			data12 = dataset[12];
			data18 = dataset[18];
			data19 = dataset[19];
			nso_included = dataset[20];
			//9711 START
			if (RecId == 'SYOBJR-90020') {
				tabname = $('li.usercountrydetails.active').text().trim();
				if (tabname == 'Details') {
					$('#ADDNEW__SYOBJR_90020_SYOBJ_00177').css('display', 'none')
				} else {
					// A043S001P01-12612 -> Starts
					$('div#SEGREV_SegmentButtons').find("#PAACSP").css('display', 'none');
					$('div#SEGREV_SegmentButtons').find("#PAACSP_CANCEL").css('display', 'none');
					// A043S001P01-12612 -> Ends
					$('div#SEGREV_SegmentButtons').find("#PARQIM").css('display', 'none');
					$('div#SEGREV_SegmentButtons').find("#PARQIM_CANCEL").css('display', 'none');
					$('#ADDNEW__SYOBJR_90020_SYOBJ_00177').css('display', 'block')
				}
			} //9711 END
			//var current_url = window.location.href;
			//var regex = new RegExp('Configurator.aspx');
			//if (regex.test(current_url)){
			//	RecName = 'div_CTR_related_list';
			//	$("#"+RecName).css("display","block");
			//	$('#' + RecName).addClass('brd0_pad0');
			//document.getElementById(RecName).innerHTML = '';
			//document.getElementById(RecName).innerHTML = datas;
			//} else
			//{
			if (data4 != 'NORECORDS') {
				// Added to load related list grid in cart page(Quote Explorer) - start
				if (ProductId == '2240') {
					if (RecName != "div_Quote" && RecName != "Tool_Quote") {
						RecName = 'div_CTR_related_list'
					}
					$("#" + RecName).css("display", "block");
					if (document.getElementById(RecName)) {
						document.getElementById(RecName).innerHTML = '';
						document.getElementById(RecName).innerHTML = datas;
						$('#' + RecName).addClass('brd0_pad0');
						try {
							//entitlement_save_flag = localStorage.getItem("entitlement_save_flag");
							cpq.server.executeScript("CQCRUDOPTN", {
								'Opertion': 'GET',
								'ActionType': 'SHOW_PRICING_BENCHMARKING_NOTIFICATION',
								'NodeType': 'QUOTE LEVEL NOTIFICATION',
								'CurrentRecordId': apr_current_rec_id,

							}, function (datasettt) {
								if (datasettt != "") {
									if (datasettt[0] != "" || datasettt[1] != "" || datasettt[2] != "") {
										$(".emp_notifiy").css('display', 'block').css('margin-top', 60);
										$("#PageAlert ").css('display', 'block');
										if (nso_included != "True") {
											$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").removeAttr('disabled');
											$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
										}
									}
									else {

										$(".emp_notifiy").css('display', 'none');
										$("#PageAlert ").css('display', 'none');
										if (nso_included != "True") {
											$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").removeAttr('disabled');
											$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
										}
									}
								}
								else {
									$(".emp_notifiy").css('display', 'none');
									$("#PageAlert ").css('display', 'none');
								}
							});
						}
						catch { console.log('===error price bench mark notification') }
						// to hide notification banner if records exists in related list ends in apr chn

					}

				}
				// Added to load related list grid in cart page(Quote Explorer) - end
				else if (document.getElementById(RecName)) {
					//added by vignesh for A043S001P01-11534 - start
					/* CurrentRecordId = localStorage.getItem('Rel_List_Rec_ID')
					TREETAB =  localStorage.getItem('TREETAB')
					if (CurrentRecordId!=null){
					if (CurrentRecordId.startsWith("SYOBJR") == true && TREETAB == "YES"){
						$(".container_banner_inner_sec").css("display","none");
					}
				}
					else if (RecId == "SYOBJR-100001") {
						$('.container_banner_inner_sec').css('display', 'none');
					} else {
						$('.container_banner_inner_sec').css('display', 'none');
					}*/
					//added by vignesh for A043S001P01-11534 - end
					document.getElementById(RecName).innerHTML = '';
					document.getElementById(RecName).innerHTML = datas;
					//Commented the below code it affects all the related list
					//$("#div_CTR_Equipments").closest('.Related').css('display', 'block');
					//$("#div_CTR_Equipments").show();
					// related list loading issue in price model tempory fix for demo
					if (Currenttab == "Price Model") {
						$('.dropdown').css('display', 'block');
						$('.Detail').removeClass('disp_blk');
						$('.Detail').addClass('disp_none');
						localStorage.setItem('Prcl_RelatedRecId', RecId);
						localStorage.setItem('Prcl_RelatedRecName', RecName);
						$('.Related').removeClass('disp_blk');
						$('.Related').addClass('disp_none');
						$("div[id='" + RecName + "']").closest('.Related').removeClass('disp_none');
						$("div[id='" + RecName + "']").closest('.Related').addClass('disp_blk');
						$('container_banner_inner_sec').removeClass('disp_blk');
						$('container_banner_inner_sec').addClass('disp_none');
						$('#' + RecName).removeClass('disp_none');
						$('#' + RecName).removeClass('disp_blk');
					}
					// related list loading issue in price model tempory fix for demo
					$('#' + RecName).addClass('brd0_pad0');
					// to hide notification banner if records exists in related list starts in apr chn
					ProductId = cpq.models.configurator.productId();

					if (ProductId == '273') {
						try {
							cpq.server.executeScript("CQCRUDOPTN", {
								'Opertion': 'GET',
								'ActionType': 'SHOW_PRICING_BENCHMARKING_NOTIFICATION',
								'NodeType': 'QUOTE LEVEL NOTIFICATION',
								'CurrentRecordId': apr_current_rec_id,
							}, function (datasettt) {
								if (datasettt != "") {
									if (datasettt[0] != "" || datasettt[1] != "" || datasettt[2] != "") {
										$(".emp_notifiy").css('display', 'block').css('margin-top', 60);
										$("#PageAlert ").css('display', 'block');
									}
									else {
										$(".emp_notifiy").css('display', 'none');
										$("#PageAlert ").css('display', 'none');
									}
								}
								else {
									$(".emp_notifiy").css('display', 'none');
									$("#PageAlert ").css('display', 'none');
								}
							});
						}
						catch { console.log('===error price bench mark notification') }
					}
					// to hide notification banner if records exists in related list ends in apr chn

				}
			} else {
				// Added to load related list grid in cart page(Quote Explorer) - start
				if (ProductId == '2240') {
					if (RecName != "div_Quote" && RecName != "Tool_Quote") {
						RecName = 'div_CTR_related_list'
					}
					if (document.getElementById(RecName)) {
						try {
							cpq.server.executeScript("CQCRUDOPTN", {
								'Opertion': 'GET',
								'ActionType': 'SHOW_PRICING_BENCHMARKING_NOTIFICATION',
								'NodeType': 'QUOTE LEVEL NOTIFICATION',
								'CurrentRecordId': apr_current_rec_id,
							}, function (data) {
								if (data != "") {
									if (data[0] != "" || data[1] != "" || data[2] != "") {
										//    hided notifications for other than Quotes app
										if (ProductId == '273') {
											$(".emp_notifiy").css('display', 'block').css('margin-top', 60);
											$("#PageAlert ").css('display', 'block');


											$("#alertnotify").html(data);
										}
										//    hided notifications for other than Quotes app
									}
									else {
										$(".emp_notifiy").css('display', 'none');
										$("#PageAlert ").css('display', 'none');
									}
								}
								else {
									$(".emp_notifiy").css('display', 'none');
									$("#PageAlert ").css('display', 'none');
								}
							});
						}
						catch { console.log('===error price bench mark notification') }
						//hide No Records to Display in Disposition subtab starts
						var x = subTabText.includes("Disposition")
						if (x == false) {
							document.getElementById(RecName).innerHTML = '<div class="noRecDisp">No Records to Display</div>';
							$('#' + RecName).addClass('brd1_pad5');
							$("#div_CTR_related_list").css("display", "block");
						}
					}
				}
				// Added to load related list grid in cart page(Quote Explorer) - end
				else if (document.getElementById(RecName)) {
					//added by vignesh for A043S001P01-11534 - start
					/*  CurrentRecordId = localStorage.getItem('Rel_List_Rec_ID')
					TREETAB =  localStorage.getItem('TREETAB')
					if (CurrentRecordId == null || CurrentRecordId == undefined){
						CurrentRecordId = ''
					}
					if (CurrentRecordId.startsWith("SYOBJR") == true && TREETAB == "YES"){
						$(".container_banner_inner_sec").css("display","none");
					}else if (RecId == "SYOBJR-100001") {
						$('.container_banner_inner_sec').css('display', 'none');
					} else {
						$('.container_banner_inner_sec').css('display', 'none');
					}*/
					//added by vignesh for A043S001P01-11534 - end

					if (Currenttab == "Pice Model") {
						$('.dropdown').css('display', 'block');
					}
					try {
						cpq.server.executeScript("CQCRUDOPTN", {
							'Opertion': 'GET',
							'ActionType': 'SHOW_PRICING_BENCHMARKING_NOTIFICATION',
							'NodeType': 'QUOTE LEVEL NOTIFICATION',
							'CurrentRecordId': apr_current_rec_id,
						}, function (data) {
							if (data != "") {
								if (data[0] != "" || data[1] != "") {
									//    hided notifications for other than Quotes app
									if (ProductId == '273') {
										$(".emp_notifiy").css('display', 'block').css('margin-top', 60);
										$("#PageAlert ").css('display', 'block');


										$("#alertnotify").html(data);
									}
									//    hided notifications for other than Quotes app
								}
								else {
									$(".emp_notifiy").css('display', 'none');
									$("#PageAlert ").css('display', 'none');
								}
							}
							else {
								$(".emp_notifiy").css('display', 'none');
								$("#PageAlert ").css('display', 'none');
							}
						});
					}
					catch { console.log('===error price bench mark notification') }
					//hide No Records to Display in Disposition subtab starts
					var x = subTabText.includes("Disposition")
					if (x == false) {
						document.getElementById(RecName).innerHTML = '<div class="noRecDisp">No Records to Display</div>';
						$('#' + RecName).addClass('brd1_pad5');
					}
					//hide No Records to Display in Disposition subtab ends

				}
			}
			//}
			/* For all Related list Resize */
			// 9201 Starts ......
			setTimeout(function () {
				if (data2 && data2 != '') {
					try {
						$("table#" + data2).colResizable({
							disable: true
						});
						$("table#" + data2).colResizable({
							liveDrag: true
						});
					} catch (e) {
						console.log('error', e);
					}
				}

			}, 3000);
			if (data2 != '') {
				try {
					$('#' + data2).bootstrapTable({
						data: data1,
						formatShowingRows: function (pageFrom, pageTo, totalRows) {
							return 'Number of items:  ' + totalRows;
						}
					});
				} catch (err) {
					setTimeout(function () {

						$('#' + data2).bootstrapTable({
							data: data1,
							formatShowingRows: function (pageFrom, pageTo, totalRows) {
								return 'Number of items:  ' + totalRows;
							}
						});
					}, 5000);
				} finally {
					// A055S000P01-20779 Start - M
					$(".bill_mismatch_line").parents('td').css("background", "#f8d7da");
					// A055S000P01-20779 End - M
					$('#' + data2).after(data12);
					// Billing Matrix Footer - Start
					$('#' + data2 + ' tbody').after(dataset[17]);
					// Billing Matrix Footer - End
					try {
						//eval(data6)
						eval(data9);
						eval(data3);
						eval(data5);
						var scrolled = 0;
						$(" #ctr_drop").on("click", function () {
							scrolled = scrolled + 300;
							$(".benchmarkdiv").animate({
								scrollTop: scrolled

							});
							//$(".benchmarkdiv").animate({ height: '+=36' });

						});
					} catch (err) {
						console.log(err);
					}
				}
			}
			//A055S000P01-682 Start To hide the key column
			//if (TreeParam == "Quote Preview"){
			//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
			//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
			//}
			//A055S000P01-682 end To hide the key column
			if (RecId == 'SYOBJR-90027') {

				var fulfillment_fees_active = $("table[id^='" + RecId.replace('-', '_') + "'] tbody tr td:last-child input").attr('checked');
				if (fulfillment_fees_active == 'checked') {
					$("button[id^='ACTIVEALL__" + RecId.replace('-', '_') + "']").attr("disabled", true);
					$("button[id^='DEACTIVEALL__" + RecId.replace('-', '_') + "']").attr("disabled", false);
				} else {
					$("button[id^='ACTIVEALL__" + RecId.replace('-', '_') + "']").attr("disabled", false);
					$("button[id^='DEACTIVEALL__" + RecId.replace('-', '_') + "']").attr("disabled", true);
				}
			}

			if (RecId == 'SYOBJR-34575') {
				$('#SYOBJR_34575_A67DBF63_1974_433F_A9BE_421D8D34C0C0').wrapAll('<div class="benchmarkdiv"></div>');
				$('.JCLRgrips').remove();
			}
			if (RecId == 'SYOBJR-98872') {
				$('#SYOBJR_98872_66040985_5AE9_4DDC_BF34_8F50F1B1AA33').wrapAll('<div class="benchmarkdiv"></div>');
				$('.JCLRgrips').remove();
			}
			if (RecId == 'SYOBJR-00005') {
				$('#SYOBJR_00005_7EAA11B4_82C9_400B_8E48_65497373A578').wrapAll('<div class="benchmarkdiv"></div>');
				$('.JCLRgrips').remove();
			}
			if (RecId == 'SYOBJR-00029') {
				$('#SYOBJR_00029_9012C7CB_BA88_4E09_B4D3_ED8907B8AE63').wrapAll('<div class="benchmarkdiv"></div>');
				$('.JCLRgrips').remove();
			}
			if (RecId == 'SYOBJR-00007') {
				$('#SYOBJR_00007_26B8147E_C59C_4010_AA3A_38176869E305').wrapAll('<div class="benchmarkdiv"></div>');
				$('.JCLRgrips').remove();
			}
			if (RecId == 'SYOBJR-00009') {
				annualgrid_show()
				if (data18 == "False") {
					$("#anual_pricing_manual").hide()
				}
				else {
					$("#anual_pricing_manual").show()
				}

			}

			var currentTabName = $('ul#carttabs_head .active a span').text();
			if (RecName == 'div_CTR_Award_Level_Groups' && currentTabName == 'Program') {
				$("div[class^='dropdown']").css('display', 'block');
			}
			if (RecId == 'SYOBJR-95825') {
				$('#ADDNEW__SYOBJR_95825_SYOBJ_00426').show();
				$('#DROP_CONSTRAINT_BTN').hide();
				$('#RECREATE_CONSTRAINT_BTN').hide();
				$('#SYOBJC_SAVE_CONST').hide();
				$('#SYOBJC_CANCEL_CONST').hide();

			}
			// A043S001P01-5893 - End
			//Commented by VETRI for A043S001P01-5011 - End


			setTimeout(function () {
				deleteFunction()
			}, 2000);

		});
		// $("#ADDNEW__SYOBJR_00005_SYOBJ_00272").css('display','none');
		if (Currenttab == "Quotes") {
			//QuoteStatus();
			dynamic_status();
		}
	} catch (e) {
		console.log(e);
	}
}

localStorage.setItem("icon_edit_lock", "");
localStorage.setItem('Related_Loading', 0);
localStorage.setItem('first_li_txt', '');
//localStorage.setItem('KeyValueToTable','');
localStorage.setItem('Attribute_sub_tab', '0');

localStorage.setItem('before_click_on_edit_lstg', '');
localStorage.setItem('active_before_click_on_edit_lstg', '');

function NumberRightAlign() {

	$('td').filter(function () {

		return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
	}).css('text-align', 'right');
	$('td #ACTIVE').closest('td').css('text-align', 'center');

}

function materialPlusEmblem() {
	/* MATERIAL + EMBLEM AND CLASSES 'BEGIN' */

	var dropdown_class_list = [];
	$('.dropdown ul.dropdown-menu.dropdown-menu-form').each(function (index) {

		var dropdownAddClass = 'dropdownul_' + index;
		var dropdownSibling = 'dropdownSibling_' + index;
		$(this).addClass(dropdownAddClass);
		dropdown_class_list.push(dropdownAddClass);
		$(this).siblings().addClass(dropdownSibling);
	});

	$(dropdown_class_list).each(function (index) {

		var dropdown_class_from_list = dropdown_class_list[index];

		var dropdown_checked_txt = '.' + dropdown_class_from_list + ' li input:checked';

		var bind_txt_to_span = '.dropdownSibling_' + index + ' span input.Store_val';

		var drop_checked_txt_list = [];
		$(dropdown_checked_txt).each(function () {
			var checked_text = $(this).attr('class');

			drop_checked_txt_list.push(checked_text);
		});

		var show_checked_txt = '';
		$(drop_checked_txt_list).each(function (index) {
			if (show_checked_txt.length == 0) {
				show_checked_txt = drop_checked_txt_list[index];
			} else {
				show_checked_txt = show_checked_txt + ',' + drop_checked_txt_list[index];
			}
		});

		$(bind_txt_to_span).val(show_checked_txt);
	});
	/* MATERIAL + EMBLEM AND CLASSES 'END' */
}

localStorage.setItem("delete_cont_values", "0");

localStorage.setItem("cur_id_pad_mar", "0");
localStorage.setItem("cur_id_pad_mar_text", "");

function cur_pad_mar() {

	var cur_id = localStorage.getItem("cur_id_pad_mar_text");

	//if(cur_id.indexOf('Sorting___DESC') == 0)
	//{
	//$('#'+cur_id).css('margin-top','10px');
	//}
	$('#' + cur_id).parent().siblings().css('padding', '5px 0 0 0');
}

function rel_edit_parent() {
	var rel_edit_par = localStorage.getItem("RelatedEdit_parent");

	if (rel_edit_par == "1") {

		$('.tabsmenu2').css('display', 'block');
		localStorage.setItem("RelatedEdit_parent", "0");
	}

	//setTimeout(function(){deleteFunction()}, 2000);


}

function deleteFunction() {

	$('.qstn_r_contaier table').each(function (index) {

		var a = $(this).attr('id');

		if (a) {
			var li_Txt = '.qstn_r_contaier table#' + a + ' tbody tr td .btn-group.dropdown div#ctr_drop ul.dropdown-menu li a';

			$(li_Txt).each(function (index) {

				var li_Txt_action_btn = $(this).text().trim();

				if (li_Txt_action_btn == "DELETE") {

					$(this).parent().parent().closest('tr').closest('tbody').closest('table').parent().closest('.bootstrap-table').parent().siblings().children().children().children('.del_list_new').css('display', 'block');
				}
			});

		}
	});

}

var drop_down_id_split_concat;

function treeViewMulti() {
	//CHECKBOX FOR TREE VIEW.
	$('ul.e-ul li input').remove();
	$('ul span.e-ddltxt').each(function (index) {
		var span_txt = $(this).text();
		var build_checkbox = "<input type='checkbox' class='ht18_wd18_flt' onclick='treeCheckboxClick(this)' value='" + span_txt + "'/>"
		$(this).before(build_checkbox);
	});
}

var selected_to_input;
var listval = [];
var selected_val_with_sep;
var check_id_txt;

function treeCheckboxClick(ele) {

	selected_val_with_sep = ''
	var tree_drop_id = $(ele).closest('ul').parent().parent().attr('id');

	var drop_down_id_split = tree_drop_id.split('_popup');

	drop_down_id_split_concat = drop_down_id_split[0] + "_hidden";

	if (check_id_txt != drop_down_id_split_concat) {
		listval = [];
		check_id_txt = drop_down_id_split_concat;
	}

	selected_to_input = $(ele).attr('value');

	var b = $(ele).attr('checked');

	if (b == "checked") {
		$(ele).removeAttr('checked');
		//listval = jQuery.grep(listval, function(value) {
		//return value != selected_to_input;
		//});

		listval = [];
		var dynamic_tree_drop_id = '#' + tree_drop_id + ' ul li input';

		$(dynamic_tree_drop_id).each(function (index) {

			var a = $(this).attr('checked');

			if (a == 'checked') {
				var b = $(this).attr('value');

				listval.push(b);
			}

		});
	} else {
		$(ele).attr('checked', 'checked');
		//listval.push(selected_to_input);
		listval = [];
		var dynamic_tree_drop_id = '#' + tree_drop_id + ' ul li input';

		$(dynamic_tree_drop_id).each(function (index) {

			var a = $(this).attr('checked');

			if (a == 'checked') {
				var b = $(this).attr('value');

				listval.push(b);
			}

		});
	}

	$(listval).each(function (index) {
		var array_values = listval[index];
		if (index == 0) {
			selected_val_with_sep = listval[index];
		} else {
			selected_val_with_sep = selected_val_with_sep + ',' + listval[index];
		}
	});

	var parent_div_id = [];
	$('.e-ul').each(function (index1) {

		var input_attr_value = $(this).attr('value');

		//var parent_id_attr = $(this).closest('ul').parent().parent().attr('id');
		var parent_id_attr = $(this).parent().parent().attr('id');

		parent_div_id.push(parent_id_attr);
	});

	localStorage.setItem('selectedDropdown', parent_div_id);

	var lis = [];
	$('span span input:first-child').each(function (index) {

		var span_first_child = $(this).attr('id');

		lis.push(span_first_child);
	});

	setTimeout(function () {
		$('#' + drop_down_id_split[0]).val(selected_val_with_sep);
		$('#' + drop_down_id_split_concat).val(selected_val_with_sep);

		var lis_1 = [];
		$(lis).each(function (index) {

			var lis_index = '#' + lis[index];

			var lis_1_txt = $(lis_index).attr('value');

			lis_1.push(lis_1_txt);
		});

		localStorage.setItem('lis_selected_value', lis_1);

	}, 500);

}

function namePOPUPFormatterSegmt(value, row) {

	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="segmt_pric_lookup_popup_onchange(this)">' + value + '</a>';

}

function namePOPUPFormatterSegmtAdd(value, row) {

	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="segmt_add_pric_lookup_popup_onchange(this)">' + value + '</a>';

}

function inv(ele) {
	$('#SEARCH_VALUE').val(ele.id);
	$("#btn12").trigger('click');
}

function getdelid(ele) {
	tabid = ele.id;
	localStorage.setItem('bulk_tabid', tabid);
}

function checkbxactive(ele) {
	var a = $(ele).attr('value');
	if (a == 'True' || a == 'true') {
		$(ele).attr('value', 'False');
		$('#seglistID').attr('disabled', 'disabled');
		$('#seglistID').css({
			'background-color': 'lightgray',
			'color': 'gray'
		});
		localStorage.setItem('CheckboxErr', 'KINDLY ACTIVE THE RECORD');

		if (localStorage.getItem('datepickerErr') != null && localStorage.getItem('datepickerErr') != "") {
			datepickr = localStorage.getItem('datepickerErr');
			datas = 'KINDLY ACTIVE THE RECORD, ' + datepickr;
			if (document.getElementById('Headbrdr')) {
				document.getElementById('Headbrdr').innerHTML = datas
			}
		} else {
			if (document.getElementById('Headbrdr')) {
				document.getElementById('Headbrdr').innerHTML = "KINDLY ACTIVE THE RECORD";
			}
		}
	} else {
		if (localStorage.getItem('datepickerErr') != null && localStorage.getItem('datepickerErr') != "") {
			datepickr = localStorage.getItem('datepickerErr');
			if (document.getElementById('Headbrdr')) {
				document.getElementById('Headbrdr').innerHTML = datepickr
			}
		} else {
			$('#seglistID').removeAttr('disabled');
			$('#seglistID').css({
				'background-color': '',
				'color': ''
			});
			if (document.getElementById('Headbrdr')) {
				document.getElementById('Headbrdr').innerHTML = "";
			}
		}
		localStorage.setItem('CheckboxErr', '');
		$(ele).attr('value', 'True');
	}
}

function cont_modalconfirm() {
	table_id = 'PRLPBK'
	input_val = []
	pop_id = []
	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});

	var cont_lable = localStorage.getItem('cont_lable')
	var cont_value = localStorage.getItem('cont_value')
	var cont_table_id = localStorage.getItem('cont_table_id')
	if (cont_value) {
		cont_value = cont_value.split(',')
	}
	if (cont_lable) {
		cont_lable = cont_lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");

	try {
		cpq.server.executeScript("SYPOSAVEAL", {
			'LABLE': pop_id,
			'VALUE': input_val,
			'TABLEID': table_id,
			'CONT_LABLE': cont_lable,
			'CONT_VALUE': cont_value,
			'CONT_TABLEID': cont_table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'Countries': drop_down_selected_list
		}, function (data) {

			localStorage.setItem("cont_lable", data[0]);
			localStorage.setItem("cont_value", data[1]);
			localStorage.setItem("cont_table_id", data[2]);
			localStorage.setItem("first_record_id", data[4]);
			localStorage.setItem("first_record_feild", data[5]);

			$('#cont_viewModalSection').modal('hide');
			localStorage.setItem("related_list_load", "");
			//loadRelatedList(data[6],data[7]);
			$('.BTN_MA_ALL_REFRESH').click();

			setTimeout(function () {


				var before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').text().trim();

				var active_before_click_on_edit = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a').attr('class');



				localStorage.setItem('before_click_on_edit_lstg', before_click_on_edit);
				var fff_test = localStorage.getItem('before_click_on_edit_lstg');
				localStorage.setItem('active_before_click_on_edit_lstg', active_before_click_on_edit);
				var ddd_test = localStorage.getItem('active_before_click_on_edit_lstg');
				$('.' + active_before_click_on_edit).trigger('click');

			}, 3000);
			$("body").removeClass("modal-open");
			$("body").css("padding-right", "");
			drop_down_selected_list = [];
		});
	} catch (e) {
		console.log(e);
	}

}

localStorage.setItem('related_list_load', '');
//localStorage.setItem("page_change","0");
function FirstPageLoad_pagination() {

	//localStorage.setItem("page_change","1");
	var active_subtab = $('.subtab_inner li.active').attr('id');
	if (active_subtab == 'subtab_list1') {
		flag = 0
	} else if (active_subtab == "subtab_list3") {
		flag = 3
	} else {
		flag = 1
	}
	var totalItemCount = document.getElementById("totalItemCount").innerHTML;
	var page_count = document.getElementById("page_count").innerHTML;
	var PerPage = $("#PageCountValue").val();

	SortColumn = localStorage.getItem("SortColumn");

	SortColumnOrder = localStorage.getItem("SortColumnOrder");

	if (parseInt(page_count) > 1) {
		var a = 1
		var b = parseInt(a) * parseInt(PerPage)

		document.getElementById("page_count").innerHTML = parseInt(1)

		document.getElementById("NumberofItem").innerHTML = a + ' - ' + b + ' of '

		var PageInform = a + '___' + b + '___' + a

		var A_Keys = [];
		var A_Values = [];
		$('.filter-control').each(function () {
			values = this.firstElementChild.className;
			if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
				x = values.split(' ')[2];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}
			if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
				x = values.split(' ')[1];
				y = x.split("-").slice(-1)[0];
				xyz = $('.' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};

			}

		});

		try {
			cpq.server.executeScript("SYMCTABSGD", {
				'ACTION': 'SECOND',
				'PerPage': PerPage,
				'PageInform': PageInform,
				'A_Keys': A_Keys,
				'A_Values': A_Values,
				"SortColumn": SortColumn,
				"SortColumnOrder": SortColumnOrder,
				'FLAG': flag,
				'CurrentTab': $("ul#carttabs_head li.active a span").text()
			}, function (data) {


				data1 = data[1]
				data2 = data[2]
				data5 = data[5]
				data3 = data[3]
				data10 = data[10]

				$('#' + data2).bootstrapTable('load', data1);
				//localStorage.setItem("multiedit_checkbox_values", []);
				eval(data10);
				//localStorage.setItem("multiedit_save_data", '');
				//localStorage.setItem("multiedit_data_checked", '');
				//localStorage.setItem("table_id_edit", '');
				//$("table#FULLTABLELOAD th:nth-child(3)").css("display", "none");
				$("table#FULLTABLELOAD td:nth-child(3)").css("display", "none");

				$('#FULLTABLELOAD tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				$('#FULLTABLELOAD thead tr th.bs-checkbox .th-inner input[type="checkbox"]').each(function (index) {
					$(this).attr('class', 'custom');
					$(this).after('<span class="lbl"></span>');
				});
				eval(data5);



			});
		} catch (e) {
			console.log(e);
		}

	}
	//var selected_index=JSON.parse(localStorage.getItem("selected_checkboxes_index")); for (i in JSON.parse(localStorage.getItem("selected_checkboxes_index"))){$(":checkbox[data-index='"+i+"']").prop("checked","true");}

}

function LastPageLoad_pagination() {

	//localStorage.setItem("page_change","1");
	var active_subtab = $('.subtab_inner li.active').attr('id');
	if (active_subtab == 'subtab_list1') {
		flag = 0
	} else if (active_subtab == "subtab_list3") {
		flag = 3
	} else {
		flag = 1
	}
	var totalItemCount = document.getElementById("totalItemCount").innerHTML;
	var page_count = document.getElementById("page_count").innerHTML;
	var PerPage = $("#PageCountValue").val();
	//var a = parseInt(totalItemCount) - parseInt(PerPage);
	//localStorage.setItem("multiedit_checkbox_values", []);

	//localStorage.setItem("multiedit_save_data", '');
	//localStorage.setItem("multiedit_data_checked", '');
	//localStorage.setItem("table_id_edit", '');
	var page_count = parseInt(totalItemCount) / parseInt(PerPage);

	if (page_count.toString().indexOf('.') != -1) {
		page_count = parseInt(page_count) + 1;
	}
	if (parseInt(page_count) > 1) {
		var Firstrecord = ((parseInt(page_count) - 1) * parseInt(PerPage)) + 1
	} else {
		Firstrecord = 1
	}
	var Lastrecord = parseInt(PerPage) * parseInt(page_count)
	document.getElementById("NumberofItem").innerHTML = Firstrecord + ' - ' + totalItemCount + ' of '

	document.getElementById("page_count").innerHTML = Math.round(page_count)
	var PageInform = Firstrecord + '___' + Lastrecord + '___' + Math.round(page_count)

	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};

		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};

		}

	});

	SortColumn = localStorage.getItem("SortColumn");

	SortColumnOrder = localStorage.getItem("SortColumnOrder");

	try {
		cpq.server.executeScript("SYMCTABSGD", {
			'ACTION': 'SECOND',
			'PerPage': PerPage,
			'PageInform': PageInform,
			'A_Keys': A_Keys,
			'A_Values': A_Values,
			"SortColumn": SortColumn,
			"SortColumnOrder": SortColumnOrder,
			'FLAG': flag,
			'CurrentTab': $("ul#carttabs_head li.active a span").text()
		}, function (data) {

			data1 = data[1]
			data2 = data[2]
			data3 = data[3]
			data5 = data[5]
			data10 = data[10]

			$('#' + data2).bootstrapTable('load', data1);
			//localStorage.setItem("multiedit_checkbox_values", []);
			eval(data10);
			//localStorage.setItem("multiedit_save_data", '');
			//localStorage.setItem("multiedit_data_checked", '');
			//localStorage.setItem("table_id_edit", '');
			//$("table#FULLTABLELOAD th:nth-child(3)").css("display", "none");
			$("table#FULLTABLELOAD td:nth-child(3)").css("display", "none");


			$('#FULLTABLELOAD tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {
				$(this).attr('class', 'custom');
				$(this).after('<span class="lbl"></span>');
			});
			$('#FULLTABLELOAD thead tr th.bs-checkbox .th-inner input[type="checkbox"]').each(function (index) {
				$(this).attr('class', 'custom');
				$(this).after('<span class="lbl"></span>');
			});

			eval(data5);


		});
	} catch (e) {
		console.log(e);
	}

	//var selected_index=JSON.parse(localStorage.getItem("selected_checkboxes_index")); for (i in JSON.parse(localStorage.getItem("selected_checkboxes_index"))){ $(":checkbox[data-index='"+i+"']").prop("checked","true");}

}



function edit_clear_selection(ele) {
	var lable = localStorage.getItem('cont_lable')
	var value = localStorage.getItem('cont_value')
	var table_id = localStorage.getItem('cont_table_id')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");
	var clear_btn_id = $(ele).attr('id');
	lookup_table = clear_btn_id.split('|')
	lookup_table_id = lookup_table[0]
	var clear_text = $(ele).text();

	try {
		cpq.server.executeScript("SYLDPPRVAE", {
			'RETURN': clear_text,
			'OPERATION': 'EDIT',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVAL': lookup_table_id
		}, function (datas) {
			data = datas[0];
			date_field = datas[1];
			new_value = datas[2];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
			if (date_field.length !== 0) {
				$.each(date_field, function (key, value) {
					onclick_datepicker(value)
				});
			}

			setTimeout(function () {
				$('[data-toggle="popover"]').popover();
			}, 500);

			var sel_val = '';
			$('div#checkboxes input[checked="checked"]').each(function () {
				var class_txt = $(this).attr('class');
				if (sel_val == '') {
					sel_val = class_txt;
				} else {
					sel_val = sel_val + ',' + class_txt;
				}
			});
			$('.inp_val').val(sel_val);
			$.each(new_value, function (key, value) {
				$('#VIEW_DIV_ID #container #' + key).val(value);
			});
		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {
		$('.in .modal-dialog .modal_vh_div table tbody tr td input').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('border', '1px solid #dcdcdc');
			}
		});
		$('.in .modal-dialog .modal_vh_div table tbody tr td select').each(function (index) {
			var inp_bg_color = $(this).css('background-color');
			if (inp_bg_color == 'rgb(255, 255, 224)') {
				$(this).css('border', '1px solid #dcdcdc');
			}
		});
	}, 1000);
}

function clone_clear_selection() {

	var table_id = localStorage.getItem('cont_table_id')
	var ids = localStorage.getItem('clone_ids')
	var lable = localStorage.getItem('cont_lable')
	var value = localStorage.getItem('cont_value')
	if (value) {
		value = value.split(',')
	}
	if (lable) {
		lable = lable.split(',')
	}
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");
	var clear_btn_id = $(ele).attr('id');
	lookup_table = clear_btn_id.split('|')
	lookup_table_id = lookup_table[0]
	var clear_text = $(ele).text();

	try {
		cpq.server.executeScript("SYCLONEALL", {
			'RETURN': clear_text,
			'OPERATION': 'CLONE',
			'LABLE': lable,
			'VALUE': value,
			'TABLEID': table_id,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': lookup_table_id,
			'LOOKUPOBJ': look_obj_val
		}, function (datas) {
			data = datas[0];
			data_field = datas[2];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
				assoc = JSON.parse(localStorage.getItem('assoc_array_value'))

				if (assoc) {
					$.each(assoc, function (key, values) {
						$('#VIEW_DIV_ID #container #' + key).val(values);
					});
				}
				$.each(data_field, function (key, value) {
					$('#VIEW_DIV_ID #container #' + key).val(value);
				});
			}
		});
	} catch (e) {
		console.log(e);
	}
}

$(document).ready(function () {
	localStorage.setItem('NodeTreeSuperParentParam', '');
	localStorage.setItem('TreeParentParam', '');
	localStorage.setItem('TreeParam', '');
	localStorage.setItem('SECTION_EDIT', '');

});

function Req_del_btn() {

	document.getElementById("DEL_REC_CONF").style.display = "block";
	var attr_Set_name = $('.g4.except_sec.removeHorLine.iconhvr > .col-md-3.pad-0 input[id^=QSTN_]').val();

	if (attr_Set_name) {
		document.getElementById('AttSetName').innerHTML = attr_Set_name;
		document.getElementById('AttSetName1').innerHTML = attr_Set_name;
	}
}

function per_del_cancel() {

	document.getElementById("DEL_REC_CONF").style.display = "none";
}

function per_del_click() {

	try {
		cpq.server.executeScript("SYALMODLDL", {}, function (data) {


			if (String(data) == 'TRUE') {

				$('.close').click();
				//document.getElementById("DEL_REC_CONF").style.display = "none";
				document.getElementById("DEL_REC_WARN_MSG").style.display = "block";
			} else {
				$(".BTN_MA_ALL_REFRESH").click();

				if (document.getElementById("DEL_REC_CONF")) {
					document.getElementById("DEL_REC_CONF").style.display = "none";
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function close_Warn() {
	document.getElementById("DEL_REC_WARN_MSG").style.display = "none";

}

cpq.ready(function () {
	$("#SET_ATTRIBUTE_MATERIALS select").parents('td').css("padding", "0");
});

function testfunction() {
	$('#content1234').load('/mt/APPLIEDMATERIALS_PRD/quotation/user_templates/single-product.html');
}

/* EXECUTE THE SCRIPT TO SAVE THE VALUES WHILE CLICK ON 'OK' BUTTON IN THE POP-UP 'BEGINS' */
function relatedOk() {
	/*keyDataVal=localStorage.getItem('keyDataVal');
	KeyValueToTable=localStorage.getItem('KeyValueToTable');
	cpq.server.executeScript("SYALLTABOP", {
	'Primary_Data': keyDataVal,
	'TabNAME': KeyValueToTable,
	'ACTION': 'VIEW',
	'RELATED': ''
	}, function() {
	$(".BTN_MA_ALL_REFRESH").click();


	//$('#related_List_popup').modal('hide');

	});
	localStorage.setItem("related_list_load", "");
	localStorage.setItem('relatedOkLocal',"1");*/

	localStorage.setItem("rel_ok_local", '1');
	$('.btnMainBanner').each(function (index) {

		var btn_txt = $(this).text();

		if (btn_txt == 'CANCEL') {

			$(this).trigger('click');
			$('ul.inlinelist li').removeAttr('class');
		}
	});

	localStorage.setItem("related_list_load", "");
	localStorage.setItem('relatedOkLocal', "1");


	$('.g4.except_sec.removeHorLine.iconhvr button').each(function (index) {

		var btn_txt = $(this).text();

		if (btn_txt == 'CANCEL') {

			$(this).trigger('click');
			$('ul.inlinelist li').removeAttr('class');
			$('.createtab').trigger('click');
		}
	});

}
/* EXECUTE THE SCRIPT TO SAVE THE VALUES WHILE CLICK ON 'OK' BUTTON IN THE POP-UP 'ENDS' */

/* EXECUTE THE SCRIPT TO CANCEL WHILE CLICK ON 'CANCEL' BUTTON IN THE POP-UP 'BEGINS' */
function relatedCancel() {
	/*cpq.server.executeScript("SYTBCANCEL", {}, function(data){
	$('.btnconfig').each(function(index){
	var a = $(this).text();
	if(a == 'CANCEL'){
	localStorage.setItem('edit_related_cancel','1');
	var a = localStorage.getItem('edit_related_cancel');

	$(this).trigger('click');
	}
	});*/
	$('#related_List_popup').modal('hide');
	//$('.createclose').trigger('click');

	localStorage.setItem("related_list_load", "");
	localStorage.setItem('relatedOkLocal', "1");

	// });
}
/* EXECUTE THE SCRIPT TO CANCEL WHILE CLICK ON 'CANCEL' BUTTON IN THE POP-UP 'ENDS' */

function LOOKTABLENameFormatter(value, row) {
	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="lookup_onchange(this)">' + value + '</a>';
}
function PMFrequencyBulkEditHyperLink(value, row) {
	ids = row.ids
	value = value.replace(/<[^>]*>?/gm, '');
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" onclick="PM_FrequencyBulkUpdate(this)">' + value + '</a>';
}
function discount_edit_link(value, row) {
	ids = row.ids
	value = value.replace(/(<([^>]+)>)/ig, '')
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a title="' + value + '" onclick="">' + value + '</a>';
}
function yoy_edit_link(value, row) {
	ids = row.ids
	value = value.replace(/(<([^>]+)>)/ig, '')
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a title="' + value + '" onclick="">' + value + '</a>';
}
function cost_impact_edit_link(value, row) {
	ids = row.ids
	value = value.replace(/(<([^>]+)>)/ig, '')
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a title="' + value + '" onclick="">' + value + '</a>';
}
function price_impact_edit_link(value, row) {
	ids = row.ids
	value = value.replace(/(<([^>]+)>)/ig, '')
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a title="' + value + '" onclick="">' + value + '</a>';
}
function partsListEditLink(value, row) {
	ids = row.ids
	value = value.replace(/(<([^>]+)>)/ig, '')
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a title="' + value + '" onclick="partsQuantityBulkUpdate(this)">' + value + '</a>';
}
function deliveryDateLink(value, row) {
	ids = row.ids
	value = value.replace(/(<([^>]+)>)/ig, '')
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a title="' + value + '" onclick="deliveryDateBulkEdit(this)">' + value + '</a>';
}
function emptyHyperLink(value, row) {
	ids = row.ids;
	return '<a class="detail-icon" href="#"><i></i></a>&nbsp;&nbsp;<a id = "' + ids + '">' + value + '</a>';
}
function ParentRelatedListHyperLink(value, row, index, field) {
	id_val = row.pop_val

	var split_val = []
	if (value) {

		for (var key in id_val) {
			if (id_val[field] !== undefined && id_val[field].indexOf(',') > -1) {

				split_val = id_val[field].split(',')
				return '<a href="/Configurator.aspx?pid=' + split_val[1] + '" id="' + split_val[0] + '" class="cur_sty"  onclick="Move_to_parent_obj(this)">' + value + '</a>'
			} else {

				//JIRA ID 6303 STARTS....
				if ($('ul#carttabs_head li.active a span').text().trim() == 'Price Model' && id_val[field].split('|')[1] == 'PRLPBS' && localStorage.getItem('PrcTreeParam').indexOf('SOR-') > -1) {

					return '<a href="#" id="' + id_val[field] + '" class="cur_sty" onclick="view_pricemodel_details(this,\'VIEW\')">' + value + '</a>';
				} else {
					return '<a href="#" id="' + id_val[field] + '" class="cur_sty" data-target="#cont_viewModalSection" onclick="cont_relatedlist_openview(this)" data-toggle="modal">' + value + '</a>';
				}
				//JIRA ID 6303 ENDS....
			}
		}
	} else {

		return '';
	}
}

function cont_relatedlist_openview(elem) {
	ids = $(elem).attr('id');
	val = ids.split('|');
	value = val[0];
	table_id = val[1]
	localStorage.setItem('cont_value', value)
	localStorage.setItem('cont_table_id', table_id)
	try {
		cpq.server.executeScript("SYRLVIEWAL", {
			'RETURN': '0',
			'IDVALUE': '',
			'OPERATION': 'VIEW',
			'VALUE': value,
			'TABLEID': table_id,
			'LOOKUPOBJ': ''
		}, function (datas) {
			data = datas[0];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
		});
	} catch (e) {
		console.log(e);
	}

}

function cont_lookup_popup_onchange_RL(ele) {
	id_value = $(ele).attr('id');
	var value = localStorage.getItem('cont_value')
	var table_id = localStorage.getItem('cont_table_id')
	look_obj_val = $(ele).closest('table').attr('id')
	try {
		cpq.server.executeScript("SYRLVIEWAL", {
			'RETURN': '1',
			'IDVALUE': id_value,
			'OPERATION': 'EDIT',
			'VALUE': value,
			'TABLEID': table_id,
			'LOOKUPOBJ': look_obj_val
		}, function (datas) {
			data = datas[0];
			new_value = datas[1];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
				assoc = JSON.parse(localStorage.getItem('assoc_array_value'))
				if (assoc) {
					$.each(assoc, function (key, values) {
						$('#VIEW_DIV_ID #container #' + key).val(values);
					});
				}
				$.each(new_value, function (key, values) {
					if (values != '') {
						$('#' + key).val(values);
					}
				});
				value1 = id_value.split('|');
				ids = $.trim(datas[2]);
				$('#' + ids).val(value1[0]);
			}
		});
	} catch (e) {
		console.log(e);
	}

}

function cont_relatedlist_SAVE(elm) {
	var table_id = $(elm).attr("id");
	input_val = []
	pop_id = []
	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});

	try {
		cpq.server.executeScript("SYRLSAVEAL", {
			'LABLE': pop_id,
			'VALUE': input_val,
			'TABLEID': table_id
		}, function (data) {
			$('.BTN_MA_ALL_REFRESH').click();
			$("body").removeClass("modal-open");
			$("body").css("padding-right", "");
		});
	} catch (e) {
		console.log(e);
	}
	$('#cont_viewModalSection').modal('hide');
}

function cont_relatedlist_DELETE_cancel(elem) {
	ids = $(elem).attr('id');
	var value = localStorage.getItem('cont_value')
	var table_id = localStorage.getItem('cont_table_id')
	try {
		cpq.server.executeScript("SYRLVIEWAL", {
			'RETURN': '0',
			'IDVALUE': '',
			'OPERATION': 'VIEW',
			'VALUE': value,
			'TABLEID': table_id,
			'LOOKUPOBJ': ''
		}, function (datas) {
			data = datas[0];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
			assoc = JSON.parse(localStorage.getItem('assoc_array_value_view'))
			if (assoc) {
				$.each(assoc, function (key, values) {
					$('#VIEW_DIV_ID #container #' + key).val(values);
				});
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function cont_related_delete() {
	var RECORD = localStorage.getItem("cont_view_tableid"),
		label = localStorage.getItem("cont_view_lables"),
		value = localStorage.getItem("cont_view_values");
	try {
		cpq.server.executeScript("SYDELETALL", {
			'LABLE': label,
			'VALUE': value,
			'TABLEID': RECORD,
			'OPERATION': 'SECOND'
		}, function (data) { });
	} catch (e) {
		console.log(e);
	}
	$(".BTN_MA_ALL_REFRESH").trigger('click');
	$("body").removeClass("modal-open");
	$("body").css("padding-right", "");
}

function cont_relatedlist_DELETE(ele) {

	var table_id = $(ele).attr("id");
	localStorage.setItem('cont_view_tableid', table_id);
	input_val = [];
	pop_id = [];
	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});
	localStorage.setItem('cont_view_lables', input_val)
	localStorage.setItem('cont_view_values', pop_id)

	var assoc = {};
	for (var i = 0; i < pop_id.length; i++) {
		assoc[pop_id[i]] = input_val[i];
	}
	localStorage.setItem("assoc_array_value_view", JSON.stringify((assoc)));

	try {
		cpq.server.executeScript("SYDELETALL", {
			'LABLE': pop_id,
			'VALUE': input_val,
			'TABLEID': table_id,
			'OPERATION': 'THIRD'
		}, function (data) {
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
		});
	} catch (e) {
		console.log(e);
	}

}

function SAP_PART_NUMBER_nameFormatter(value, row) {
	return '<a href="#" onclick="Material_view_obj(this)">' + value + '</a>';
}

function namePOPUPFormatterRelatedList(value, row) {
	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="cont_lookup_popup_onchange_RL(this)">' + value + '</a>';
}

function Material_view_objTable(elem) {
	localStorage.setItem("Action_Text", "VIEW");
	var $row = $(elem).closest("tr")
	var $tds = $row.find("td");
	var arr_list = []
	$.each($tds, function () {
		arr_list.push($(this).text())
	});
	var Primary_Data = arr_list[1];

	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);

	var material_active_tab = $('div#attributesContainer .row .tabbable.show-large ul.nav.nav-responsive.nav-tabs li.active a span').text();
	var material_active_tab_li_txt = $('div#attributesContainer .row .tabbable.show-large ul.nav.nav-responsive.nav-tabs li ul.dropdown-menu li.active a span').text();

	if (material_active_tab_li_txt) {
		material_active_tab = material_active_tab_li_txt;
	}
	if (material_active_tab) {
		var attr_btn_name;
		$('button').each(function () {
			if ($(this).text() == 'ADD NEW') {
				attr_btn_name = $(this).attr('title');
			}
		});

		setTimeout(DelayRefreshCall(), 2000);

		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'VIEW',
				'RELATED': ''
			}, function () {
				$(".BTN_MA_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
	}

}

function Material_edit_objTable(ele) {
	localStorage.setItem("Action_Text", 'EDIT');
	var $row = $(ele).closest("tr")
	var $tds = $row.find("td");
	var arr_list = []
	$.each($tds, function () {
		arr_list.push($(this).text())
	});
	var Primary_Data = arr_list[1];

	localStorage.setItem('MtrlTreeParam', "");
	localStorage.setItem('MtrlTreeParentParam', "");
	localStorage.setItem('MtrlNodeTreeSuperParentParam', "");
	localStorage.setItem('MtrlTopSuperParentParam', "");
	localStorage.setItem('clicked_preview_cancel', 0);
	localStorage.setItem('firsttime_cancel', 0);

	var material_active_tab = $('div#attributesContainer .row .tabbable.show-large ul.nav.nav-responsive.nav-tabs li.active a span').text();
	var material_active_tab_li_txt = $('div#attributesContainer .row .tabbable.show-large ul.nav.nav-responsive.nav-tabs li ul.dropdown-menu li.active a span').text();

	if (material_active_tab_li_txt) {
		material_active_tab = material_active_tab_li_txt;
	}

	if (material_active_tab) {
		var attr_btn_name;
		$('button').each(function () {
			if ($(this).text() == 'ADD NEW') {
				attr_btn_name = $(this).attr('title');
			}
		});
		setTimeout(DelayRefreshCall(), 2000);
		try {
			cpq.server.executeScript("SYALLTABOP", {
				'Primary_Data': Primary_Data,
				'TabNAME': material_active_tab,
				'ACTION': 'EDIT',
				'RELATED': ''
			}, function () {
				$(".BTN_MA_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
	}
	localStorage.setItem("directEdit", "Edit");
}

function cont_relatedlist_openedit(elem) {
	ids = $(elem).attr('id');
	val = ids.split('|');
	value = val[0];
	table_id = val[1];
	//	localStorage.setItem('cont_value', value);
	//	localStorage.setItem('cont_table_id', table_id)
	//A043S001P01-8402------Start
	value = localStorage.getItem('cont_value');
	table_id = localStorage.getItem('cont_table_id')
	//A043S001P01-8402------End
	try {
		cpq.server.executeScript("SYRLVIEWAL", {
			'RETURN': '0',
			'IDVALUE': '',
			'OPERATION': 'EDIT',
			'VALUE': value,
			'TABLEID': table_id,
			'LOOKUPOBJ': ''
		}, function (datas) {
			data = datas[0];
			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data;
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function cont_lookup_popup_relatedlist(elem) {
	value = $(elem).attr('id');
	input_val = []
	pop_id = []
	$("#VIEW_DIV_ID #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});
	$("#VIEW_DIV_ID #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});
	var assoc = {};
	for (var i = 0; i < pop_id.length; i++) {
		assoc[pop_id[i]] = input_val[i];
	}
	localStorage.setItem("assoc_array_value", JSON.stringify((assoc)));
	table = localStorage.getItem('cont_table_id');
	keyData = localStorage.getItem('keyData');

	try {
		cpq.server.executeScript("SYCTLKPPUP", {
			'TABLEID': value,
			'OPER': input_val[0],
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'GSCONTLOOKUP': '',
			'TABLENAME': table,
			'KEYDATA': keyData,
			'ARRAYVAL': assoc,
			'PRICEMODEL_ID': ''
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			document.getElementById('VIEW_DIV_ID').innerHTML = datas;
			try {
				$('#' + data2).bootstrapTable({
					data: data1,
					formatShowingRows: function (pageFrom, pageTo, totalRows) {
						return 'Number of items:  ' + totalRows;
					},
					formatRecordsPerPage: function (pageNumber) {
						return pageNumber;
					}
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						formatShowingRows: function (pageFrom, pageTo, totalRows) {
							return 'Number of items:  ' + totalRows;
						},
						formatRecordsPerPage: function (pageNumber) {
							return pageNumber;
						}
					});
				}, 5000);
			} finally { }
			try {
				eval(data3);
			} catch (e) {
				console.log(e);
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function primaryListHyperLink(value, row) {
	ids = row.primary
	//Commented the below code because we changed the hyperlink to key column.
	//A055S000P01-1981 code starts..
	//if(row.hasOwnProperty("ASSEMBLY_ID") == true ){ keyvalue = 'assembly'}
	//A055S000P01-1981 code ends..
	var split_val = []
	if (ids !== undefined && ids.indexOf(',') > -1) {
		split_val = ids.split(',')
		return '<a href="/Configurator.aspx?pid=' + split_val[1] + '" id="' + split_val[0] + '" class="cur_sty"  onclick="Move_to_parent_obj(this)">' + value + '</a>'
	}
	//Commented the below code because we changed the hyperlink to key column.
	//A055S000P01-1981 code starts..
	/*else if(keyvalue == 'assembly'){
		return '<a id = "covered" class="cur_sty" onclick="assembly_pmevents(this)">' + value + '</a>';
	}*/
	//A055S000P01-1981 code ends..
	else {
		return '<a id = "' + ids + '" class="cur_sty" onclick="Move_to_parent_obj(this)">' + value + '</a>';
	}
}

function primaryListHyperLinkTreeLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i class="glyphicon glyphicon-plus icon-plus cur_sty"></i></a>&nbsp;&nbsp;<a id = "' + ids + '" onclick="Move_to_parent_obj(this)">' + value + '</a>';
}

function price_breadcrumb() {
	databind = ""
	var recid = localStorage.getItem("TreeParamRecordId");
	try {
		cpq.server.executeScript("SYULODTRND", {
			'RECORD_ID': CurrentRecordId,
			'TableId': TreeParentNodeRecId,
			'TreeParam': TreeParam,
			'TreeParentParam': TreeParentParam,
			'TreeSuperParentParam': TreeSuperParentParam,
			'TreeTopSuperParentParam': TreeTopSuperParentParam,
			'MODE': 'BREADCRUMB',
			'NEWVAL': '',
			'LOOKUPOBJ': '',
			'LOOKUPAPI': '',
			'SECTION_EDIT': '',
			'Flag': 1,
			'REC_ID': recid
		}, function (datachild) {

			data = datachild;
			if (data != databind) {
				$('ul.breadcrumb').append(data);
			}
			databind = data

		});
	} catch (e) {
		console.log(e);
	}
}

//Covered Objects Key Hyperlink - START
function covObjHyperLinkTreeLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i class="glyphicon glyphicon-plus icon-plus cur_sty"></i></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
//Covered Objects Key Hyperlink - END
function NSOBulkEditHyperLink(value, row) {
	ids = row.ids
	value = value.replace(/<[^>]*>?/gm, '');
	eventname = 'NSOBulkUpdate(this)'
	return '<a style="margin-right:5px" href="#"><i></i></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" onclick="' + eventname + '">' + value + '</a>';
}
function coveredobjectchildHyperLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i></i></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
function sendingequipmentchildHyperLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i></i></a>&nbsp;&nbsp;<a class="hyperlink" id = "' + ids + '" title="' + value + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
//Covered Objects Tool Assemblies Key Hyperlink - START
function ToolDetailHyperLink(value, row) {
	CurrentRecordId = localStorage.getItem("CurrentRecordId")
	ObjName = 'SAQSCO'
	ids = row.ids
	return '<a class="detail-icon" href="#"><i class="glyphicon glyphicon-plus icon-plus cur_sty"></i></a>&nbsp;&nbsp;<a id = "' + ids + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
// Common Parent Quote Items Nested Grid
function CommonParentHyperLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i class="glyphicon glyphicon-plus icon-plus cur_sty"></i></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
function SparePartsLineItemHyperLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon pos-relative" href="#"><span class="bluecir"></span></a>&nbsp;&nbsp;<a id = "' + ids + '"">' + value + '</a>';
}
//Covered Objects Tool Assemblies Key Hyperlink - END
function EquipHyperLinkTreeLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i class="glyphicon glyphicon-plus icon-plus cur_sty"></i></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
function PreventiveMaintainenceHyperLinkTreeLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i class="glyphicon glyphicon-plus icon-plus cur_sty"></i></a>&nbsp;&nbsp;<a id = "' + ids + '" title="' + value + '" >' + value + '</a>';
}
function ContractEquipHyperLinkTreeLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"></a>&nbsp;&nbsp;<a id = "' + ids + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
function ContractcovObjHyperLinkTreeLink(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"></a>&nbsp;&nbsp;<a id = "' + ids + '" onclick="Commonteree_view_RL(this)">' + value + '</a>';
}
function primaryListHyperLinkTreeLinkOnly(value, row) {
	ids = row.ids
	return '<a class="detail-icon" href="#"><i></i></a>&nbsp;&nbsp;<a id = "' + ids + '" onclick="Move_to_parent_obj(this)">' + value + '</a>';
}

function ParentListHyperLink(value, row, index, field) {
	if (CurrentTab == "Currency") {
		ids = value + '|Currencies';
	}
	else {
		ids = row.ids;
	}
	if (value) {
		for (var key in ids) {
			//JIRA ID 6303 STARTS...
			if ($('ul#carttabs_head li.active a span').text().trim() == 'Price Model' && ids[field].split('|')[1] == 'Price Models' && (localStorage.getItem('PrcTreeParam').indexOf('SOR-') > -1 || localStorage.getItem('PrcTreeParam') == 'Pricebook Sets')) {

				return '<a href="#" id="' + ids[field] + '" class="cur_sty" onclick="view_pricemodel_details(this,\'VIEW\')">' + value + '</a>';
			}
			else if (($('ul#carttabs_head li.active a span').text().trim() == 'App')) {
				string = value
				id_val = string.split('"')[1]
				if (ids[field] != undefined) {
					id_val = ids[field];
				}
				else if (ObjName == "SYTABS") {
					id_val = id_val + "|Tabs"
				}
				else if (ObjName == 'SYPAGE') {
					id_val = id_val + "|Pages"
				}
				return '<a href="#" id="' + id_val + '" class="cur_sty" onclick="Move_to_parent_obj(this)">' + value + '</a>';
			}
			else {
				return '<abbr id = "' + ids[field] + '" class="cur_sty" onclick="Move_to_parent_obj(this)">' + value + '</abbr>';
			}
			////JIRA ID 6303 ends...
		}
	} else {
		return '';
	}
}

function editIconIfValueChanged(value, row, index, field) {
	ids = row.editvalue;
	if (value) {
		for (var key in ids) {
			if (ids[field] == '1') {
				return value + '<div class="ft_clr_fw" id = "' + field + '"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </div>';
			} else {
				return value;
			}
		}
	} else {
		return '';
	}
}

function CheckboxFieldRelatedList(value, row, index, field) {

	if (value) {
		if (field == 'WARRANTY_END_DATE_ALERT') {
			if (value.toUpperCase() == 'TRUE') {
				return '<input id = "' + field + '" type="checkbox" class="custom" checked disabled><span class="lbl"></span><img class="warrenty_alert_warning" src="/mt/APPLIEDMATERIALS_PRD/Additionalfiles/Equi_Excal_Icon.svg">';

			} else {
				return '<input id = "' + field + '" type="checkbox" class="custom" disabled><span class="lbl"></span>';

			}

		}
		else if (field == 'TEMP_TOOL') {
			var value = value.toUpperCase();
			var checked = " checked "
			if (value != "TRUE") {
				checked = ''
			}
			str = { 'TEMP_TOOL': '<input  type="checkbox" class="custom"  style="text-align: center;" value = "' + value + '" ' + checked + ' disabled><span class="lbl"></span>' }
			return str.TEMP_TOOL;

		}


		else {
			if (value == true || value == '1' || value.toUpperCase() == 'TRUE') {
				return '<input id = "' + field + '" type="checkbox" class="custom" checked disabled><span class="lbl"></span>';

			} else {
				return '<input id = "' + field + '" type="checkbox" class="custom" disabled><span class="lbl"></span>';

			}
		}
	} else {
		return '<input id = "' + field + '" type="checkbox" class="custom" disabled><span class="lbl"></span>';

	}

}

function customFormatShowingRows(pageFrom, pageTo, totalRows) {
	return "Number of items: " + totalRows;
}

function RelatedListHyperLink(value, row) {
	return '<a href="#" data-target="#cont_viewModalSection" onclick="cont_openview(this)" data-toggle="modal">' + value + '</a>'
}

function lookup(ele) {
	S = ele.id;
	A = S.split('QSTN_LKP_');
	B = A[1]
	localStorage.setItem("attr_value", S);
	mode = 'lookup';
	try {
		cpq.server.executeScript("SYLDLKPPUP", {
			'REC_ID': B,
			'LOOKUP': 'FIRST',
			'ELEMENT': '',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function (dataset) {
			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data4 = dataset[4];

			if (document.getElementById("RECRD_POPUP")) {
				document.getElementById("RECRD_POPUP").innerHTML = datas;
			}
			if (data4 != "") {
				localStorage.setItem('lookup_ids', [B, data2]);
				$('#' + data2).attr('data-pagination', 'false');
				$('#popup_footer').html(data4);
				total_rec = $('#TotalRecAppCount').text();
				localStorage.setItem('total_lookup_records', total_rec);
			}
			try {
				$('#' + data2).bootstrapTable({
					data: data1
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						formatShowingRows: function (pageFrom, pageTo, totalRows) {
							return 'Number of items:  ' + totalRows;
						},
						formatRecordsPerPage: function (pageNumber) {
							return pageNumber;
						}
					});
				}, 5000);
			} finally {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						formatShowingRows: function (pageFrom, pageTo, totalRows) {
							return 'Number of items:  ' + totalRows;
						},
						formatRecordsPerPage: function (pageNumber) {
							return pageNumber;
						}
					});
				}, 3000);
			}
			eval(data3);
			if (data4 != "") { $('.fixed-table-pagination').remove(); }
			$("#myModalSection_popup").modal();
		});
	} catch (e) {
		console.log(e);
	}

	setTimeout(function () {

		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd94_pt_ht42"></div>');
		//var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container .bootstrap-table .fixed-table-body table').height();


		if (table_heigth > popUp_height) {
			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('width', '94.3%');
		}
	}, 2000);
}

function lookup_onchange(ele) {
	localStorage.setItem('testloop', '1');
	localStorage.setItem('count_lkp', '0');
	//localStorage.setItem('noparent_stp', false);
	var a = localStorage.getItem('count_lkp')

	var attr_value = localStorage.getItem("attr_value");
	var ids = $(ele).attr('id');
	try {
		cpq.server.executeScript("SYLDLKPPUP", {
			'REC_ID': attr_value,
			'LOOKUP': 'SECOND',
			'ELEMENT': ids,
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function (data) {
			// A043S001P01-12956 - Start
			if (data[0] == true) {
				var value = ids.split('|');
				var update_value = '';
				if (value.length > 2) {
					update_value = value[3]
				}
				$('#warningMSG').text('Selected STP Account [' + update_value + '] is not associated with the Parent STP Account,Please select a Valid STP Account')
				$('#cont_viewModalWarning').modal('show');
			} else {
				//setTimeout(function () {
				$('.BTN_MA_ALL_REFRESH').click()
				//}, 100);
			}
			// A043S001P01-12956 - End
		});
	} catch (e) {
		console.log(e);
	}

	if (document.getElementById("myModalSection_popup")) {
		$('#myModalSection_popup').css('display', 'none');
	}
	$("body").removeClass("modal-open");
	$("body").css("padding-right", "");

}

function popupClearall() {
	qstn_recid = localStorage.getItem("attr_value");

	try {
		cpq.server.executeScript("SYLDLKPPUP", {
			'REC_ID': qstn_recid,
			'LOOKUP': 'CLEAR',
			'ELEMENT': '',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function () {
			// A043S001P01-12956 - Start
			$('.BTN_MA_ALL_REFRESH').click();
			// A043S001P01-12956 - End
		});
	} catch (e) {
		console.log(e);
	}
	// A043S001P01-12956 - Start
	//$('.BTN_MA_ALL_REFRESH').click();
	// A043S001P01-12956 - End
	// TO DISPLAY SECTIONAL EDIT TO NONE AFTER CLEARING THE LOOKUP
	setTimeout(function () {
		$('div#ctr_drop').css('display', 'none');
	}, 3000);
}

function Serach_View_Page(ele) {
	try {
		cpq.server.executeScript("SYMCMOBJFL", {
			'Mode': 'SEARCH'
		}, function (data) { });
	} catch (e) {
		console.log(e);
	}
	$("#Search_Page_popup").css("display", "block");
}

var expanded = false;

function showCheckboxes() {


	$('.in > .modal-dialog').css('cssText', 'overflow: unset !important;width: 900px !important;');
	$('.in > .modal-dialog > .modal_vh_div > .modal-content > div#VIEW_MODAL_SECTION > div#VIEW_DIV_ID > div#container').css('cssText', 'overflow: unset !important;');

	localStorage.setItem("viewmodal", "1");
	var checkboxes = document.getElementById("checkboxes");
	if (!expanded) {
		checkboxes.style.display = "block";
		expanded = true;
	} else {
		checkboxes.style.display = "none";
		expanded = false;
	}
	var default_Checked_data = $('#COUNTRIES').val().split(",");
	$(default_Checked_data).each(function (index) {
		var a = default_Checked_data[index].toUpperCase();
		$('#checkboxes label input').each(function () {
			var z = $(this).attr('class');
			if (a == z) {
				$(this).attr('checked', 'checked');
			}
		});
	});
}

var expanded = false;

function view_modal_click() {

	try {

		var viewmodal_val = localStorage.getItem("viewmodal");
		if (viewmodal_val != '1') {

			if (document.getElementById("checkboxes")) {
				$('#checkboxes').css('display', 'none');
			}
		} else if (viewmodal_val == '1') {

			if (document.getElementById("checkboxes")) {
				$('#checkboxes').css('display', 'block');
			}
		}
		localStorage.setItem("viewmodal", "0");

	} catch (err) { }
}



function obj_Reindex(ele) {

	ids = $(ele).closest('tr').attr('id');

	var table_id = $(ele).closest('table').attr('id');

	var OBJ_TableName = $("input#MM_OBJ_TBL_NAME").val();
	currentRecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();


	try {
		cpq.server.executeScript("SYOBINVIEW", {
			'Primary_Data_grid': currentRecordId,
			'OBJ_TableName': OBJ_TableName,
			'ACTIONVIEW': 'ADDNEW_REINDEXGRID'
		}, function (datas) {


			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}


}


function cont_RL_openaddnew_product(val) {

	localStorage.setItem("Banner_Hiding_Var", "1");
	localStorage.setItem('keyData', ' ');
	resrtrict = '';
	current_tab_name = $('#carttabs_head li.active span').text();
	current_prod = $("span#ModuleName").text()
	if (val == 'Price Classes') {
		localStorage.setItem('PriceClassesChild', '1');
		localStorage.setItem("page_reload", "1");
	} else {
		localStorage.setItem('PriceClassesChild', '0');
	}
	if (val.indexOf(',') > -1) {

		var first_record_id = $('#attributesContainer input').first().val();
		var current_tab_name = $('#carttabs_head li.active span').text();
		localStorage.setItem("current_tab_name_RL", current_tab_name);
		localStorage.setItem("first_record_id_RL", first_record_id);
		split_val = val.split(',')
		window.location.href = "../Configurator.aspx?pid=" + split_val[1]
		localStorage.setItem("page_reload", "1");
		localStorage.setItem("related_page_redirect", split_val[0]);

	} else {

		var pag_val = localStorage.getItem("page_reload");

		if (pag_val == '1') {


			localStorage.setItem("page_reload", "1");
			var current_tab_name = localStorage.getItem("current_tab_name_RL");
			var first_record_id = localStorage.getItem("first_record_id_RL");
		} else {

			var first_record_id = $('#attributesContainer input').first().val();
			var current_tab_name = $('#carttabs_head li.active span').text();
		}

		btn_banner_content('ADD NEW')

		try {
			cpq.server.executeScript("SYTRADDNEW", {
				'TABNAME': val,
				'RECID': first_record_id,
				'CURRENTTAB': current_tab_name
			}, function (data) {

				$('.BTN_MA_ALL_REFRESH').click();
				localStorage.setItem("related_page_redirect", "");
				localStorage.setItem("page_reload", "0");
				localStorage.setItem("page_reload_2", "2");
			});
		} catch (e) {
			console.log(e);
		}
	}

}

$('.searched_inputss').on('open', function (event) { });

function createclose() {

	$('.btnconfig').each(function (index) {
		var btn_act = $(this).text().trim();
		if (btn_act == 'EDIT' || btn_act == 'CLONE' || btn_act == 'DELETE') {
			$(this).removeAttr('disabled');
		}
		if (document.getElementById("BTN_SYACTI_MA_00031_DELETE")) {
			document.getElementById("BTN_SYACTI_MA_00031_DELETE").style = "display:block";
		}
		if (document.getElementById("BTN_SYACTI_MA_00029_EDIT")) {
			document.getElementById("BTN_SYACTI_MA_00029_EDIT").style = "display:block";
		}

	});
	localStorage.setItem("localDetail", "Detail");
	$('.Attributes_sub').css('display', 'none');
	$('.Attributesset_sub').css('display', 'none');
	$('.Related').css('display', 'none');
	$('.Detail').css('display', 'block');
	$('.price_summary1').css('display', 'none');
	$('.Personalization').css('display', 'none');
	$('.Attributes1').css('display', 'none');
	$('.Preview').css('display', 'none');
	$('#jqxSplitter').css('display', 'block');
	current_tab = $('ul#carttabs_head li.active a span').text();


	var len_dyn = $('.dyn_main_head span.more-less').length;
	$('.dyn_main_head span.more-less').each(function (index) {
		if (len_dyn == index + 1) {
			$(this).css('display', 'none');
			$(this).closest('label').addClass('removeRelated');
			$(this).closest('label').closest('div').closest('.Detail').addClass('removeRelated');
		} else {
			$(this).css('display', 'block');
		}
	});
	$('.Related').each(function () {
		var a = $(this).text();
		if (a == 'RELATED LISTS') {
			$(this).closest('label').siblings().addClass('removeRelated');
			$(this).closest('label').closest('div').closest('.Detail').addClass('removeRelated');
		}
	});

	localStorage.setItem('Related_Loading', 0);
	$('html').css('overflow-y', 'hidden');

	if ($('#ModuleName1').text() == "System Admin") {
		$("#MM_ALL_REFRESH").click();
	}
	if (current_tab == 'Plant') {
		$('#dyn8649').css('display', 'none');
	}

}

function createtab() {
	localStorage.setItem("TREETAB", "NO");

	var attrs_ERP_localStg = localStorage.getItem('ERP_Attributes_localStg');

	var activetabcurrent = $('ul#carttabs_head li.active a span').text().trim();

	if (attrs_ERP_localStg == 'checked') {
		$('.container_banner_inner_sec').each(function (index) {
			if ($(this).html()) {
				var container_banner_txt = $(this).html().split('<div');

				if (container_banner_txt[0] == 'ATTRIBUTE VALUES') {

					$(this).children('.dropdown').css('display', 'none');
				}
			}
		});

	}

	$('.btnMainBanner').each(function (index) {
		var btn_act = $(this).text().trim();
		if (btn_act == 'EDIT' || btn_act == 'DELETE' || btn_act == 'CLONE') {
			$(this).attr('disabled', 'disabled');
		}
		if (document.getElementById("BTN_SYACTI_MA_00031_DELETE")) {
			document.getElementById("BTN_SYACTI_MA_00031_DELETE").style = "display:none";
		}
		if (document.getElementById("BTN_SYACTI_MA_00029_EDIT")) {
			document.getElementById("BTN_SYACTI_MA_00029_EDIT").style = "display:none";
		}
	});
	var related_in_edit_mode = localStorage.getItem("RelatedEdit");
	var related_page_load = localStorage.getItem('related_list_load');

	if (related_in_edit_mode != '1' && related_page_load != 'first') {
		try {
			localStorage.setItem('related_list_load', 'first');
			MaterialTest1234();
		} catch (err) { }
	}
	if (related_in_edit_mode == '1') {

		try {
			cpq.server.executeScript("SYEDITREPO", {}, function (data) {

				data = 'True'

				if (data == 'True') {
					$('.rel_in_edit').attr('id', 'related_List_popup');
					var related_tab_edit_click_trigger = localStorage.getItem('related_tab_edit_click');
					if (related_tab_edit_click_trigger == '1') {
						$('.createtab').trigger('click');
						localStorage.setItem('related_tab_edit_click', '0');
					}

				} else {
					$('.rel_in_edit').removeAttr('id');
					relatedOk();
				}
			});
		} catch (e) {
			console.log(e);
		}
	} else {

		$('.rel_in_edit').removeAttr('id');
		localStorage.setItem("RelatedEdit", "0");
	}
	localStorage.setItem("localDetail", "Related");
	$('.Attributes_sub').css('display', 'none');
	$('.Attributesset_sub').css('display', 'none');
	$('.Detail').removeClass('removeRelated');
	$('.dyn_collapse_arrow').removeClass('removeRelated');
	$('.Related').css('display', 'block');
	$('.Detail').css('display', 'none');
	$('.price_summary1').css('display', 'none');
	$('.Personalization').css('display', 'none');
	$('.Attributes1').css('display', 'none');
	$('.Preview').css('display', 'none');
	$('.dyn_main_head span.more-less').css('display', 'none');
	/*$('.contain_mater.qstn_r_contaier p.onlytext .container_banner_inner_sec .dropdown ul.dropdown-menu li button').each(function(index){
	var btn_txt = $(this).text().trim();
	if(btn_txt != 'ADD NEW'){
	$(this).parent().remove();
	}
	});*/
	$('.container_banner_inner_sec div.dropdown i').each(function (index) {
		$(this).attr('data-toggle', 'dropdown');
		$(this).attr('class', 'fa fa-sort-desc');
		$(this).parent().addClass('column-with-actions');
		// $(this).parent().children('ul').children('li').after('<li class="del_list_new" style="display:none;"><button class="btnstyle del_pop_cls" disabled onclick="relateListBulkDelete(this)" data-target="#related_delete_POPUP" data-toggle="modal" >DELETE</button></li>');

	});
	//setTimeout(function(){deleteFunction()},3000);
	//A043S001P01-9980 Start-Dhurga
	if (activetabcurrent == 'App') {
		var rec_id_mod = localStorage.getItem("mod_cof_id");
		[CurrentRecordId, RecName] = ['SYOBJR-94441', 'div_CTR_Related_Tab'];
		loadRelatedList(CurrentRecordId, RecName);
		$("div[id='" + RecName + "']").closest('.Related').css('display', 'block');
		$("div[id='" + RecName + "']").closest('.Related').addClass("tree_first_child");
		$('#content_banner').css('display', 'none');
		$('.container_banner_inner_sec').css('display', 'none');
	}
	if (activetabcurrent == 'Tab') {
		var rec_id_mod = localStorage.getItem("mod_cof_id");

		[CurrentRecordId, RecName] = ['SYOBJR-94442', 'div_CTR_Related_Action'];
		loadRelatedList(CurrentRecordId, RecName);
		$("div[id='" + RecName + "']").closest('.Related').css('display', 'block');
		$("div[id='" + RecName + "']").closest('.Related').addClass("tree_first_child");
		$('#content_banner').css('display', 'none');
		$('.container_banner_inner_sec').css('display', 'none');

		[CurrentRecordId, RecName] = ['SYOBJR-94443', 'div_CTR_Related_Section'];
		loadRelatedList(CurrentRecordId, RecName);
		$("div[id='" + RecName + "']").closest('.Related').css('display', 'block');
		$("div[id='" + RecName + "']").closest('.Related').addClass("tree_first_child");
		$('#content_banner').css('display', 'none');
		$('.container_banner_inner_sec').css('display', 'none');
	}
	//A043S001P01-9980 End-Dhurga
	if (activetabcurrent == 'Language') {
		var rec_id_mod = localStorage.getItem("mod_cof_id");

		[CurrentRecordId, RecName] = ['SYOBJR-60050', 'div_CTR_MATERIAL_TRANSLATIONS_IN_LANGUAGES'];
		loadRelatedList(CurrentRecordId, RecName);
		$("div[id='" + RecName + "']").closest('.Related').css('display', 'block');
		$("div[id='" + RecName + "']").closest('.Related').addClass("tree_first_child");
		$('.container_banner_inner_sec').css('display', 'block');

		[CurrentRecordId, RecName] = ['SYOBJR-70106', 'div_CTR_ACCOUNTS_SUPPORTING_LANGUAGE'];
		loadRelatedList(CurrentRecordId, RecName);
		$("div[id='" + RecName + "']").closest('.Related').css('display', 'block');
		$("div[id='" + RecName + "']").closest('.Related').addClass("tree_first_child");
		$('.container_banner_inner_sec').css('display', 'block');
	}

	//$('span#container_banner_id').text('');
	setTimeout(function () {

		try {
			cpq.server.executeScript("SYLPTTATBLE", {
				'TabName': activetabcurrent,
				'State': 'True',
				'rec_id_mod': rec_id_mod
			}, function (data) {


			});
		} catch (e) {
			console.log(e);
		}

	}, 500);

	localStorage.setItem('Related_Loading', 1);

	setTimeout(function () {
		$('td').filter(function () {
			return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
		}).css('text-align', 'right');

		$('td span').filter(function () {
			return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
		}).closest('td').css('text-align', 'right');

		$('td input:checkbox').closest('td').css('text-align', 'center');
		$('input').each(function () {
			var inp = $(this).val();
			if (/^[-+]?[0-9]+\.[0-9]+$/.test(inp)) {
				$(this).attr('type', 'number');
			}
		});
		var KeyValue_ToTable = localStorage.getItem('activetab');
		var tab_nm = $('ul#carttabs_head .active').text().trim();
		if (KeyValue_ToTable == "detailsTab" && tab_nm != 'Price Class') {


			//$('.createclose').trigger('click');
			localStorage.setItem('activetab', "");
		}

	}, 3000);

	/* Attribute value columns alignment issue 'begin' */
	setTimeout(function () {
		var attr_value_col_value = $('table#SYOBJR_30107_SYOBJ_00003 tbody tr:first-child td:nth-child(4)').text();


		if (attr_value_col_value) {
			if (attr_value_col_value.indexOf('.') != -1) {
				var sp = attr_value_col_value.split('.');
				attr_value_col_value = sp[0];


			}

			var isnum = /^\d+$/.test(attr_value_col_value);

			if (isnum) {

				$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(4)').css('text-align', 'right');
				$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(5)').css('text-align', 'right');
				$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(4)').css('text-align', 'right');
				$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(5)').css('text-align', 'right');
			} else {

				$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(4)').css('text-align', 'left');
				$('table#SYOBJR_30107_SYOBJ_00003 thead tr th:nth-child(5)').css('text-align', 'left');
				$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(4)').css('text-align', 'left');
				$('table#SYOBJR_30107_SYOBJ_00003 tbody tr td:nth-child(5)').css('text-align', 'left');
			}
		}
	}, 4000);
	/* Attribute value columns alignment issue 'end' */

	$('html').css('overflow-y', 'hidden');

	setTimeout(function () {

		$('.Related.tree_first_child.active').css('padding-left', '0');

	}, 100);

}

function createtab1() {
	$('.btnconfig').each(function (index) {
		var btn_act = $(this).text().trim();
		if (btn_act == 'EDIT') {
			$(this).removeAttr('disabled');
		}
	});
	$('.Attributes_sub').css('display', 'none');
	$('.Attributesset_sub').css('display', 'none');
	$('.Related').css('display', 'none');
	$('.Detail').css('display', 'none');
	$('.price_summary1').css('display', 'block');
	$('.Personalization').css('display', 'none');
	$('.Attributes1').css('display', 'none');
	$('.Preview').css('display', 'none');
	var len_dyn = $('.dyn_main_head span.more-less').length;
	$('.dyn_main_head span.more-less').each(function (index) {
		if (len_dyn == index + 1) {
			$(this).css('display', 'none');
			$(this).closest('label').addClass('removeRelated');
			$(this).closest('label').closest('div').closest('.price_summary1').addClass('removeRelated');
		} else {
			$(this).css('display', 'block');
		}
	});
	localStorage.setItem('Related_Loading', 0);

	try {
		cpq.server.executeScript("SYLDCTNPTL", {
			'ContainerType': 'DYNAMIC ROWS',
			'Row_Count': '',
			'New_CtrName': 'PRICE SUMMARY',
			'Column_Count': '4',
			'SQL_Expression': 'SYSEFL-MA-00467',
			'Column_Names_List': "[{'FIELD_NAME': 'SALES ORG ID', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SALESORG_ID'}, {'FIELD_NAME': 'FACE VALUE', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'FACE_VALUE'},{'FIELD_NAME': 'MARKET PRICE', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'MARKET_PRICE'}]"
		}, function (dataset) {
			if (document.getElementById('div_PRICESUMMARY')) {
				if (dataset != 'NORECORDS') {
					document.getElementById('div_PRICESUMMARY').innerHTML = dataset;
				} else {
					document.getElementById('div_PRICESUMMARY').innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#div_PRICESUMMARY').addClass('brd1_pad0');
				}

			}
		});
	} catch (e) {
		console.log(e);
	}

}

function createtab2() {
	localStorage.setItem('material_person', '1');
	$('.btnconfig').each(function (index) {
		var btn_act = $(this).text().trim();
		if (btn_act == 'EDIT') {
			$(this).removeAttr('disabled');
			//cpq.server.executeScript("MALDEMBTBL", { }, function(dataset) { });
		}

	});

	var related_in_edit_mode = localStorage.getItem("RelatedEdit");
	var related_page_load = localStorage.getItem('related_list_load');

	if (related_in_edit_mode != '1') {
		try {
			//localStorage.setItem('related_list_load','first');
			Materialpers123();
		} catch (err) { }
	}

	if (related_in_edit_mode == '1') {
		try {
			cpq.server.executeScript("SYEDITREPO", {}, function (data) {

				if (data == 'True') {
					$('.rel_in_edit').attr('id', 'related_List_popup');
					var related_tab_edit_click_trigger = localStorage.getItem('related_tab_edit_click');
					if (related_tab_edit_click_trigger == '1') {
						$('.createtab2').trigger('click');
						localStorage.setItem('related_tab_edit_click', '0');
					}

				} else {
					$('.rel_in_edit').removeAttr('id');
					relatedOk();
				}
			});
		} catch (e) {
			console.log(e);
		}
	} else {
		$('.rel_in_edit').removeAttr('id');
		localStorage.setItem("RelatedEdit", "0");
	}
	localStorage.setItem("localDetail", "Related");
	$('.Attributes_sub').css('display', 'none');
	$('.Attributesset_sub').css('display', 'none');
	$('.Related').css('display', 'none');
	$('.Detail').css('display', 'none');
	$('.price_summary1').css('display', 'none');
	$('.Personalization').css('display', 'block');
	$('.Attributes1').css('display', 'none');
	$('.Preview').css('display', 'none');
	var len_dyn = $('.dyn_main_head span.more-less').length;
	$('.dyn_main_head span.more-less').each(function (index) {
		if (len_dyn == index + 1) {
			$(this).css('display', 'none');
			$(this).closest('label').addClass('removeRelated');
			$(this).closest('label').closest('div').closest('.Personalization').addClass('removeRelated');
		} else {
			$(this).css('display', 'block');
		}
	});
	localStorage.setItem('Related_Loading', 0);
	try {
		cpq.server.executeScript("MALDEMBTBL", {}, function (dataset) {
			data = dataset;
			if (document.getElementById('div_EMBLEM_TABLE')) {

				document.getElementById('div_EMBLEM_TABLE').innerHTML = data;

			}
		});
	} catch (e) {
		console.log(e);
	}
	$('.container_banner_inner_sec div.dropdown i').each(function (index) {
		$(this).attr('data-toggle', 'dropdown');
		$(this).attr('class', 'fa fa-sort-desc');
		$(this).parent().addClass('column-with-actions');
		// $(this).parent().children('ul').children('li').after('<li class="del_list_new" style="display:none;"><button class="btnstyle del_pop_cls" disabled onclick="relateListBulkDelete(this)" data-target="#related_delete_POPUP" data-toggle="modal" >DELETE</button></li>');

	});
	//setTimeout(function(){deleteFunction()},3000);

	localStorage.setItem('Related_Loading', 1);

	setTimeout(function () {
		$('td').filter(function () {
			return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
		}).css('text-align', 'right');

		$('td span').filter(function () {
			return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
		}).closest('td').css('text-align', 'right');

		$('td input:checkbox').closest('td').css('text-align', 'center');
		$('input').each(function () {
			var inp = $(this).val();
			if (/^[-+]?[0-9]+\.[0-9]+$/.test(inp)) {
				$(this).attr('type', 'number');
			}
		});
	}, 3000);
}

function createtab3() {
	$('.btnconfig').each(function (index) {
		var btn_act = $(this).text().trim();
		if (btn_act == 'EDIT') {
			$(this).removeAttr('disabled');
			//cpq.server.executeScript("MALDEMBTBL", { }, function(dataset) { });
		}

	});
	var related_in_edit_mode = localStorage.getItem("RelatedEdit");
	var related_page_load = localStorage.getItem('related_list_load');

	if (related_in_edit_mode != '1') {
		try {
			//localStorage.setItem('related_list_load','first');
			Materialattr123();
		} catch (err) { }
	}

	$('.Attributes_sub').css('display', 'none');
	$('.Attributesset_sub').css('display', 'none');
	$('.Related').css('display', 'none');
	$('.Detail').css('display', 'none');
	$('.price_summary1').css('display', 'none');
	$('.Personalization').css('display', 'none');
	$('.Attributes1').css('display', 'block');
	$('.Preview').css('display', 'none');
	var len_dyn = $('.dyn_main_head span.more-less').length;
	$('.dyn_main_head span.more-less').each(function (index) {
		if (len_dyn == index + 1) {
			$(this).css('display', 'none');
			$(this).closest('label').addClass('removeRelated');
			$(this).closest('label').closest('div').closest('.Attributes').addClass('removeRelated');
		} else {
			$(this).css('display', 'block');
		}
	});

	//  $('.BTN_MA_ALL_REFRESH').click();

}

function createtab7() {
	$('.btnconfig').each(function (index) {
		var btn_act = $(this).text().trim();
		if (btn_act == 'EDIT') {
			$(this).removeAttr('disabled');
		}
		if (document.getElementById("BTN_SYACTI_MA_00031_DELETE")) {
			document.getElementById("BTN_SYACTI_MA_00031_DELETE").style.display = 'block';
			document.getElementById("BTN_SYACTI_MA_00031_DELETE").disabled = false;
		}
		if (document.getElementById("BTN_SYACTI_MA_00029_EDIT")) {
			document.getElementById("BTN_SYACTI_MA_00029_EDIT").style.display = 'block';
		}
	});
	var related_in_edit_mode = localStorage.getItem("RelatedEdit");
	var related_page_load = localStorage.getItem('related_list_load');

	if (related_in_edit_mode != '1') {
		try {
			//localStorage.setItem('related_list_load','first');
			Setsattr();
		} catch (err) { }
	}
	if (related_in_edit_mode == '1') {
		try {
			cpq.server.executeScript("SYEDITREPO", {}, function (data) {

				if (data == 'True') {
					$('.rel_in_edit').attr('id', 'related_List_popup');
					var related_tab_edit_click_trigger = localStorage.getItem('related_tab_edit_click');
					if (related_tab_edit_click_trigger == '1') {
						$('.createtab7').trigger('click');
						localStorage.setItem('related_tab_edit_click', '0');
					}

				} else {
					$('.rel_in_edit').removeAttr('id');
					relatedOk();
				}
			});
		} catch (e) {
			console.log(e);
		}
	}

	$('.Attributesset_sub').css('display', 'block');
	$('.Attributes_sub').css('display', 'none');
	$('.Related').css('display', 'none');
	$('.Detail').css('display', 'none');
	$('.price_summary1').css('display', 'none');
	$('.Attributesets').css('display', 'block');
	$('.Personalization').css('display', 'none');
	$('.Attributes1').css('display', 'none');
	$('.Preview').css('display', 'none');
	var len_dyn = $('.dyn_main_head span.more-less').length;
	$('.dyn_main_head span.more-less').each(function (index) {
		if (len_dyn == index + 1) {
			$(this).css('display', 'none');
			$(this).closest('label').addClass('removeRelated');
			$(this).closest('label').closest('div').closest('.Attributesets').addClass('removeRelated');
		} else {
			$(this).css('display', 'block');
		}

	});

	localStorage.setItem('Related_Loading', 0);
	localStorage.setItem('Attribute_sub_tab', '1');
}

function createtab45() {
	$('.btnconfig').each(function (index) {
		var btn_act = $(this).text().trim();
		if (btn_act == 'EDIT' || btn_act == 'DELETE') {
			$(this).removeAttr('disabled');
		}
	});
	var related_in_edit_mode = localStorage.getItem("RelatedEdit");
	var related_page_load = localStorage.getItem('related_list_load');

	if (related_in_edit_mode != '1') {
		try {
			//localStorage.setItem('related_list_load','first');
			Plantsattr();
		} catch (err) { }
	}
	if (related_in_edit_mode == '1') {
		try {
			cpq.server.executeScript("SYEDITREPO", {}, function (data) {

				if (data == 'True') {
					$('.rel_in_edit').attr('id', 'related_List_popup');
					var related_tab_edit_click_trigger = localStorage.getItem('related_tab_edit_click');
					if (related_tab_edit_click_trigger == '1') {
						$('.createtab45').trigger('click');
						localStorage.setItem('related_tab_edit_click', '0');
					}

				} else {
					$('.rel_in_edit').removeAttr('id');
					relatedOk();
				}
			});
		} catch (e) {
			console.log(e);
		}
	}
	$('.Attributes_sub').css('display', 'block');
	$('.Attributesset_sub').css('display', 'none');
	$('.Related').css('display', 'none');
	$('.Detail').css('display', 'none');
	$('.price_summary1').css('display', 'none');
	$('.Attribute_perpln').css('display', 'block');
	$('.Personalization').css('display', 'none');
	$('.Attributes1').css('display', 'none');
	$('.Preview').css('display', 'none');
	$('#test_PERSONALIZATION_PLANT_AND_MATERIAL_ATTRIBUTES').css('display', 'none');
	var len_dyn = $('.dyn_main_head span.more-less').length;
	$('.dyn_main_head span.more-less').each(function (index) {
		if (len_dyn == index + 1) {
			$(this).css('display', 'none');
			$(this).closest('label').addClass('removeRelated');
			$(this).closest('label').closest('div').closest('.Attribute_perpln').addClass('removeRelated');
		} else {
			$(this).css('display', 'block');
		}
	});
	localStorage.setItem('Related_Loading', 0);
	localStorage.setItem('Attribute_sub_tab', '1');

	$('table').attr('onchange', 'plant_personalization_attr(this)');

	var d8_local = localStorage.getItem('dataEight');

	if (d8_local == '0') {

		$('table#test_PLANT_AND_MATERIAL_ATTRIBUTES tbody').html('<tr class="noRecDisp"><td colspan="7" class="txt_al_lt_imp">No Records to Display</td></tr>');
	}
	current_tab = $('ul#carttabs_head li.active a span').text();
	if (current_tab == "Plant") {
		$('#dyn8649').css('display', 'block');
		//$('#dyn8649').parent().css('display','block');
	}
	if (current_tab == "Personalization") {
		$('#dyn7654').css('display', 'none');
	}

}

function editclick_row(getName) {
	$('.btnconfig').each(function () {
		var name_txt = $(this).attr('name');
		if (name_txt == 'EDIT') {
			$(this).trigger('click');
		}
	});

}

function multiedit_RL_cancel() {
	$('#cont_multiEditModalSection').css('display', 'none')
	$("#cont_multiEditModalSection .modal-backdrop").remove();
	$('#cont_multiEditModalSection .modal-backdrop').css('min-height', '0px');
	//for Events & parts list button visiblity in shp -- start
	localStorage.removeItem('PM_FrequencyBulkedit');
	localStorage.removeItem('PartsListBulkedit');
	localStorage.removeItem('EDIT_OBJ');
	$('#ADDNEW__SYOBJR_00011_SYOBJ_00974').css('display', 'block');
	$("#seginnerbnr").find("button").map(function () { if ($(this)[0].innerText != "DELETE" && $(this)[0].innerText != "SAVE" && $(this)[0].innerText != "CANCEL") { $(this).css('display', 'block'); } });
	//--end
	$('#seginnerbnr').find('button.hidebtn').css('display', 'none');
	var sparePartsBulkAddBtn = $('.secondary_highlight_panel').find('button#spare-parts-bulk-add-modal-btn')
	$('#spare-parts-bulk-add-modal-btn').css('display', 'block');
	$('#spare-parts-bulk-edit-btn').css('display', 'block');
}

function removeDuplicates(arr) {
	let unique_array = [];
	for (let i = 0; i < arr.length; i++) {
		if (unique_array.indexOf(arr[i]) == -1 && arr[i]) {
			unique_array.push(arr[i].trim())
		}
	}
	return unique_array
}
var total_vals_arr = [];

function labelDropdownRL(checkParam) {
	var check = $(checkParam).attr('checked');
	var checkParamClass = $(checkParam).attr('class');

	if (check == 'checked') {
		total_vals_arr = jQuery.grep(total_vals_arr, function (value) {
			$(checkParam).removeAttr('checked');
			return value != checkParamClass;
		});

		$('#massEditFieldDiv #checkboxes label input').each(function () {

			var label_check = $(this).attr('class');
			var ch_drop_val = $(this).attr('checked');
			if (ch_drop_val == 'checked') {
				total_vals_arr.push(label_check);
			}
		});
	} else {
		$(checkParam).attr('checked', 'checked');
		total_vals_arr = [];
		$('#massEditFieldDiv #checkboxes label input').each(function () {
			var label_check = $(this).attr('class');
			var ch_drop_val = $(this).attr('checked');
			if (ch_drop_val == 'checked') {
				total_vals_arr.push(label_check);
			}
		});
	}
	var new_total_vals_arr = total_vals_arr.filter(function (elem, index, self) {
		return index === self.indexOf(elem);
	});
	var show_selected = '';
	$(new_total_vals_arr).each(function (index) {
		if (show_selected == '') {
			show_selected = new_total_vals_arr[index];
		} else {
			show_selected = show_selected + ',' + new_total_vals_arr[index];
		}
	});
	$('#massEditFieldDiv .inp_val').val(show_selected);
}

function hideDataTreeView() {
	$('#related-treeview').css("display", "none");
	$('#treeview-searchable').css("width", "100%");
}

function catTreeTable() {

	requirejs.config({
		paths: {
			"jquery": 'https://cdn.syncfusion.com/js/assets/external/jquery-3.0.0.min',
			"jsrender": 'https://cdn.syncfusion.com/js/assets/external/jsrender.min',
			"ejscripts": 'https://cdn.syncfusion.com/16.4.0.52/js'
		}
	});

	try {
		cpq.server.executeScript("SYCATTREVW", {
			'TABNAME': 'Categories',
			'ACTION': 'LOAD',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function (datas) {

			var data = datas[0];
			var data_one = datas[1];
			var data_tow = datas[2];
			data3 = datas[3];
			var employees = data;
			require(["ejscripts/web/ej.treegrid"], function () {
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
					treeColumnIndex: 3,
					idMapping: "CATEGORY_RECORD_ID",
					parentIdMapping: "PARCAT_RECORD_ID",
					enableLoadOnDemand: true,
					enableVirtualization: true,
					allowSorting: true,
					allowSelection: true,
					allowFiltering: true,
					selectionSettings: {
						selectionType: ej.TreeGrid.SelectionType.Checkbox,
						selectionMode: ej.TreeGrid.SelectionMode.Row
					},
					columns: [{
						field: "ACTION",
						headerText: "ACTIONS",
						width: '27px',
						textAlign: "center",
						allowFiltering: false,
						allowSorting: false
					}, {
						headerText: "SELECT",
						width: '27px',
						textAlign: "center",
						allowFiltering: false,
						allowSorting: false,
						editType: "stringedit",
						showCheckbox: true
					}, {
						field: "CATEGORY_RECORD_ID",
						headerText: "CATEGORY RECORD ID"
					}, {
						field: "CATEGORY_NAME",
						headerText: "CATEGORY NAME"
					}, {
						field: "CATEGORY_ID",
						headerText: "CATEGORY ID"
					}, {
						field: "RANK",
						headerText: "RANK"
					}],

					filterSettings: {
						filterType: ej.TreeGrid.FilterType.FilterBar,
						filterBarMode: "onEnter"
					},
					queryCellInfo: function (args) {
						if (args.column.field == "ACTION") {
							$(args.cellElement).addClass("column-with-actions");
						}
						if (args.column.field == "ACTIVE") {
							$(args.cellElement).find('input').addClass("custom");
							$(args.cellElement).append("<span class='lbl'><span>");
						}
					},
					rowDataBound: function (args) {
						$('#catTreeTablee-table tbody tr').each(function (index) {
							var a = 'rowindex' + index;
							$(this).attr('id', a);
						});
					},

					recordDoubleClick: function (args) {

						var treegridObj = $("#catTreeTable").data("ejTreeGrid");
						checkedItems = treegridObj.model.selectedItems;
						var reco_id = []
						$.each(checkedItems, function (key, values) {
							reco_id.push(values.CATEGORY_RECORD_ID);
						});

						var rec_id1 = [];
						rec_id1.push(args.data.CATEGORY_RECORD_ID);

						if (reco_id.length > 1) {
							rec_id = reco_id
						} else {
							rec_id = rec_id1
						}
						title = args.columnName.replace(" ", "_");
						value = args.cellValue;
						if (typeof value === "undefined") {
							value = '1';
						}
						table_id = 'multi_edit_' + data_one;

						localStorage.setItem("multiedit_save_date", rec_id);
						localStorage.setItem("multiedit_data_clicked", rec_id1);
						localStorage.setItem("table_id_RL_edit", table_id);
						try {
							cpq.server.executeScript("SYBLKETTLG", {
								"TITLE": title,
								"VALUE": value,
								"CLICKEDID": table_id,
								"RECORDID": rec_id,
								"ELEMENT": "RELATEDEDIT"
							}, function (data) {
								var data1 = data[0];
								var data2 = data[1];


								if (data1 != "NO") {
									if (document.getElementById("RL_EDIT_DIV_ID")) {
										document.getElementById("RL_EDIT_DIV_ID").innerHTML = data1;
										document.getElementById("cont_multiEditModalSection").style.display = "block";
										//$("#cont_multiEditModalSection").prepend("<div class='modal-backdrop fade in'></div>");
										var divHeight = $("#cont_multiEditModalSection").height();
										$("#cont_multiEditModalSection .modal-backdrop").css("min-height", divHeight + "px");
										$("#cont_multiEditModalSection .modal-dialog").css("width", "550px");
										$(".modal-dialog").css("margin-top", "100px");
										return false;
									}
									if (data2.length !== 0) {
										$.each(data1, function (key, values) {
											onclick_datepicker(values)
										});
									}
								}
							});
						} catch (e) {
							console.log(e);
						}
					},
					actionComplete: function (args) { //after completing the sorting action
						setTimeout(function () {
							treeViewMulti()
						}, 1000);
						$(".e-ddltxt a").removeAttr("href");
						$(".e-ddltxt a").prop("onclick", null).off("click");
					},
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
					treegridObj.hideColumn("CATEGORY RECORD ID");
					treegridObj.scrollOffset(0, 0);
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
				$('#catTreeTable_filterBarACTION').append('<button class="searched_button search_sty" id="ejsearch_btn_cat">SEARCH</button>')
				eval(data_tow);
			});
			if (document.getElementsByClassName("listContStyle").length == 0) {
				$('#catTreeTable').after(data3);
			}
			$(document).on("change", "#catTreeTable_CATEGORY_NAME_InputFilter", function (e) {
				$("#ejsearch_btn_cat").click();
			});
			$(document).on("change", "#catTreeTable_CATEGORY_ID_InputFilter", function (e) {
				$("#ejsearch_btn_cat").click();
			});
			$(document).on("change", "#catTreeTable_RANK_InputFilter", function (e) {
				$("#ejsearch_btn_cat").click();
			});

			setTimeout(function () {
				if (document.getElementsByClassName("e-filterbarcell")) {
					document.getElementsByClassName("e-filterbarcell")[3].innerHTML = '<div class="e-filterdiv" id="catTreeTable_CATEGORY_NAME_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="catTreeTable_CATEGORY_NAME_InputFilter"><span class="e-cancel e-icon e-spanstyle"></span></div>';
					document.getElementsByClassName("e-filterbarcell")[4].innerHTML = '<div class="e-filterdiv" id="catTreeTable_CATEGORY_ID_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="catTreeTable_CATEGORY_ID_InputFilter" ><span class="e-cancel e-icon e-hide e-spanstyle"></span></div>';
					document.getElementsByClassName("e-filterbarcell")[5].innerHTML = '<div class="e-filterdiv" id="catTreeTable_RANK_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="catTreeTable_RANK_InputFilter"><span class="e-cancel e-icon e-spanstyle"></span></div>';
				}

			}, 4000);

		});

	} catch (e) {
		console.log(e);
	}

}

var lst = [];

function relateListBulkDelete(relBlkDel) {
	table_id = $(relBlkDel).attr('id');
	localStorage.setItem('cont_table_id', table_id);
	$('div#related_delete_POPUP .modal-dialog').css('cssText', 'width:550px !important');
	var relBlkDel_req_id = $(relBlkDel).parent().parent().parent().parent().parent().parent('div').attr('id');
	relBlkDel_req_id = relBlkDel_req_id.replace('+', '\\+')
	var looptr = '#' + relBlkDel_req_id + ' table tbody tr';
	$(looptr).each(function (index) {
		var looptr_class = $(this).attr('class');
		if (looptr_class == 'selected') {
			var selected_row_txt = $(this).children('td').children('input').parent().next().text().trim();
			lst.push(selected_row_txt);
		}
	});
}

//A055S000P01-20970 Starts
function bulkDeleteConfirm(tableId = localStorage.getItem('cont_table_id')) {
	// var table_id = localStorage.getItem('cont_table_id');
	var table_id = tableId;
	//A055S000P01-20453 End - M

	//var lolStg_bind = localStorage.getItem("container_DYN");
	//var form_table_row_selected = 'div#' + lolStg_bind + ' table tbody tr.selected';
	CurrentNodeId = localStorage.getItem('CurrentNodeId');
	CurrentRecordId = localStorage.getItem('CurrentRecordId');
	checkedrows = localStorage.getItem("multiedit_checkbox_clicked");
	checkedrows = checkedrows.replace(/\s+/g, '');
	selectall = localStorage.getItem("selectall");
	try {
		cpq.server.executeScript("SYRLBLKDEL", {
			'table_id': table_id,
			'selectall': selectall,
			'checkedrows': checkedrows,
			'SubtabName': localStorage.getItem("currentSubTab")
		}, function (datas) {
			localStorage.setItem("related_list_load", "");
			localStorage.setItem("RelatedEdit", '0');
			$('#BTN_MA_ALL_REFRESH').trigger('click');
			if (table_id == 'ADDNEW__SYOBJR_00029_SYOBJ_1177034') {
				loadRelatedList("SYOBJR-00029", "div_CTR_related_list");
				Subbaner('Parts List', CurrentNodeId, CurrentRecordId, 'SAQSGB');
			}
			else {
				eval($('#COMMON_TABS ul li.active').attr('onclick'));
			}
			//A055S000P01-20453 Start - A
			if (table_id == 'fab_equipment_deletion' || table_id == 'fab_greenbook_equipment_deletion') { // selectall == 'yes' &&
				CommonLeftView();
			}
			//A055S000P01-20453 End - A
		});
	} catch (e) {
		console.log(e);
	}
	lst = [];
	// A043S001P01-9098 Start
	if (table_id == "delete_ADDNEW__SYOBJR_95800_SYOBJ_00267") {
		$('#MM_ALL_REFRESH').click();
	}
	// A043S001P01-9098 Start
	var detailsTab = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a.createclose').text().trim();

	current_tab = $('.tabsmenu ul#carttabs_head li.active a span').text();
	if (detailsTab != 'Details' && current_tab != 'Price Agreement') {
		setTimeout(function () {
			$('.createtab').trigger('click');

		}, 5000);
	}
}
//A055S000P01-20970 Ends

//A055S000P01-20453 Start - A
function bulk_del_yes(tableId = localStorage.getItem('cont_table_id')) {
	//A055S000P01-20970 Starts
	//Show a Confirm delete popup before deleting, so moved the delete functionality to bulkDeleteConfirm function and added a confirm delte popup function here.
	var currentObject = localStorage.getItem('CurrentObject')
	try {
		cpq.server.executeScript("SYDELCNMSG", {
			'Record_Id': tableId,
			'Grid_Id': currentObject,
			'Action': 'confirm_bulk_delete',
			"Message": "WARNING",
		}, function (response) {
			if (response != "") {
				if (document.getElementById("COMMON_DELETE_MODAL")) {
					$("#cont_CommonModalDelete #COMMON_DELETE_MODAL").html(response);
					$('#cont_CommonModalDelete').modal('toggle');
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
	//A055S000P01-20970 ends
}

//9518 Start

function bulk_del_yesUser() {

	var table_id = localStorage.getItem('cont_table_id');

	var lolStg_bind = localStorage.getItem("container_DYN");
	var form_table_row_selected = 'div#' + lolStg_bind + ' table tbody tr.selected';

	try {
		cpq.server.executeScript("SYDELETEFN", {
			'SELECTEDROW': lst,
			'table_id': table_id,
			'OPERATION': 'BULKDELETE'
		}, function (datas) {
			localStorage.setItem("related_list_load", "");
			localStorage.setItem("RelatedEdit", '0');
			$('#BTN_MA_ALL_REFRESH').trigger('click');
		});
	} catch (e) {
		console.log(e);
	}
	lst = [];
	// A043S001P01-9098 Start
	if (table_id == "delete_ADDNEW__SYOBJR_95800_SYOBJ_00267") {
		$('#MM_ALL_REFRESH').click();
	}
	// A043S001P01-9098 Start
	var detailsTab = $('.row.tabsmenu2.tabdyn ul.inlinelist li.active a.createclose').text().trim();

	current_tab = $('.tabsmenu ul#carttabs_head li.active a span').text();
	if (detailsTab != 'Details' && current_tab != 'Price Agreement') {
		setTimeout(function () {
			$('.createtab').trigger('click');

		}, 5000);
	}
}

//9518 End

function priceclass_child(filteredData, $detail) {
	try {
		cpq.server.executeScript("SYCATTREVW", {
			'TABNAME': 'Price Classes',
			'ACTION': 'CHILDLOAD',
			'ATTRIBUTE_NAME': filteredData,
			'ATTRIBUTE_VALUE': ''
		}, function (datachild) {

			datachld_table = datachild[0];
			datachld = datachild[1];
			datachld2 = datachild[2];
			datachld3 = datachild[3];
			datachld4 = datachild[4];
			datachld5 = datachild[5];
			datachld6 = datachild[6];
			datachld7 = datachild[7];
			datachld8 = datachild[8];
			datachld9 = datachild[9];
			$detail.html(datachld_table).find('table#' + datachld2).bootstrapTable({
				data: datachld,
			});
			eval(datachld9);
			eval(datachld3);
			eval(datachld5);
		});
	} catch (e) {
		console.log(e);
	}
}

function PRICCLSTreeTable() {

	try {
		cpq.server.executeScript("SYCATTREVW", {
			'TABNAME': 'Price Classes',
			'ACTION': 'LOAD',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data4 = dataset[4];
			data4 = dataset[4];
			data5 = dataset[5];
			data6 = dataset[6];
			data7 = dataset[7];
			data8 = dataset[8];
			data9 = dataset[9];
			data10 = dataset[10];
			if (document.getElementById("pricl_treeGrid")) {
				document.getElementById('pricl_treeGrid').innerHTML = datas;
			}
			try {
				$('#' + data2).bootstrapTable({
					data: data1,
					onExpandRow: function (index, row, $detail) {
						filteredData = row.PRICECLASS_RECORD_ID || '';
						if (filteredData == '') {
							filteredData = row.REC_ID
						}



						priceclass_child(filteredData, $detail);
					}
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						onExpandRow: function (index, row, $detail) {
							filteredData = row.PRICECLASS_RECORD_ID || '';
							if (filteredData == '') {
								filteredData = row.REC_ID
							}

							priceclass_child(filteredData, $detail);
						}
					});
				}, 5000);
			} finally {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						onExpandRow: function (index, row, $detail) {
							filteredData = row.PRICECLASS_RECORD_ID || '';
							if (filteredData == '') {
								filteredData = row.REC_ID
							}

							priceclass_child(filteredData, $detail);
						}
					});
				}, 5000);
			}
			try {
				eval(data9);
				eval(data3);
				eval(data5);
			} catch (err) {
				console.log(err);
			}
			$('#' + data2).after(data10);

		});
		$(".JCLRgrip").mousedown(function () {

			$("thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;");
			$(".wrap-when-landing-C4C thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);top: 58px;border-right: 0px !important;");
			$("thead.fullHeadSecond").css("display", "none");
			$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
			$(".cart_page").parents('html').css("overflow", "hidden");
			//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');
		});
		var arr_value = [];
		$(".JCLRgrip").mouseup(function () {

			var th_width_resize = [];
			$("#table_price_class thead.fullHeadFirst tr th").each(function (index) {
				var wid = $(this).css("width");

				if (index == 0 || index == 1) {
					th_width_resize.push("50px");
				} else {
					th_width_resize.push(wid);
				}
			});


			$("thead.fullHeadFirst").css("cssText", "position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;");
			$(".wrap-when-landing-C4C thead.fullHeadFirst").css("cssText", "position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220); top: 58px;border-right: 0px !important;");
			$("thead.fullHeadSecond").css("display", "table-header-group");
			$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
			$(".cart_page").parents('html').css("overflow", "hidden");
			//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');

			var txt_alg = []
			$('table#table_price_class thead.fullHeadSecond tr th').each(function (index) {
				var a = $(this).css('text-align');
				txt_alg.push(a);
			});

			$("#table_price_class thead.fullHeadFirst tr th").each(function (index) {
				var num = th_width_resize[index].split("px");
				var numsp = parseInt(num[0]);
				numsp = numsp - 1;
				var make_str = numsp + "px";

				var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
				var d = "width:" + make_str + ";";

				//$(this).css("cssText", c);
				$(this).css({
					"width": make_str,
					"white-space": "nowrap",
					"overflow": "hidden",
					"text-overflow": "ellipsis",
					"text-align": txt_alg[index]
				});
				//$(this).children("div:first-child").css("cssText", c);
				$(this).children("div:first-child").css({
					"width": make_str,
					"white-space": "nowrap",
					"overflow": "hidden",
					"text-overflow": "ellipsis",
					"text-align": txt_alg[index]
				});
				//$(this).children("div.fht-cell").css("cssText", d);
				$(this).children("div.fht-cell").css({
					"width": make_str
				});
			});
			$("#table_price_class thead.fullHeadSecond tr th").each(function (index) {
				var num = th_width_resize[index].split("px");
				var numsp = parseInt(num[0]);
				numsp = numsp - 1;
				var make_str = numsp + "px";

				var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
				var d = "width:" + make_str + ";";

				//$(this).css("cssText", c);
				$(this).css({
					"width": make_str,
					"white-space": "nowrap",
					"overflow": "hidden",
					"text-overflow": "ellipsis"
				});
				//$(this).children("div:first-child").css("cssText", c);
				$(this).children("div:first-child").css({
					"width": make_str,
					"white-space": "nowrap",
					"overflow": "hidden",
					"text-overflow": "ellipsis"
				});
				//$(this).children("div.fht-cell").css("cssText", d);
				$(this).children("div.fht-cell").css({
					"width": make_str
				});
			});



			$('div[id^=listBoxRelatedMutipleCheckBoxDrop_]').each(function (index) {

				var avoid_set = 0;
				var listdrop_disp = $(this).css('display');

				if (listdrop_disp == 'block') {
					var cur_grid = $(this).attr('id');

					var get_id = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').attr('id');

					var insert_data = cur_grid + '|' + get_id;

					if (arr_value.indexOf(insert_data) !== -1) {
						//arr_value.remove(insert_data);
						delete arr_value[insert_data];
						const index = arr_value.indexOf(insert_data);
						if (index > -1) {
							arr_value.splice(index, 1);
						}

						avoid_set = 1;
					} else {
						arr_value.push(insert_data);
					}

					if (avoid_set == 0) {
						var left_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left');

						if (left_drop) {
							left_drop = left_drop.split('px');
							left_drop = parseInt(left_drop[0]) - 1;

						}

						left_drop = left_drop + 'px';

						$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left', left_drop);


						var width_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').width();

						width_drop = width_drop + 1;

						width_drop = width_drop + 'px';

						$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').css('width', width_drop);
					}

				}
			});


		});
	} catch (e) {
		console.log(e);
	}

	/*NUMERIC DATA RIGHT ALIGN 'BEGIN'*/
	setTimeout(function () {
		$('td').filter(function () {
			return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
		}).css('text-align', 'right');
		$('td #ACTIVE').closest('td').css('text-align', 'center');
	}, 1000);
	/*NUMERIC DATA RIGHT ALIGN 'END'*/

	try {
		setTimeout(function () {
			$("#table_price_class").colResizable({
				resizeMode: 'overflow'
			});

		}, 5000);

	} catch (err) { }

}
// A043S001P01-10888 START
function RoleSearchFuction() {

	var Columns = ['ROLE_NAME', 'ROLE_ID', 'ROLE_DESCRIPTION', 'PAR_ROLE_ID', 'START_PAGE']
	var ATTRIBUTE_VALUEList = [];
	var ROLE_NAME = $("#RolesTreeTable_ROLE_NAME_InputFilter").val();
	var ROLE_ID = $("#RolesTreeTable_ROLE_ID_InputFilter").val();
	var ROLE_DESCRIPTION = $("#RolesTreeTable_ROLE_DESCRIPTION_InputFilter").val();
	var PAR_ROLE_ID = $("#RolesTreeTable_PAR_ROLE_ID_InputFilter").val();
	var START_PAGE = $("#RolesTreeTable_START_PAGE_InputFilter").val();
	ATTRIBUTE_VALUEList.push(ROLE_NAME);
	ATTRIBUTE_VALUEList.push(ROLE_ID);
	ATTRIBUTE_VALUEList.push(ROLE_DESCRIPTION);
	ATTRIBUTE_VALUEList.push(PAR_ROLE_ID);
	ATTRIBUTE_VALUEList.push(START_PAGE);
	//ATTRIBUTE_VALUEList.push(CATEGORY_TYPE);
	PerPage = $("#PageCountValue").val();


	try {
		cpq.server.executeScript("SYCATTREVW", {
			"TABNAME": "RolesFilter",
			"ATTRIBUTE_NAME": Columns,
			"ATTRIBUTE_VALUE": ATTRIBUTE_VALUEList,
			"ACTION": "LOAD",
			"PerPage": PerPage,
			"PageInform": '1___20___1'
		}, function (datas) {


			var data = datas[0];
			var data_one = datas[1];
			var data_tow = datas[2];
			data5 = datas[5];
			data6 = datas[6];
			var employees = data;
			$("#catTreeTable").ejTreeGrid({
				sizeSettings: {
					height: '500px'
				}
			});
			$("#catTreeTable").ejTreeGrid({
				dataSource: employees,
			});
			var treegridObj = $("#catTreeTable").data("ejTreeGrid");
			if (treegridObj != null && treegridObj != undefined) {
				treegridObj.collapseAll();
			}
			$("#catTreeTable").ejTreeGrid({
				sizeSettings: {
					height: 'auto'
				}
			});
			if (data.length == 0) {
				$('.e-emptyText').css('text-align', 'left');
				$('.e-emptyText > td').css('text-align', 'left');

			}
			document.getElementById("NumberofItem").innerHTML = data5;
			document.getElementById("totalItemCount").innerHTML = data6;
			document.getElementById("page_count").innerHTML = "1";

			setTimeout(function () {
				treeViewMulti()
			}, 1000);
		});
	} catch (e) {
		console.log(e);
	}

}

function ROLESTreeTable() {

	requirejs.config({
		paths: {
			"jquery": 'https://cdn.syncfusion.com/js/assets/external/jquery-3.0.0.min',
			"jsrender": 'https://cdn.syncfusion.com/js/assets/external/jsrender.min',
			"ejscripts": 'https://cdn.syncfusion.com/16.4.0.52/js'
		}
	});

	try {
		cpq.server.executeScript("SYCATTREVW", {
			'TABNAME': 'Roles',
			'ACTION': 'LOAD',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function (datas) {

			var data = datas[0];
			var data_one = datas[1];
			var data_tow = datas[2];
			data3 = datas[3];
			var employees = data;
			require(["ejscripts/web/ej.treegrid"], function () {
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
					treeColumnIndex: 3,
					idMapping: "ROLE_RECORD_ID",
					parentIdMapping: "PAR_ROLE_RECORD_ID",
					enableLoadOnDemand: true,
					enableVirtualization: true,
					allowSorting: true,
					allowSelection: true,
					allowFiltering: true,
					selectionSettings: {
						selectionType: ej.TreeGrid.SelectionType.Checkbox,
						selectionMode: ej.TreeGrid.SelectionMode.Row
					},
					columns: [{
						field: "ACTION",
						headerText: "ACTIONS",
						width: '27px',
						textAlign: "center",
						allowFiltering: false,
						allowSorting: false
					}, {
						headerText: "SELECT",
						width: '27px',
						textAlign: "center",
						allowFiltering: false,
						allowSorting: false,
						editType: "stringedit",
						showCheckbox: true
					}, {
						field: "ROLE_RECORD_ID",
						headerText: "ROLE RECORD ID"
					}, {
						field: "ROLE_ID",
						headerText: "ROLE ID"
					}, {
						field: "ROLE_NAME",
						headerText: "ROLE NAME"
					}, {
						field: "ROLE_DESCRIPTION",
						headerText: "ROLE DESCRIPTION"
					}, {
						field: "PAR_ROLE_RECORD_ID",
						headerText: "PARENT ROLE RECORD ID"
					}, {
						field: "PAR_ROLE_ID",
						headerText: "PARENT ROLE ID"
					},
					{
						field: "START_PAGE",
						headerText: "START PAGE"
					}
					],

					filterSettings: {
						filterType: ej.TreeGrid.FilterType.FilterBar,
						filterBarMode: "onEnter"
					},
					queryCellInfo: function (args) {
						if (args.column.field == "ACTION") {
							$(args.cellElement).addClass("column-with-actions");
						}
						if (args.column.field == "ACTIVE") {
							$(args.cellElement).find('input').addClass("custom");
							$(args.cellElement).append("<span class='lbl'><span>");
						}
					},
					rowDataBound: function (args) {
						$('#RolesTreeTable-table tbody tr').each(function (index) {
							var a = 'rowindex' + index;
							$(this).attr('id', a);
						});
					},

					recordDoubleClick: function (args) {

						var treegridObj = $("#RolesTreeTable").data("ejTreeGrid");
						checkedItems = treegridObj.model.selectedItems;
						var reco_id = []
						$.each(checkedItems, function (key, values) {
							reco_id.push(values.ROLE_RECORD_ID);
						});

						var rec_id1 = [];
						rec_id1.push(args.data.ROLE_RECORD_ID);

						if (reco_id.length > 1) {
							rec_id = reco_id
						} else {
							rec_id = rec_id1
						}
						title = args.columnName.replace(" ", "_");
						value = args.cellValue;
						if (typeof value === "undefined") {
							value = '1';
						}
						table_id = 'multi_edit_' + data_one;

						localStorage.setItem("multiedit_save_date", rec_id);
						localStorage.setItem("multiedit_data_clicked", rec_id1);
						localStorage.setItem("table_id_RL_edit", table_id);
						try {
							cpq.server.executeScript("SYBLKETTLG", {
								"TITLE": title,
								"VALUE": value,
								"CLICKEDID": table_id,
								"RECORDID": rec_id,
								"ELEMENT": "RELATEDEDIT"
							}, function (data) {
								var data1 = data[0];
								var data2 = data[1];


								if (data1 != "NO") {
									if (document.getElementById("RL_EDIT_DIV_ID")) {
										document.getElementById("RL_EDIT_DIV_ID").innerHTML = data1;
										document.getElementById("cont_multiEditModalSection").style.display = "block";
										//$("#cont_multiEditModalSection").prepend("<div class='modal-backdrop fade in'></div>");
										var divHeight = $("#cont_multiEditModalSection").height();
										$("#cont_multiEditModalSection .modal-backdrop").css("min-height", divHeight + "px");
										$("#cont_multiEditModalSection .modal-dialog").css("width", "550px");
										$(".modal-dialog").css("margin-top", "100px");
										return false;
									}
									if (data2.length !== 0) {
										$.each(data1, function (key, values) {
											onclick_datepicker(values)
										});
									}
								}
							});
						} catch (e) {
							console.log(e);
						}
					},
					actionComplete: function (args) { //after completing the sorting action
						setTimeout(function () {
							treeViewMulti()
						}, 1000);
						$(".e-ddltxt a").removeAttr("href");
						$(".e-ddltxt a").prop("onclick", null).off("click");
					},
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
					treegridObj.hideColumn("ROLE RECORD ID");
					treegridObj.hideColumn("PARENT ROLE RECORD ID")
					treegridObj.scrollOffset(0, 0);
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
				$('#catTreeTable_filterBarACTION').append('<button class="searched_button search_sty" id="ejsearch_btn_cat">SEARCH</button>')
				eval(data_tow);
			});
			if (document.getElementsByClassName("listContStyle").length == 0) {

				$('#catTreeTable').after(data3);

			}

			//$("#RolesTreeTable_CATEGORY_ID_filterbarcell").change(function(){

			$(document).on("change", "#RolesTreeTable_ROLE_NAME_InputFilter", function (e) {

				$("#ejsearch_btn_cat").click();
			});
			$(document).on("change", "#RolesTreeTable_ROLE_ID_InputFilter", function (e) {

				//$("#RolesTreeTable_CATEGORY_NAME_filterbarcell").change(function(){

				$("#ejsearch_btn_cat").click();
			});
			$(document).on("change", "#RolesTreeTable_ROLE_DESCRIPTION_InputFilter", function (e) {
				//$("#RolesTreeTable_CATEGORY_MAINIMAGE_ID_filterbarcell").change(function(){

				$("#ejsearch_btn_cat").click();
			});
			$(document).on("change", "#RolesTreeTable_PAR_ROLE_ID_InputFilter", function (e) {
				//$("#RolesTreeTable_CATEGORY_THUMBIMAGE_ID_filterbarcell").change(function(){

				$("#ejsearch_btn_cat").click();
			});
			$(document).on("change", "#RolesTreeTable_START_PAGE_InputFilter", function (e) {
				//$("#RolesTreeTable_RANK_filterbarcell").change(function(){

				$("#ejsearch_btn_cat").click();
			});

			setTimeout(function () {

				if (document.getElementsByClassName("e-filterbarcell").length > 0) {

					document.getElementsByClassName("e-filterbarcell")[3].innerHTML = '<div class="e-filterdiv" id="RolesTreeTable_ROLE_NAME_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="RolesTreeTable_ROLE_NAME_InputFilter"><span class="e-cancel e-icon e-spanstyle"></span></div>';
					document.getElementsByClassName("e-filterbarcell")[4].innerHTML = '<div class="e-filterdiv" id="RolesTreeTable_ROLE_ID_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="RolesTreeTable_ROLE_ID_InputFilter" ><span class="e-cancel e-icon e-hide e-spanstyle"></span></div>';
					document.getElementsByClassName("e-filterbarcell")[5].innerHTML = '<div class="e-filterdiv" id="RolesTreeTable_ROLE_DESCRIPTION_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="RolesTreeTable_ROLE_DESCRIPTION_InputFilter"><span class="e-cancel e-icon e-spanstyle e-hide"></span></div>';
					document.getElementsByClassName("e-filterbarcell")[7].innerHTML = '<div class="e-filterdiv" id="RolesTreeTable_PAR_ROLE_ID_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="RolesTreeTable_PAR_ROLE_ID_InputFilter"><span class="e-cancel e-icon e-spanstyle"></span></div>';
					document.getElementsByClassName("e-filterbarcell")[8].innerHTML = '<div class="e-filterdiv" id="RolesTreeTable_START_PAGE_Filter"><input class="e-ejinputtext e-filtertext e-field e-filterwidth wd209" id="RolesTreeTable_START_PAGE_InputFilter"><span class="e-cancel e-icon e-spanstyle"></span></div>';

					//$(".e-filterbarcell")[3].html('');
					//$(".e-filterbarcell")[4].html('');
					//$(".e-filterbarcell")[5].html('');
					//$(".e-filterbarcell")[6].html('');
					//$(".e-filterbarcell")[7].html('');

				}

			}, 4000);

		});

	} catch (e) {
		console.log(e);
	}

}
// A043S001P01-10888 END

function categorySearchFuction() {

	var Columns = ['CATEGORY_NAME', 'CATEGORY_ID', 'RANK']
	var ATTRIBUTE_VALUEList = [];
	var CATEGORY_NAME = $("#catTreeTable_CATEGORY_NAME_InputFilter").val();
	var CATEGORY_ID = $("#catTreeTable_CATEGORY_ID_InputFilter").val();
	var RANK = $("#catTreeTable_RANK_InputFilter").val();
	ATTRIBUTE_VALUEList.push(CATEGORY_NAME);
	ATTRIBUTE_VALUEList.push(CATEGORY_ID);
	ATTRIBUTE_VALUEList.push(RANK);
	//ATTRIBUTE_VALUEList.push(CATEGORY_TYPE);
	PerPage = $("#PageCountValue").val();


	try {
		cpq.server.executeScript("SYCATTREVW", {
			"TABNAME": "CategoriesFilter",
			"ATTRIBUTE_NAME": Columns,
			"ATTRIBUTE_VALUE": ATTRIBUTE_VALUEList,
			"ACTION": "LOAD",
			"PerPage": PerPage,
			"PageInform": '1___20___1'
		}, function (datas) {


			var data = datas[0];
			var data_one = datas[1];
			var data_tow = datas[2];
			data5 = datas[5];
			data6 = datas[6];
			var employees = data;
			$("#catTreeTable").ejTreeGrid({
				sizeSettings: {
					height: '500px'
				}
			});
			$("#catTreeTable").ejTreeGrid({
				dataSource: employees,
			});
			var treegridObj = $("#catTreeTable").data("ejTreeGrid");
			if (treegridObj != null && treegridObj != undefined) {
				treegridObj.collapseAll();
			}
			$("#catTreeTable").ejTreeGrid({
				sizeSettings: {
					height: 'auto'
				}
			});
			if (data.length == 0) {
				$('.e-emptyText').css('text-align', 'left');
				$('.e-emptyText > td').css('text-align', 'left');

			}
			document.getElementById("NumberofItem").innerHTML = data5;
			document.getElementById("totalItemCount").innerHTML = data6;
			document.getElementById("page_count").innerHTML = "1";

			setTimeout(function () {
				treeViewMulti()
			}, 1000);
		});
	} catch (e) {
		console.log(e);
	}

}

/* Add new attribute button in Set tab function starts*/

function pivottable_setattr_addnew(ele) {

	table_id = $(ele).attr('id');
	first_record_id = $('#attributesContainer input').first().val();

	first_record_feild = $('#attributesContainer input').first().attr('id');
	localStorage.setItem("first_record_id", first_record_id);
	localStorage.setItem("first_record_feild", first_record_feild);


	localStorage.setItem('cont_table_id', table_id)
	try {
		cpq.server.executeScript("SYUADNWPOP", {
			'TABLEID': table_id,
			'OPER': 'NO',
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': '',
			'LOOKUPOBJ': '',
			'LOOKUPAPI': ''
		}, function (data) {
			date_field = data[3];
			var assoc = data[1];
			var api_name = data[2];


			if (document.getElementById("VIEW_DIV_ID")) {
				document.getElementById("VIEW_DIV_ID").innerHTML = data[0];


				if (assoc) {
					$.each(assoc, function (key, value) {
						$('#VIEW_DIV_ID #container #' + key).val(value);
					});
				}
				if (api_name) {
					$('#VIEW_DIV_ID #container #' + api_name).val(first_record_id);
				}
				if (date_field.length !== 0) {
					$.each(date_field, function (key, value) {
						onclick_datepicker(value)
					});
				}
			}
		});
	} catch (e) {
		console.log(e);
	}

	setTimeout(function () {
		$('.in .modal-dialog .modal_vh_div table tbody tr td input').each(function (index) {

			var inp_bg_color = $(this).css('background-color');

			if (inp_bg_color == 'rgb(255, 255, 224)') {

				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}

		});
		$('.in .modal-dialog .modal_vh_div table tbody tr td select').each(function (index) {

			var inp_bg_color = $(this).css('background-color');

			if (inp_bg_color == 'rgb(255, 255, 224)') {

				$(this).css('cssText', 'float: left;background-color: lightyellow !important;border-left: 1px solid rgb(220, 220, 220) !important;border-right: 1px solid rgb(220, 220, 220) !important');
			}

		});

	}, 1000);
	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd97_pt"></div>');
		var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		if (table_heigth > popUp_height) {
			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('width', '96.5%');
		}
	}, 3000);

	localStorage.setItem('triggerRelated', '1');
	//$('.modal-dialog').css('cssText', 'width:900px !important;');
}

/* Add new attribute button in Set tab function Ends*/

function pivottable_attr_addnew(ele) {

	table_id1 = $(ele).attr('id');
	table_id2 = table_id1.split('_')
	table_id = table_id2[0]

	localStorage.setItem("pivot_table_id", table_id);
	try {
		cpq.server.executeScript("MASGPVTBPO", {
			"TABLEID": table_id,
			'NEWVALUE': '',
			'LOOKUPOBJ': '',
			'LOOKUPAPI': '',
			'OPER': 'NEW',
			'Record_Id': ''
		}, function (datas) {

			data = datas[0];
			new_value = datas[1];
			if (document.getElementById("PIVOT_TABLE_ADD")) {

				document.getElementById("PIVOT_TABLE_ADD").innerHTML = data;
			}
		});
	} catch (e) {
		console.log(e);
	}

	$('div#pivottable_attribute_popup .modal-dialog').css('cssText', 'width: 900px !important;min-height: 100px !important;max-height: 90% !important;position: absolute;overflow: hidden;height: auto !important;display: table;left: 0;right: 0;top: 0;bottom: 0;margin: auto;');

}

function pivottable_attr_lookup_popup_new(elem) {
	if (document.getElementById('Headerbnr_pivot')) {
		document.getElementById('Headerbnr_pivot').style.display = 'none';
		document.getElementById('Headerbnr_pivot').innerHTML = '';
	}
	value = $(elem).attr('id');
	look_up_id = $(elem).closest('td').children('input:first').attr('id');
	localStorage.setItem("pivot_look_up_id", look_up_id);
	input_val = []
	pop_id = []
	$("#PIVOT_TABLE_ADD #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});

	$("#PIVOT_TABLE_ADD #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});
	var assoc = {};
	for (var i = 0; i < pop_id.length; i++) {
		assoc[pop_id[i]] = input_val[i];
	}
	attr_val = $('#PIVOT_TABLE_ADD #ATTRIBUTE_NAME').val();

	localStorage.setItem("assoc_array_value_pivot", JSON.stringify((assoc)));
	try {
		cpq.server.executeScript("SYPVTLOPOP", {
			'TABLEID': value,
			'OPER': 'PIVOT',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'GSCONTLOOKUP': '',
			'ATTRVAL': assoc
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];

			if (document.getElementById("PIVOT_TABLE_ADD")) {
				document.getElementById('PIVOT_TABLE_ADD').innerHTML = datas;
			}
			try {
				$('#' + data2).bootstrapTable({
					data: data1
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1
					});
				}, 5000);
			} finally { }
			eval(data3);
		});
	} catch (e) {
		console.log(e);
	}
}

function namePOPUPFormatterPivot(value, row) {

	ids = row.ids
	return '<a id = "' + ids + '" class="cur_sty" onclick="pivot_lookup_popup_onchange(this)">' + value + '</a>';

}

function pivot_view_delete(ele) {

	var pivot_table_value = localStorage.getItem('pivot_table_value');
	var pivot_table_lable = localStorage.getItem('pivot_table_lable');
	var pivot_attr_value = localStorage.getItem('pivot_attr_value');
	var table_id = localStorage.getItem('pivot_table_id');

	try {
		cpq.server.executeScript("SYGSPVTDEL", {
			'LABLE': pivot_table_lable,
			'VALUE': pivot_table_value,
			'TABLEID': table_id,
			'ATTRVAL': pivot_attr_value
		}, function (data) {

			$('.BTN_MA_ALL_REFRESH').click();
			MaterialTest1234();
			$('#pivottable_attribute_popup').modal('hide');
		});
	} catch (e) {
		console.log(e);
	}
}

function setEditSave(ele) {


	var table_id = localStorage.getItem('pivot_table_id')


	keys = []
	col_val_edit = []
	$("table#" + 'additional_attributes_pop' + " tbody tr th").each(function () {

		keys.push($(this).text());
	});


	HEADERVALUES = []
	$("#SET_ATTRIBUTE_MATERIALS tbody tr th ").each(function (index) {

		HEADERVALUES.push($(this).text())
	});

	$("table#" + 'additional_attributes_pop' + " tbody tr td:nth-child(2)").each(function () {


		col_val_edit.push($(this)[0].childNodes[0].value);

	});

	col_val_edit.push(localStorage.getItem('sapval'));
	try {
		cpq.server.executeScript("MAGSPVSESV", {
			'KEYS': HEADERVALUES,
			'EDIT_VAL': col_val_edit
		}, function (data) {

			$(".BTN_MA_ALL_REFRESH").trigger('click');

		});
	} catch (e) {
		console.log(e);
	}

}

function pivot_table_save(ele) {

	var table_id = localStorage.getItem('pivot_table_id')



	HEADERVALUES = []
	$("#SET_ATTRIBUTE_MATERIALS tbody tr th ").each(function (index) {

		HEADERVALUES.push($(this).text())
	});



	keys = []
	col_val = []
	$("table#" + 'additional_attributes_pop' + " tbody tr td:first-child").each(function () {


		keys.push($(this).text());
	});



	$("table#" + 'additional_attributes_pop' + " tbody tr td:nth-child(2)").each(function () {

		col_val.push($(this)[0].childNodes[0].value);

	});

	input_val = []
	pop_id = []
	$("#PIVOT_TABLE_ADD #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});


	$("#PIVOT_TABLE_ADD #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});

	try {
		cpq.server.executeScript("SYPVSAVALL", {
			'LABLE': pop_id,
			'VALUE': input_val,
			'TABLEID': table_id,
			'KEYS': keys,
			'COL_VAL': col_val
		}, function (data) {

			var sap_part_number = data[0];

			if (input_val[3] != '') {
				if (document.getElementById('Headerbnr_pivot')) {
					document.getElementById('Headerbnr_pivot').style.display = 'none';
					document.getElementById('Headerbnr_pivot').innerHTML = '';
				}
				$('.BTN_MA_ALL_REFRESH').click();
				MaterialTest1234();
				if (document.getElementById('pivottable_attribute_popup')) {
					$('#pivottable_attribute_popup').modal('hide');
				}
			} else {
				if (document.getElementById('Headerbnr_pivot')) {
					document.getElementById('Headerbnr_pivot').style.display = 'block';
					document.getElementById('Headerbnr_pivot').innerHTML = 'ERROR : You will not be able to save your data until all required fields are populated';
				}
			}

		});
	} catch (e) {
		console.log(e);
	}
}

function pivot_table_load() {
	ButtonName = '';
	if (document.getElementById('BTN_SYACTI_MA_00024_EDIT')) {
		ButtonName = document.getElementById('BTN_SYACTI_MA_00024_EDIT').innerHTML;
	}
	if (document.getElementById('BTN_SYACTI_MA_00023_SAVE')) {
		ButtonName = document.getElementById('BTN_SYACTI_MA_00023_SAVE').innerHTML;
	}
	try {
		cpq.server.executeScript("SYLDCTNPTL", {
			'ContainerType': 'DYNAMIC ROWS',
			'Row_Count': ButtonName,
			'New_CtrName': 'MATERIALS_WITH_ATTRIBUTES',
			'Column_Count': '3',
			'SQL_Expression': 'SYSEFL-MA-00433',
			'Column_Names_List': "[{'FIELD_NAME':'SAP PART NUMBER','DATA_TYPE':'NVARCHAR','API_METHOD':'SAP_PART_NUMBER'},{'FIELD_NAME':'MATERIAL NAME','DATA_TYPE':'NVARCHAR','API_METHOD':'MATERIAL_NAME'}]"
		}, function (dataset) {

			if (document.getElementById("div_MATERIALS_WITH_ATTRIBUTES")) {
				if (dataset == 'NORECORD') {
					document.getElementById('div_MATERIALS_WITH_ATTRIBUTES').innerHTML = '<div class="noRecDisp txt_cnt">No Record to Display</div>';
				} else {
					document.getElementById('div_MATERIALS_WITH_ATTRIBUTES').innerHTML = dataset;
					if (ButtonName == 'EDIT') {
						// $('button#SYSEFL-MA-00433').prop("disabled", true);
					}
				}
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function pivot_set_att_pivot_table_load(showResultCount, recordEnd) {
	ButtonName = '';
	try {
		cpq.server.executeScript("SYLDCTNPTL", {
			'ContainerType': 'DYNAMIC ROWS',
			'Row_Count': ButtonName,
			'New_CtrName': 'SET_ATTRIBUTE_MATERIALS',
			'Column_Count': '4',
			'SQL_Expression': 'SYSEFL-MA-00382',
			'Column_Names_List': "[{'FIELD_NAME': 'SAP PART NUMBER', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SAP_PART_NUMBER'},{'FIELD_NAME': 'SAP DESCRIPTION', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SAP_DESCRIPTION'},{'FIELD_NAME': 'SET ITEM RANK', 'DATA_TYPE': 'INT', 'API_METHOD': 'RANK'}, {'FIELD_NAME': 'SET QUANTITY', 'DATA_TYPE': 'INT', 'API_METHOD': 'SET_QUANTITY'}]",
			'Offset_Skip_Count': recordEnd,
			'Fetch_Count': showResultCount
		}, function (dataset) {

			if (document.getElementById("div_SET_ATTRIBUTE_MATERIALS")) {
				document.getElementById('div_SET_ATTRIBUTE_MATERIALS').innerHTML = dataset;
				var myEle = document.getElementById("SYOBJR_20005_SYOBJ_00029_totalItemCount");
				if (myEle) {

					val1 = $("#TotalRecCount").text();

					if (parseInt(showResultCount) > parseInt(val1)) {
						$("#Rec_Start_End").html("1 - " + val1 + " of");
					} else {
						$("#Rec_Start_End").html("1 - " + showResultCount + " of");
					}

				}

			}
		});
	} catch (e) {
		console.log(e);
	}

}

function ShowResultCountFunction(ele) {
	var recordsStartAndEnd = $("#Rec_Start_End").text();
	var recordEnd = recordsStartAndEnd.split(' ')[0];
	pivot_set_att_pivot_table_load(showResultCount = parseInt(ele.value), parseInt(recordEnd));
}

function GetNextResultFunction() {
	var showResultCount = $("#ShowResultCounts option:selected").text();
	var recordsStartAndEnd = $("#Rec_Start_End").text();
	var recordEnd = recordsStartAndEnd.split(' ')[2];
	pivot_set_att_pivot_table_load(showResultCount = parseInt(showResultCount), recordEnd = parseInt(recordEnd));
}

function GetPreviuosResultFunction() {
	var showResultCount = $("#ShowResultCounts option:selected").text();

	var recordsStartAndEnd = $("#Rec_Start_End").text();

	var recordEnd = parseInt(recordsStartAndEnd.split(' ')[0]) - parseInt(showResultCount);

	pivot_set_att_pivot_table_load(showResultCount = parseInt(showResultCount), recordEnd = parseInt(recordEnd) > 0 ? parseInt(recordEnd) : 0);

}

function GetFirstResultFunction() {

	var showResultCount = $("#ShowResultCounts option:selected").text();

	pivot_set_att_pivot_table_load(showResultCount = parseInt(showResultCount), recordEnd = 0);
}

function GetLastResultFunction() {
	var showResultCount = $("#ShowResultCounts option:selected").text();

	var totalRecordsCount = $("#TotalRecCount").text();

	var recordEnd = parseInt(totalRecordsCount) - parseInt(showResultCount);

	pivot_set_att_pivot_table_load(showResultCount = parseInt(showResultCount), recordEnd = parseInt(recordEnd));
}

function pricModClsTreeTable() {

	try {
		cpq.server.executeScript("SYCATTREVW", {
			'TABNAME': 'Price Model Classes',
			'ACTION': 'LOAD',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function (dataset) {



			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data4 = dataset[4];
			data4 = dataset[4];
			data5 = dataset[5];
			data6 = dataset[6];
			data7 = dataset[7];
			data8 = dataset[8];
			data9 = dataset[9];
			data10 = dataset[10]
			if (document.getElementById("pricModClsTreeTable")) {
				document.getElementById('pricModClsTreeTable').innerHTML = datas;
			}
			try {
				$('#' + data2).bootstrapTable({
					data: data1,
					onExpandRow: function (index, row, $detail) {
						filteredData = row.REC_ID;
						try {
							cpq.server.executeScript("SYCATTREVW", {
								'TABNAME': 'Price Model Classes',
								'ACTION': 'CHILDLOAD',
								'ATTRIBUTE_NAME': filteredData,
								'ATTRIBUTE_VALUE': ''
							}, function (datachild) {

								datachld_table = datachild[0];
								datachld = datachild[1];
								datachld2 = datachild[2];
								datachld3 = datachild[3];
								datachld4 = datachild[4];
								datachld5 = datachild[5];
								datachld6 = datachild[6];
								datachld7 = datachild[7];
								datachld8 = datachild[8];
								datachld9 = datachild[9];
								$detail.html(datachld_table).find('table').bootstrapTable({
									data: datachld,
								});
								eval(datachld9);
								eval(datachld3);
								eval(datachld5);
							});
						} catch (e) {
							console.log(e);
						}
					}
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						onExpandRow: function (index, row, $detail) {
							filteredData = row.REC_ID;
							try {
								cpq.server.executeScript("SYCATTREVW", {
									'TABNAME': 'Price Model Classes',
									'ACTION': 'CHILDLOAD',
									'ATTRIBUTE_NAME': filteredData,
									'ATTRIBUTE_VALUE': ''
								}, function (datachild) {

									datachld_table = datachild[0];
									datachld = datachild[1];
									datachld2 = datachild[2];
									datachld3 = datachild[3];
									datachld4 = datachild[4];
									datachld5 = datachild[5];
									datachld6 = datachild[6];
									datachld7 = datachild[7];
									datachld8 = datachild[8];
									datachld9 = datachild[9];
									$detail.html(datachld_table).find('table').bootstrapTable({
										data: datachld,
									});
									eval(datachld9);
									eval(datachld3);
									eval(datachld5);
								});
							} catch (e) {
								console.log(e);
							}
						}
					});
				}, 5000);
			} finally { }
			eval(data9);
			eval(data3);
			eval(data5);
			$('#' + data2).after(data10);
		});
	} catch (e) {
		console.log(e);
	}
}

function PRLPBSTreeTable() {
	try {
		cpq.server.executeScript("SYCATTREVW", {
			'TABNAME': 'Pricebook Sets',
			'ACTION': 'LOAD',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': ''
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data4 = dataset[4];
			data4 = dataset[4];
			data5 = dataset[5];
			data6 = dataset[6];
			data7 = dataset[7];
			data8 = dataset[8];
			data9 = dataset[9];
			data10 = dataset[10];
			if (document.getElementById("prlpbs_treeGrid")) {
				document.getElementById('prlpbs_treeGrid').innerHTML = datas;
			}
			try {
				$('#' + data2).bootstrapTable({
					data: data1,
					onExpandRow: function (index, row, $detail) {
						filteredData = row.LIST_PRICEBOOKSET_RECORD_ID;
						try {
							cpq.server.executeScript("SYCATTREVW", {
								'TABNAME': 'Pricebook Sets',
								'ACTION': 'CHILDLOAD',
								'ATTRIBUTE_NAME': filteredData,
								'ATTRIBUTE_VALUE': ''
							}, function (datachild) {

								datachld_table = datachild[0];
								datachld = datachild[1];
								datachld2 = datachild[2];
								datachld3 = datachild[3];
								datachld4 = datachild[4];
								datachld5 = datachild[5];
								datachld6 = datachild[6];
								datachld7 = datachild[7];
								datachld8 = datachild[8];
								datachld9 = datachild[9];
								$detail.html(datachld_table).find('table').bootstrapTable({
									data: datachld,
								});
								eval(datachld9);
								eval(datachld3);
								eval(datachld5);
							});
						} catch (e) {
							console.log(e);
						}

						/*NUMERIC DATA RIGHT ALIGN 'BEGIN'*/
						setTimeout(function () {
							$('#table_price_book' + row.LIST_PRICEBOOKSET_RECORD_ID + ' td').filter(function () {
								return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
							}).css('text-align', 'right');
							$('td #ACTIVE').closest('td').css('text-align', 'center');
						}, 2000);
						/*NUMERIC DATA RIGHT ALIGN 'END'*/

					}
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						onExpandRow: function (index, row, $detail) {
							filteredData = row.LIST_PRICEBOOKSET_RECORD_ID;
							try {
								cpq.server.executeScript("SYCATTREVW", {
									'TABNAME': 'Pricebook Sets',
									'ACTION': 'CHILDLOAD',
									'ATTRIBUTE_NAME': filteredData,
									'ATTRIBUTE_VALUE': ''
								}, function (datachild) {

									datachld_table = datachild[0];
									datachld = datachild[1];
									datachld2 = datachild[2];
									datachld3 = datachild[3];
									datachld4 = datachild[4];
									datachld5 = datachild[5];
									datachld6 = datachild[6];
									datachld7 = datachild[7];
									datachld8 = datachild[8];
									datachld9 = datachild[9];
									$detail.html(datachld_table).find('table').bootstrapTable({
										data: datachld,
									});
									eval(datachld9);
									eval(datachld3);
									eval(datachld5);
								});
							} catch (e) {
								console.log(e);
							}

							/*NUMERIC DATA RIGHT ALIGN 'BEGIN'*/
							setTimeout(function () {
								$('#table_price_book' + row.LIST_PRICEBOOKSET_RECORD_ID + ' td').filter(function () {
									return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
								}).css('text-align', 'right');
								$('td #ACTIVE').closest('td').css('text-align', 'center');
							}, 5000);
							/*NUMERIC DATA RIGHT ALIGN 'END'*/

						}
					});
				}, 5000);
			} finally { }
			eval(data9);
			eval(data3);
			eval(data5);
			$('#' + data2).after(data10);
		});
	} catch (e) {
		console.log(e);
	}

	/*NUMERIC DATA RIGHT ALIGN 'BEGIN'*/
	setTimeout(function () {
		$('td').filter(function () {
			return /^[-+]?[0-9]+\.[0-9]+$/.test($.text(this));
		}).css('text-align', 'right');
		$('td #ACTIVE').closest('td').css('text-align', 'center');
	}, 6000);
	/*NUMERIC DATA RIGHT ALIGN 'END'*/
	try {

		setTimeout(function () {
			var current_tab_name = $('#carttabs_head li.active span').text();
			if (current_tab_name == "Pricebook Entries") {
				var td = $('#FULLTABLELOAD td');
				for (var c = 0; c < td.length; c++) {
					if (td[c].textContent.length <= 15) {
						td[c].style.textAlign = 'right';
					}
				}
			}

			$("#table_price_bookset").colResizable({
				resizeMode: 'overflow'
			});

		}, 5000);

	} catch (err) { }
}

function PLANTIDtHyperLink(value, row) {

	return '<a id= "' + row.plant_detils + '" onclick="Move_to_parent_obj(this)">' + value + '</a>'

}

function SAP_PART_NUMBERtHyperLink(value, row) {

	return '<a id= "' + row.sap_detils + '" onclick="Move_to_parent_obj(this)">' + value + '</a>'

}

function SETSopenedit(ele, sect) {

	//$('.modal-dialog').css('cssText', '900px !important');

	localStorage.setItem('ACTIONVIEW', 'EDIT');
	//$('.modal-dialog').css('cssText', 'width:900px !important');
	HEADERVALUE = []
	$("#SET_ATTRIBUTE_MATERIALS tbody tr th ").each(function (index) {

		HEADERVALUE.push($(this).text())
	});

	var $row = $(ele).closest("tr");

	var $tds = $row.find("td");
	var COL_VAL = []
	$.each($tds, function () {
		COL_VAL.push($(this).text())
	});
	localStorage.setItem('sapval', COL_VAL[1]);

	try {
		cpq.server.executeScript("SYGSPVSEED", {
			'HEADERVALUE': HEADERVALUE,
			'COL_VAL': COL_VAL
		}, function (datas) {



			if (document.getElementById("PIVOT_TABLE_ADD")) {

				document.getElementById("PIVOT_TABLE_ADD").innerHTML = datas;

			}


		});
	} catch (e) {
		console.log(e);
	}
	setTimeout(function () {

		$('div#PIVOT_TABLE_ADD div.row.modulebnr.brdr').html('SET ATTRIBUTE MATERIALS : EDIT<button type="button" class="close flt_rt" data-dismiss="modal">x</button>');
	}, 500);

}

localStorage.setItem('ACTIONVIEW', '');

function plantest(a) {
	PLANT_Id = a.split("||")[0]
	PLANT_Name = a.split("||")[1]
	document.getElementById('PLANT_Id').value = PLANT_Id;

	document.getElementById('PLANT_Name').value = PLANT_Name;

	//document.getElementById("myModalSection_popup").style.display = "none";
	$('div#myModalSection_popup div#RECRD_POPUP .row.modulebnr.brdr button.close').trigger('click');
}

function saptest(a) {

	SAP_Part_number = a.split("||")[0]

	SAP_Description = a.split("||")[1]

	document.getElementById("SAP_Part_number").value = SAP_Part_number;

	document.getElementById("SAP_Description").value = SAP_Description;

	//document.getElementById("myModalSection_popup").style.display = "none";
	$('div#myModalSection_popup div#RECRD_POPUP .row.modulebnr.brdr button.close').trigger('click');

}

// JW Script for Piviot Table Delete

function pivottable_set_edit(ele) {
	ids = $(ele).attr('id');

	var a = $(ele).closest('ul').closest('td').parent().attr('id');
	var record_value1 = $('#' + a).children('td:nth-child(2)').text().trim();

	var table_id = $(ele).closest('table').attr('id');
	localStorage.setItem('pivot_table_id', table_id);
	var lable = [];
	$("table#" + table_id + " tbody tr th").each(function () {
		if ($(this).text().trim() != '' && $(this).text().trim() != 'SELECT' && $(this).text().trim() != 'STATUS') {
			lable.push($(this).text().trim())
		}
	});

	var value = [];
	$(ele).closest('tr').find('td').each(function () {
		value.push($(this).text().trim());
	});
	localStorage.setItem('pivot_attr_value', ids);
	localStorage.setItem('pivot_table_value', value);
	localStorage.setItem('pivot_table_lable', lable);

}

function custom_field_change(ele) {

	ele_id = $(ele).attr('id');

	option_value = $('#' + ele_id).find(":selected").text();

	if (option_value == 'TEXT') {
		$('#Modelseg #container #LENGTH').closest('tr').css('display', '');
		$('#Modelseg #container #LENGTH').val('');
		$('#Modelseg #container #DECIMAL').closest('tr').css('display', 'none');
		$('#Modelseg #container #DECIMAL').val('');
		$('#Modelseg #container #PICKLIST_VALUES').closest('tr').css('display', 'none');
		$('#Modelseg #container #PICKLIST_VALUES').val('');
	} else if (option_value == 'PICKLIST') {
		$('#Modelseg #container #PICKLIST_VALUES').closest('tr').css('display', '');
		$('#Modelseg #container #PICKLIST_VALUES').val('');
		$('#Modelseg #container #LENGTH').closest('tr').css('display', 'none');
		$('#Modelseg #container #LENGTH').val('');
		$('#Modelseg #container #DECIMAL').closest('tr').css('display', 'none');
		$('#Modelseg #container #DECIMAL').val('');
	} else if (option_value == 'NUMBER') {
		$('#Modelseg #container #PICKLIST_VALUES').closest('tr').css('display', 'none');
		$('#Modelseg #container #PICKLIST_VALUES').val('');
		$('#Modelseg #container #LENGTH').closest('tr').css('display', '');
		$('#Modelseg #container #LENGTH').val('');
		$('#Modelseg #container #DECIMAL').closest('tr').css('display', '');
		$('#Modelseg #container #DECIMAL').val('');
	} else {
		$('#Modelseg #container #PICKLIST_VALUES').closest('tr').css('display', 'none');
		$('#Modelseg #container #PICKLIST_VALUES').val('');
		$('#Modelseg #container #LENGTH').closest('tr').css('display', 'none');
		$('#Modelseg #container #LENGTH').val('');
		$('#Modelseg #container #DECIMAL').closest('tr').css('display', 'none');
		$('#Modelseg #container #DECIMAL').val('');
	}
}

function namePOPUPFormatterPlant(value, row) {
	ids = row.detils
	return '<a id = "' + ids + '" onclick="plantest(this.id)">' + value + '</a>';
}

function namePOPUPFormatterPerson(value, row) {
	ids = row.detils
	return '<a id = "' + ids + '" onclick="Persontest(this.id)">' + value + '</a>';
}

function namePOPUPFormatterSap(value, row) {
	ids = row.detils
	return '<a id = "' + ids + '" onclick="saptest(this.id)">' + value + '</a>';
}

function PLANTPOPUPtHyperLink(value, row) {

	return '<a href="#" onclick="cont_PERSONALIZEopenview(this, \'PERSONALIZATION\')" data-target="#cont_viewModalSection"  data-toggle="modal">' + value + '</a>';

}

function PLANTPoptHyperLink(value, row) {

	return '<a href="#" onclick="cont_PERSONALIZEopenview(this, \'PLANT\')"  data-target="#cont_viewModalSection"  data-toggle="modal">' + value + '</a>';

}

function pop_Personalization_cancel_delete() {
	//$('.modal-dialog').css('cssText', 'width:900px !important');

	$('.close').trigger('click');
}

function ValueCodeOnchange(ele) {

	xval = ele.value
	valcodekey = xval.split('||')[0]
	valcodeValue = xval.split('||')[1]
	valcodekeyId = 'AttributeValueCode' + valcodekey.toString()
	document.getElementById(valcodekeyId).value = valcodeValue

}

function addnew_clear_selection(ele) {
	var table_id = localStorage.getItem('cont_table_id')
	var first_record_id = localStorage.getItem("first_record_id");
	var first_record_feild = localStorage.getItem("first_record_feild");
	var clear_btn_id = $(ele).attr('id');
	lookup_table = clear_btn_id.split('|')
	lookup_table_id = lookup_table[0]
	var clear_text = $(ele).text();

	divname = localStorage.getItem("divid");

	var treetab = localStorage.getItem("TREETAB");

	try {
		cpq.server.executeScript("SYUADNWPOP", {
			'TABLEID': table_id,
			'OPER': clear_text,
			'RECORDID': first_record_id,
			'RECORDFEILD': first_record_feild,
			'NEWVALUE': lookup_table_id,
			'LOOKUPOBJ': '',
			'LOOKUPAPI': ''
		}, function (data) {
			date_field = data[3];
			data_field = data[1];

			if (document.getElementById("VIEW_DIV_ID")) {

				if (treetab == 'YES') {
					$('#cont_viewModalSection').hide();

					document.getElementById("VIEW_DIV_ID").innerHTML = data[0];
				} else {
					document.getElementById("VIEW_DIV_ID").innerHTML = data[0];
				}
				assoc = JSON.parse(localStorage.getItem('assoc_array_value'))

				if (assoc) {
					$.each(assoc, function (key, value) {
						$('#VIEW_DIV_ID #container #' + key).val(value);
					});
				}
				//Added to hide or show field labels based on selection or clear selection of picklist values in approvers subtab - start
				if (divname == 'div_CTR_Approvers') {
					if ($('#PROFILE_ID option:selected').text() == '') {
						$('input#ROLE_ID').closest('tr').show();
						$('input#ROLE_ID').removeAttr('disabled');
						$('input#ROLE_ID').closest('td').find('input:nth-child(2)').css('display', 'inline-block');
					}
					if ($('#ROLE_ID option:selected').text() == '') {
						$('input#PROFILE_ID').closest('tr').show();
						$('input#PROFILE_ID').removeAttr('disabled');
						$('input#PROFILE_ID').closest('td').find('input:nth-child(2)').css('display', 'inline-block');
					}

				}
				//Added to hide or show field labels based on selection or clear selection of picklist values in approvers subtab - end
				try {
					if (date_field.length !== 0) {
						$.each(date_field, function (key, value) {
							onclick_datepicker(value)
						});
					}
				}
				catch (e) {
					console.log(e);
				}
				$.each(data_field, function (key, value) {
					$('#VIEW_DIV_ID #container #' + key).val(value);
					//A043S001P01-6240 ramesh start (+ sing some times not working with id, its working like selcters )
					if (divname.indexOf('+') != -1) {
						$('#container #' + key).val(value);
					} else {
						$('#' + divname + ' #container #' + key).val(value);
					}
					//A043S001P01-6240 ramesh end
				});

				//$('div#VIEW_DIV_ID div#Headerbnr').html('<div style="margin-bottom: -1px;" class="row modulebnr brdr">PRICE METHOD LOOKUP LIST<button type="button" style="float:right;" class="close" data-dismiss="modal">X</button></div><div class="col-md-12"><div class="row pad-10 bg-lt-wt brdr"><button type="button" class="btnconfig" id="YES|PRMETH" data-dismiss="modal">CANCEL</button><button type="button" class="btnconfig" id="PRMETH|PRICEMETHOD_RECORD_ID" onclick="addnew_clear_selection(this)">CLEAR SELECTION</button></div></div>');
			}
		});
	} catch (e) {
		console.log(e);
	}
}

function MutipleCheckBoxDrop_Onclick(ele) {

	var current_dropdown_offset = $(ele).offset().left;
	var window_width = $(window).width();
	var current_distance = window_width - current_dropdown_offset;

	if (current_distance < 250) {

		var drop_down_width = $(ele).css('width');
		var down_id_txt = $(ele).attr('aria-owns');
		var less_width = current_distance - 10;
		less_width = less_width + 'px';
		$('#' + down_id_txt).css('min-width', '0px');
		$('#' + down_id_txt).css('width', less_width);
		$('#' + down_id_txt).css('border-right', '1px solid #dcdcdc');
	} else { }
}

$(document).ready(function () {
	var pric_name = $('div#attributesContainer .row.tabsfiled .tabbable.show-large.btnmodule li#ModName span.main_ban_mod').text()
	if (pric_name == 'Pricebooks' || pric_name == 'Price Models') {

		//document.getElementById("iconchange").style.display = "inline-block";
		//document.getElementById("iconchange1").style.display = "none";

		document.getElementById("ModuleName").style.display = "inline-block";
		document.getElementById("ModuleName1").style.display = "none";

		document.getElementById("ModuleIcons").style.display = "inline-block";
		document.getElementById("ModuleIcons1").style.display = "none";

	}
	/*else {
			//document.getElementById("iconchange").style.display = "none";
			//document.getElementById("iconchange1").style.display = "inline-block";

			document.getElementById("ModuleName").style.display = "none";
			document.getElementById("ModuleName1").style.display = "inline-block";

			document.getElementById("ModuleIcons").style.display = "none";
			document.getElementById("ModuleIcons1").style.display = "inline-block";
		}*/
});

window.setInterval(function () {
	$('.txtArea').each(function (index) {
		var txtArea_height = $(this).css('height');

		$(this).parent().parent().css('height', txtArea_height);

		var txt_area_value = $(this).val().trim();
		if (txt_area_value != '$') {
			$('.txtArea').siblings('input').val(txt_area_value);
		} else {
			$('.txtArea').siblings('input').val(txt_area_value);
			$('.txtArea').val('');
		}
	});

}, 10);

function cont_lookup_popup_segment(elem) {

	value = $(elem).attr('id');
	look_up_id = $(elem).closest('td').children('input:first').attr('id');

	localStorage.setItem("look_up_id", look_up_id);

	input_val = []
	pop_id = []

	$("#segview #container input:not(.popup)").each(function () {
		if ($(this).attr('type') == 'CHECKBOX' && $(this).closest('div').attr('id') != 'checkboxes') {
			input_val.push($(this).prop('checked'))
			pop_id.push($(this).attr('id'))
		} else if ($(this).attr('type') != 'checkbox') {
			input_val.push($(this).val())
			pop_id.push($(this).attr('id'))
		}
	});


	$("#segview #container select:not(#select_id)").each(function () {
		input_val.push($(this).children("option:selected").text());
		pop_id.push($(this).attr('id'))
	});

	var assoc = {};
	for (var i = 0; i < pop_id.length; i++) {
		assoc[pop_id[i]] = input_val[i];
	}

	localStorage.setItem("assoc_array_value_view", JSON.stringify((assoc)));
	table = 'SGPRAD'

	keyData = localStorage.getItem('keyData');

	var var_data = $('input#PRICEMODEL_ID').val();

	try {
		cpq.server.executeScript("SYCTLKPPUP", {
			'TABLEID': value,
			'OPER': 'SGSGMT',
			'ATTRIBUTE_NAME': '',
			'ATTRIBUTE_VALUE': '',
			'GSCONTLOOKUP': '',
			'TABLENAME': table,
			'KEYDATA': keyData,
			'ARRAYVAL': assoc,
			'PRICEMODEL_ID': var_data
		}, function (dataset) {

			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			document.getElementById('VIEW_DIV_ID').innerHTML = datas;

			try {
				$('#' + data2).bootstrapTable({
					data: data1
				});
			} catch (err) {

				setTimeout(function () {

					$('#' + data2).bootstrapTable({
						data: data1
					});
				}, 5000);
			} finally { }

			try {
				eval(data3);
			} catch (e) {
				console.log(e);
			}

		});
	} catch (e) {
		console.log(e);
	}

	setTimeout(function () {
		$('.in div#container .row.pad-10.bg-lt-wt.brdr').before('<div class="ht_bg_wd_pt"></div>');
		//var popUp_height = $('div#VIEW_DIV_ID div#container').height();
		//var table_heigth = $('div#VIEW_DIV_ID div#container table').height();
		var popUp_height = $('.in div#container').height();
		var table_heigth = $('.in div#container table').height();

		if (table_heigth > popUp_height) {

			$('.modal-content div#container > div.row.pad-10.bg-lt-wt.brdr').css('cssText', 'width:96.3% !important');

		}
	}, 3000);

}

//Changed by VETRI for #A043S001P01-7102 - Start

function pivot_attr() {

	try {
		cpq.server.executeScript("SYGSLODPVT", {
			'Preview': 'True',
			'ACTION': ''
		}, function (dataset) {
			data = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data4 = dataset[4];
			data5 = dataset[5];
			data6 = dataset[6];
			data7 = dataset[7];
			data8 = dataset[8];


			if (data4 != 'NORECORDS') {
				if (document.getElementById('div_PIVOT_ATTR')) {
					document.getElementById('div_PIVOT_ATTR').innerHTML = data;
				}
			} else {
				if (document.getElementById('div_PIVOT_ATTR')) {
					document.getElementById('div_PIVOT_ATTR').innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$('#div_PIVOT_ATTR').addClass('brd1_pad5');
				}
			}

			try {
				$('#' + data2).bootstrapTable({
					data: data1,
					formatShowingRows: function (pageFrom, pageTo, totalRows) {
						return 'Number of items:  ' + totalRows;
					}
				});
			} catch (err) {
				setTimeout(function () {
					$('#' + data2).bootstrapTable({
						data: data1,
						formatShowingRows: function (pageFrom, pageTo, totalRows) {
							return 'Number of items:  ' + totalRows;
						}
					});
				}, 5000);
			} finally { }
			eval(data3);
			eval(data8);

		});
	} catch (e) {
		console.log(e);
	}
}

/* Add Attribute button - popUp select option 'begin'*/
function attrMaterial(ele) {

	$('table#table_MAATTR tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {

		$(this).removeAttr('onchange');
	});

	var a = $(ele).attr('checked');

	if (a != 'checked') {

		localStorage.setItem('attrMaterialLocal', 'checked');

		$(ele).attr('checked', 'checked');

		$('#table_MAATTR td.bs-checkbox input[type="checkbox"]').each(function (index) {
			var a = $(this).closest('tr').attr('class');

			if (a != 'selected') {
				$(this).trigger('click');
			}
		});

		$('table#table_MAATTR tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {

			$(this).attr('onchange', 'attrcheckbox(this)');
		});

	} else {

		localStorage.setItem('attrMaterialLocal', 'unchecked');
		$(ele).removeAttr('checked');
		$('#table_MAATTR td.bs-checkbox input[type="checkbox"]').each(function (index) {
			var a = $(this).closest('tr').attr('class');

			if (a == 'selected') {
				$(this).trigger('click');
			}
		});
		$('table#table_MAATTR tbody tr td.bs-checkbox input[type="checkbox"]').each(function (index) {

			$(this).attr('onchange', 'attrcheckbox(this)');
		});
	}
	setTimeout(function () {

		$('table#table_MAATTR thead tr th.bs-checkbox input.custom').after('<span class="lbl"></span>');

	}, 1000);


}

function attrcheckbox(ele) {

	var class_selected = $(ele).closest('tr').attr('class');
	if (class_selected == 'selected') {
		setMaterialAttr_tbl_content()
	} else {
		$('table#table_MAATTR thead tr th.bs-checkbox .th-inner .fht-cell .filter-control').html('<input type="checkbox" onclick="attrMaterial(this)" class="custom pos_rel_top5" name="btSelectAll"><span class="lbl></span>');

	}

}

function setMaterialAttr_tbl_content() {
	var count = 0;
	var index_count = 0;
	$('table#table_MAATTR tbody tr').each(function (index) {

		var z = $(this).attr('class');

		index_count = index;

		if (z == 'selected') {

			count = count + 1;

		}
	});
	index_count = index_count + 1;

	if (index_count == count) {

		$('table#table_MAATTR thead tr th.bs-checkbox input').trigger('click');
	}
}

/* To check select all check-box 'begin'*/
var previour_tr_length = 0;
setInterval(function () {

	if ($('table#table_MAATTR')) {
		var tr_length = $('table#table_MAATTR tbody tr').length;

		if (tr_length != previour_tr_length) {
			previour_tr_length = tr_length;
			$('table#table_MAATTR thead tr th.bs-checkbox .th-inner .fht-cell .filter-control').html('<input type="checkbox" onclick="attrMaterial(this)" class="custom pos_rel_top5" name="btSelectAll"><span class="lbl></span>');
		}
	}

}, 10);
/* To check select all check-box 'end'*/
/* Add Attribute button - popUp select option 'end'*/

function uncheckdata() {
	var id = localStorage.getItem('uncheckdata');
	if (id != "") {
		$('#' + id + ' > span').removeAttr('class')
		$("#" + id + " > span").attr("class", "jqx-listitem-state-normal jqx-item checkboxes jqx-rc-all")
		localStorage.getItem("uncheckdata", "");
	}

}
/* CONFIGURATOR UPDATE 'BEGIN' */

localStorage.setItem('PriceClassesChild', '0');
localStorage.setItem("Banner_Hiding_Var", '0');
/* CONFIGURATOR UPDATE 'END' */
/*CHANGE RECORD ID TO CPQID */
localStorage.setItem('active_tab_name_text', '');

function currencySymbol_addnew() {
	var av_cur = localStorage.getItem('avoidCurrency');
	if (av_cur == '1') {
		var KeyToCurrency_value = $('span.product_txt_to_top').text();

		var avoid_loading_val = localStorage.getItem('avoid_loading');

		if (avoid_loading_val == '1') {

			try {
				cpq.server.executeScript("SYUCURSYMB", {
					'KeyToCurrency_value': KeyToCurrency_value
				}, function (datas) {
					data = datas[0]
					data1 = datas[1]
					if (data) {

						$(data).each(function (index) {
							var count = 0;
							var currency_list_value = data[index];
							var decimal_val = data1[index]

							if (currency_list_value) {
								var currency_field_label_symbol = currency_list_value.split('|');
								$('.iconhvr label.col-md-2').each(function (indexval) {

									var lbl_txt = $(this).text().trim();

									if (lbl_txt == currency_field_label_symbol[0]) {

										var inp_val_to_concat = $(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').val();

										if ((/^[a-zA-Z0-9-. ]*$/).test(inp_val_to_concat) == false) {

											if (lbl_txt == 'Merch/Oth Mtrl Cost in SO Curr' || lbl_txt == 'Merchandise / Other Material Cost in Sales Org Currency') {
												count = count + 1;

												if (count > 1) {
													$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').attr('type', 'text');
													inp_val_to_concat_spilt = inp_val_to_concat.split('');
													inp_val_to_concat_spilt_len = inp_val_to_concat_spilt.length
													if (inp_val_to_concat_spilt[inp_val_to_concat_spilt_len - 1] != '') {
														var concat_val = Number(inp_val_to_concat_spilt[inp_val_to_concat_spilt_len - 1]).toFixed(decimal_val);

														var concat_symbol_value = currency_field_label_symbol[1] + '' + concat_val;

														$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').val(concat_symbol_value);
													}
												}
											} else {
												inp_val_to_concat = inp_val_to_concat.substring(1);
											}
										} else {

											var cu_val = $('#QSTN_SYSEFL_PB_01496').val();
											var inr_curr;
											if (cu_val) {
												inr_curr = cu_val.trim();
											}
											if (lbl_txt == 'Merch/Oth Mtrl Cost in SO Curr' || lbl_txt == 'Merchandise / Other Material Cost in Sales Org Currency') {
												count = count + 1;
												if (count > 1 && inr_curr != '') {

													$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').attr('type', 'text');
													if (inp_val_to_concat != '') {
														if ($.isNumeric(parseInt(inp_val_to_concat)) == false) {
															inp_val_to_concat = inp_val_to_concat.replace(/[^0-9]/ig, "");
														}

														var concat_val = Number(inp_val_to_concat).toFixed(decimal_val);

														var concat_symbol_value = currency_field_label_symbol[1] + '' + concat_val;

														$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').val(concat_symbol_value);
													}
												} else if (count == 1) {
													$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').attr('type', 'text');
													if (inp_val_to_concat != '') {
														if ($.isNumeric(parseInt(inp_val_to_concat)) == false) {
															inp_val_to_concat = inp_val_to_concat.replace(/[^0-9]/ig, "");
														}

														var concat_val = Number(inp_val_to_concat).toFixed(decimal_val);

														var concat_symbol_value = currency_field_label_symbol[1] + ' ' + concat_val;

														$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').val(concat_symbol_value);
													}
												} else { }
											} else {
												$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').attr('type', 'text');
												if (inp_val_to_concat != '') {

													if ($.isNumeric(parseInt(inp_val_to_concat)) == false) {
														inp_val_to_concat = inp_val_to_concat.replace(/[^0-9]/ig, "");
													}

													var concat_val = Number(inp_val_to_concat).toFixed(decimal_val);

													var concat_symbol_value = currency_field_label_symbol[1] + '' + concat_val;

													$(this).closest('.iconhvr').children('.col-md-3.pad-0').children('input').val(concat_symbol_value);
												}
											}
										}

									}
								});
							}
						});

					}
				});
			} catch (e) {
				console.log(e);
			}
		}
	}
}

function textfunct() {
	setTimeout(function () {
		var b = $('#QSTN_SYSEFL_MA_05164').val();
		var a = $('#HELP_TEXT').val();

		if (a != b) {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-info-circle').after('<i class="fa fa-warning drkred" ></i>');
		} else {
			$('#HELP_TEXT').parent().siblings('td').children('a').children('.fa-warning').remove();
		}

	}, 100);
}

$(document).on("click", ".editclick", function (e) {

	var element1 = $(this).find('i:first').attr('class');
	if (element1 == "fa fa-pencil") {

		var getid = $(this).parent().parent().parent().parent().attr('class');
		if (getid) {

			var splitid = getid.split("col");

			var genid = "dyn" + splitid[1].trim();

			var days = document.getElementById(genid).children;
			var element = $("#" + genid).find('a:first').attr('id');

			$("#" + element).trigger('click');
		}
	}

});

function RelatedContainerSorting(field, value, table_id) {

	var A_Keys = [];
	var A_Values = [];
	PR_CURR = $(".segment_part_number_text").text();
	var TP = localStorage.getItem('CommonTreeParam');
	PerPage = $("#" + table_id + "_PageCountValue").val();
	PageInform = "1___" + PerPage + "___" + PerPage;
	var subTabText = localStorage.getItem('currentSubTab');
	//document.getElementById(table_id+"_page_count").innerHTML = Math.round(page_count);

	$("#" + table_id + ' .filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			if (x) {
				y = x.split("-").slice(-1)[0];
				xyz = $('#' + table_id + ' .' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			if (x) {
				y = x.split("-").slice(-1)[0];
				xyz = $('#' + table_id + ' .' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}



	});
	if (table_id == 'SYOBJR_98868_367DD2FA_9FE9_4DB9_906E_BD4ACB096E6F') {
		cpq_tab_id = localStorage.getItem('CurrentRecordId');
	}
	else {
		cpq_tab_id = ""
	}
	cpq.server.executeScript("SYLDRTLIST", {
		'REC_ID': table_id,
		'ATTRIBUTE_NAME': A_Keys,
		'ATTRIBUTE_VALUE': A_Values,
		'ACTION': 'PRODUCT_ONLOAD_FILTER',
		'SUBTAB': subTabText,
		'PerPage': PerPage,
		'PageInform': PageInform,
		'SortColumn': field,
		'SortColumnOrder': value,
		'PR_CURR': PR_CURR,
		'TP': TP,
		'equipment_id': localStorage.getItem('openedKit'),
		'CPQ_TAB_ID': cpq_tab_id
	}, function (dataset) {
		data2 = dataset[1];
		data1 = dataset[0];
		data13 = dataset[2];
		data4 = dataset[3];
		$('#' + table_id).bootstrapTable('load', dataset[0]);
		if (table_id == "SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161") {
			if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
				$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("disabled", "disabled");
			}
			else {
				$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").remove("disabled");
				$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
			}
		}

		if (data4) {
			eval(data4);
		}
		if (document.getElementById(table_id + "_totalItemCount")) {
			document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
		}
		if (document.getElementById(table_id + "_NumberofItem")) {
			document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
		}
		if (table_id.includes("SYOBJR_")) {
			if (data1.length == 0) {
				document.getElementById(table_id).deleteTFoot();
				var count_val = $("#" + table_id + " thead tr th").length;
				$("#" + table_id + " tbody").html("<tr class=\'noRecDisp\'><td colspan=" + parseInt(count_val) + " class=\'txtltimp\'>No Records to Display</td></tr>");
			}
		}

		data5_footer = dataset[4];
		if (table_id == "SYOBJR_00007_26B8147E_C59C_4010_AA3A_38176869E305") {
			//console.log('footer123')
			document.getElementById(table_id).deleteTFoot();
			$('#' + table_id + ' tbody').after(data5_footer);
		}

		//A055S000P01-682 Start To hide the key column
		//if (TreeParam == "Quote Preview"){
		//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
		//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
		//}
		//A055S000P01-682 end To hide the key column
	});
}


// NESTED GRID CONTAINER SORTING
function childgridcontainer(field, value, table_id) {
	localStorage.setItem("childtable", "True")
	var A_Keys = [];
	var A_Values = [];
	//PR_CURR = $(".segment_part_number_text").text();
	//var TP = localStorage.getItem('CommonTreeParam');
	PerPage = $("#" + table_id + "___PageCountValue").val();
	PageInform = "1___" + PerPage + "___" + PerPage;
	//document.getElementById(table_id+"_page_count").innerHTML = Math.round(page_count);

	$("#" + table_id + ' .filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			if (x) {
				y = x.split("-").slice(-1)[0];
				xyz = $('#' + table_id + ' .' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			if (x) {
				y = x.split("-").slice(-1)[0];
				xyz = $('#' + table_id + ' .' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}



	});
	TreeParam = localStorage.getItem("CommonTreeParam");
	TreeParentParam = localStorage.getItem("CommonTreeParentParam");
	TreeSuperParentParam = localStorage.getItem("CommonNodeTreeSuperParentParam");
	TopSuperParentParam = localStorage.getItem("CommonTopSuperParentParam");
	var tabname = 'Common Parent Child';
	cpq.server.executeScript("CQNESTGRID", {
		'REC_ID': table_id,
		'ATTRIBUTE_NAME': A_Keys,
		'ATTRIBUTE_VALUE': A_Values,
		'TABNAME': tabname,
		'ACTION': 'PRODUCT_ONLOAD_FILTER',
		'PerPage': PerPage,
		'PageInform': PageInform,
		'SortColumn': field,
		'SortColumnOrder': value
	}, function (dataset) {
		data2 = dataset[1];
		data1 = dataset[0];
		data13 = dataset[2];
		$('#' + table_id).bootstrapTable('load', data1);
		if (document.getElementById(table_id + "___totalItemCount")) {
			document.getElementById(table_id + "___totalItemCount").innerHTML = data2;
		}
		if (document.getElementById(table_id + "___NumberofItem")) {
			document.getElementById(table_id + "___NumberofItem").innerHTML = data13;
		}
		//A055S000P01-3263 issue 1 start
		// openedWithBundleParentTable=localStorage.getItem('openedWithBundleParentTableId');
		// setTimeout(()=>{
		// 	$('[id='+openedWithBundleParentTable+']:eq(1)').closest('td').children('a').click();
		// },500);
		//A055S000P01-3263 issue 1 end
		//A055S000P01-682 Start To hide the key column
		//if (TreeParam == "Quote Preview"){
		//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
		//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
		//}
		//A055S000P01-682 end To hide the key column
	});
}
function NestedContainerSorting(field, value, table_id, recordId) {
	//A055S000P01-21009
	ChildEquipcpId = "";
	//A055S000P01-21009
	if (table_id.includes("covered_obj_child")) {
		localStorage.setItem("sort", "off")
	}
	if (localStorage.getItem("sort")) {
		if (table_id == "table_covered_obj_parent" && localStorage.getItem("sort") == "off") {
			localStorage.setItem("sort", "on")
		}
		else {
			recordId = table_id.split("_")[3];
			var A_Keys = [];
			var A_Values = [];
			//PR_CURR = $(".segment_part_number_text").text();
			//var TP = localStorage.getItem('CommonTreeParam');
			PerPage = $("#" + table_id + "___PageCountValue").val();
			PageInform = "1___" + PerPage + "___" + PerPage;
			//document.getElementById(table_id+"_page_count").innerHTML = Math.round(page_count);

			$("#" + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					if (x) {
						y = x.split("-").slice(-1)[0];
						xyz = $('#' + table_id + ' .' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					if (x) {
						y = x.split("-").slice(-1)[0];
						xyz = $('#' + table_id + ' .' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}
				}
			});
			TreeParam = localStorage.getItem("CommonTreeParam");
			TreeParentParam = localStorage.getItem("CommonTreeParentParam");
			TreeSuperParentParam = localStorage.getItem("CommonNodeTreeSuperParentParam");
			TopSuperParentParam = localStorage.getItem("CommonTopSuperParentParam");
			var tabname = ''
			if (TreeParam == 'Fab Locations' && table_id.includes("table_equipment_parent") || TreeParentParam == 'Fab Locations' && table_id.includes("table_equipment_parent") || TreeSuperParentParam == 'Fab Locations' && table_id.includes("table_equipment_parent") || TopSuperParentParam == 'Fab Locations' && table_id.includes("table_equipment_parent") || TreeParam == 'Customer Information' && table_id.includes("table_equipment_parent") && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
				tabname = 'Equipment Parent Filter';
				ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			}
			else if (((TreeParam == "Sending Equipment" || TreeParam == "Receiving Equipment" || TreeParentParam == 'Sending Equipment' || TreeParentParam == 'Receiving Equipment') && table_id.includes("table_equipment_parent")) || ((TreeSuperParentParam == 'Sending Equipment' || TreeSuperParentParam == 'Receiving Equipment' || TreeParentParam == 'Complementary Products') && table_id.includes("table_equipment_parent"))) {
				tabname = 'Sending Equipment Parent Filter';
			}
			else if (TreeParam == 'Fab Locations' && table_id.includes("table_equipment_child") || TreeParentParam == 'Fab Locations' && table_id.includes("table_equipment_child") || TreeSuperParentParam == 'Fab Locations' && table_id.includes("table_equipment_child")) {
				tabname = 'Equipments child';
				ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			}
			else if (TreeParam == 'Customer Information' && table_id.includes("table_equipment_child") && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
				tabname = 'Equipments child';
				ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			}
			else if (TreeParam == 'Fab Locations' && table_id.includes("table_Contract_equipment_parent") || TreeParentParam == 'Fab Locations' && table_id.includes("table_Contract_equipment_parent") || TreeSuperParentParam == 'Fab Locations' && table_id.includes("table_Contract_equipment_parent")) {
				tabname = 'Contract Equipment Parent';
			}
			else if (TreeParentParam == 'Comprehensive Services' && table_id.includes("table_covered_obj_parent") || TreeSuperParentParam == 'Comprehensive Services' && table_id.includes("table_covered_obj_parent") || TreeTopSuperParentParam == 'Comprehensive Services' && table_id.includes("table_covered_obj_parent")) {
				tabname = 'Covered Object Parent';
			}
			else if (TreeParentParam == 'Complementary Products' && table_id.includes("table_covered_obj_parent") || TreeSuperParentParam == 'Complementary Products' && table_id.includes("table_covered_obj_parent") || TreeTopSuperParentParam == 'Complementary Products' && table_id.includes("table_covered_obj_parent")) {
				tabname = 'Covered Object Parent';
			}
			else if (TreeTopSuperParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child") || TreeSuperParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child") || TreeParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child") || TopSuperParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child") || TreeParentParam == 'Complementary Products' && table_id.includes("covered_obj_child")) {
				tabname = 'Covered Object Child';
				ChildEquipcpId = localStorage.getItem("CoveredobjectchildEquipmentcpId")
			}

			else if (TreeParentParam == 'Comprehensive Services' && table_id.includes("table_contract_covered_obj_parent") || TreeSuperParentParam == 'Comprehensive Services' && table_id.includes("table_contract_covered_obj_parent")) {
				tabname = 'Contract Covered Object Parent';
			}

			else if (TreeParam == "Quote Items" && table_id.includes("table_common_parent")) {
				tabname = 'Common Parent';
			}
			else if (table_id.includes("fts_covered_obj_child")) {
				tabname = 'Fts Assemblies Child';
			}
			else if (TreeParam == "Quote Items" && table_id.includes("WithBundleParentTable")) {
				tabname = 'Common Parent Child';

			}
			else if ((TreeParentParam == "Complementary Products" || (TreeParam == "Receiving Equipment" && table_id.includes("table_covered_obj_parent"))) && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
				tabname = 'Covered Object Parent'

			}
			cpq.server.executeScript("CQNESTGRID", {
				'REC_ID': recordId,
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'TABNAME': tabname,
				'ACTION': 'PRODUCT_ONLOAD_FILTER',
				'PerPage': PerPage,
				'PageInform': PageInform,
				'SortColumn': field,
				'SortColumnOrder': value,
				'TableId': table_id,
				'CPQ_TAB_ID': ChildEquipcpId
			}, function (dataset) {
				//$('#' + table_id).bootstrapTable('removeAll');
				data2 = dataset[1];
				data1 = dataset[0];
				data13 = dataset[2];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___totalItemCount")) {
					document.getElementById(table_id + "___totalItemCount").innerHTML = data2;
				}
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data13;
				}
				//A055S000P01-3263 issue 1 start
				// openedWithBundleParentTable=localStorage.getItem('openedWithBundleParentTableId');
				// setTimeout(()=>{
				// 	$('[id='+openedWithBundleParentTable+']:eq(1)').closest('td').children('a').click();
				// },500);
				//A055S000P01-3263 issue 1 end
				//A055S000P01-682 Start To hide the key column
				//if (TreeParam == "Quote Preview"){
				//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
				//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
				//}
				//A055S000P01-682 end To hide the key column
				if (data1.length == 0) {
					document.getElementById(table_id).deleteTFoot();
					var count_val = $("#" + table_id + " thead tr th").length;
					$("#" + table_id + " tbody").html("<tr class=\'noRecDisp\'><td colspan=" + parseInt(count_val) + " class=\'txtltimp\'>No Records to Display</td></tr>");
				}
				localStorage.setItem("sortedTableId", "")
			});
		}

	}
	else {
		recordId = table_id.split("_")[3];
		var A_Keys = [];
		var A_Values = [];
		//PR_CURR = $(".segment_part_number_text").text();
		//var TP = localStorage.getItem('CommonTreeParam');
		PerPage = $("#" + table_id + "___PageCountValue").val();
		PageInform = "1___" + PerPage + "___" + PerPage;
		//document.getElementById(table_id+"_page_count").innerHTML = Math.round(page_count);

		$("#" + table_id + ' .filter-control').each(function () {
			values = this.firstElementChild.className;
			if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
				x = values.split(' ')[2];
				if (x) {
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			}
			if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
				x = values.split(' ')[1];
				if (x) {
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			}
		});
		TreeParam = localStorage.getItem("CommonTreeParam");
		TreeParentParam = localStorage.getItem("CommonTreeParentParam");
		TreeSuperParentParam = localStorage.getItem("CommonNodeTreeSuperParentParam");
		TopSuperParentParam = localStorage.getItem("CommonTopSuperParentParam");
		var tabname = ''
		if (TreeParam == 'Fab Locations' && table_id.includes("table_equipment_parent") || TreeParentParam == 'Fab Locations' && table_id.includes("table_equipment_parent") || TreeSuperParentParam == 'Fab Locations' && table_id.includes("table_equipment_parent") || TopSuperParentParam == 'Fab Locations' && table_id.includes("table_equipment_parent")) {
			tabname = 'Equipment Parent Filter';
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
		}
		else if (((TreeParam == "Sending Equipment" || TreeParam == "Receiving Equipment" || TreeParentParam == 'Sending Equipment' || TreeParentParam == 'Receiving Equipment') && table_id.includes("table_equipment_parent")) || ((TreeSuperParentParam == 'Sending Equipment' || TreeSuperParentParam == 'Receiving Equipment' || TreeParentParam == 'Complementary Products') && table_id.includes("table_equipment_parent"))) {
			tabname = 'Sending Equipment Parent Filter';
		}
		else if (TreeParam == 'Fab Locations' && table_id.includes("table_equipment_child") || TreeParentParam == 'Fab Locations' && table_id.includes("table_equipment_child") || TreeSuperParentParam == 'Fab Locations' && table_id.includes("table_equipment_child")) {
			tabname = 'Equipments child';
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
		}
		else if (TreeParam == 'Customer Information' && table_id.includes("table_equipment_child") && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
			tabname = 'Equipments child';
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
		}
		else if (TreeParam == 'Fab Locations' && table_id.includes("table_Contract_equipment_parent") || TreeParentParam == 'Fab Locations' && table_id.includes("table_Contract_equipment_parent") || TreeSuperParentParam == 'Fab Locations' && table_id.includes("table_Contract_equipment_parent")) {
			tabname = 'Contract Equipment Parent';
		}
		else if (TreeParentParam == 'Comprehensive Services' && table_id.includes("table_covered_obj_parent") || TreeSuperParentParam == 'Comprehensive Services' && table_id.includes("table_covered_obj_parent") || TreeTopSuperParentParam == 'Comprehensive Services' && table_id.includes("table_covered_obj_parent")) {
			tabname = 'Covered Object Parent';
		}
		else if (TreeParentParam == 'Complementary Products' && table_id.includes("table_covered_obj_parent") || TreeSuperParentParam == 'Complementary Products' && table_id.includes("table_covered_obj_parent") || TreeTopSuperParentParam == 'Complementary Products' && table_id.includes("table_covered_obj_parent")) {
			tabname = 'Covered Object Parent';
		}
		else if (TreeTopSuperParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child") || TreeSuperParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child") || TreeParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child") | TopSuperParentParam == 'Comprehensive Services' && table_id.includes("covered_obj_child")) {
			tabname = 'Covered Object Child';
			ChildEquipcpId = localStorage.getItem("CoveredobjectchildEquipmentcpId")
		}

		else if (TreeParentParam == 'Comprehensive Services' && table_id.includes("table_contract_covered_obj_parent") || TreeSuperParentParam == 'Comprehensive Services' && table_id.includes("table_contract_covered_obj_parent")) {
			tabname = 'Contract Covered Object Parent';
		}

		else if (TreeParam == "Quote Items" && table_id.includes("table_common_parent")) {
			tabname = 'Common Parent';
		}

		else if (TreeParam == "Quote Items" && table_id.includes("WithBundleParentTable")) {
			tabname = 'Common Parent Child';
		}
		else if ((TreeParentParam == "Complementary Products" || (TreeParam == "Receiving Equipment" && table_id.includes("table_covered_obj_parent"))) && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
			tabname = 'Covered Object Parent'
		}
		else if (table_id.includes("table_event_parent")) {
			tabname = 'Events Parent'
		}
		cpq.server.executeScript("CQNESTGRID", {
			'REC_ID': recordId,
			'ATTRIBUTE_NAME': A_Keys,
			'ATTRIBUTE_VALUE': A_Values,
			'TABNAME': tabname,
			'ACTION': 'PRODUCT_ONLOAD_FILTER',
			'PerPage': PerPage,
			'PageInform': PageInform,
			'SortColumn': field,
			'SortColumnOrder': value,
			'TableId': table_id,
			'CPQ_TAB_ID': ChildEquipcpId
		}, function (dataset) {
			//$('#' + table_id).bootstrapTable('removeAll');
			data2 = dataset[1];
			data1 = dataset[0];
			data3 = dataset[3];
			data13 = dataset[2];
			//INC08700581 M
			data4 = dataset[4];
			//INC08700581 M
			$('#' + table_id).bootstrapTable('load', data1);
			if (document.getElementById(table_id + "___totalItemCount")) {
				document.getElementById(table_id + "___totalItemCount").innerHTML = data2;
			}
			if (document.getElementById(table_id + "___NumberofItem")) {
				document.getElementById(table_id + "___NumberofItem").innerHTML = data13;
			}
			//A055S000P01-3263 issue 1 start
			// openedWithBundleParentTable=localStorage.getItem('openedWithBundleParentTableId');
			// setTimeout(()=>{
			// 	$('[id='+openedWithBundleParentTable+']:eq(1)').closest('td').children('a').click();
			// },500);
			//A055S000P01-3263 issue 1 end
			//A055S000P01-682 Start To hide the key column
			//if (TreeParam == "Quote Preview"){
			//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
			//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
			//}
			//A055S000P01-682 end To hide the key column
			if (data1.length == 0) {
				document.getElementById(table_id).deleteTFoot();
				var count_val = $("#" + table_id + " thead tr th").length;
				// $("#" + table_id + " tbody").html("<tr class=\'noRecDisp\'><td colspan=" + parseInt(count_val) + " class=\'txtltimp\'>No Records to Display</td></tr>");

				$('#noRecDisp').remove();
				$('#' + table_id).after('<div id="noRecDisp" class="noRecord">No Records to Display</div>')
			}
			localStorage.setItem("sortedTableId", "")
			if (data3 != "True") {
				$('#' + table_id + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').removeAttr('disabled')
				$('#' + table_id + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').attr("onclick", "OnclickAssemblyEdit(this,'TKM')");
			}
			//INC08700581 M
			if (data3 == "include_selectall") {
				console.log('2344----');

				var get_include_select = localStorage.getItem("included_value_events_master")
				if (get_include_select == "false") { $('.incevents').prop('checked', false) }
				else {
					//$('.incevents').prop('checked', true);}
					$('.custom').prop('checked', true);
				}
			}
			//INC08700581 M
		});
	}

}


// Events NESTED GRID CONTAINER SORTING

function PmEventsNestedContainerSorting(field, value, table_id, ASSEMBLYID, EQUIPMENTID, KITID, KITNUMBER) {

	var A_Keys = [];
	var A_Values = [];
	//PR_CURR = $(".segment_part_number_text").text();
	//var TP = localStorage.getItem('CommonTreeParam');
	PerPage = $("#" + table_id + "___PageCountValue").val();
	PageInform = "1___" + PerPage + "___" + PerPage;
	//document.getElementById(table_id+"_page_count").innerHTML = Math.round(page_count);

	$("#" + table_id + ' .filter-control').each(function () {
		values = this.firstElementChild.className;
		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			values = values.split(' ');
			index = values.indexOf(values.find(ele => ele.includes('bootstrap-table-filter-control')))
			x = values[index];
			if (x) {
				y = x.split("-").slice(-1)[0];
				xyz = $('#' + table_id + ' .' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			if (x) {
				y = x.split("-").slice(-1)[0];
				xyz = $('#' + table_id + ' .' + x).val();
				if ($.inArray(y, A_Keys) === -1) {
					A_Keys.push(y);
					A_Values.push(xyz)
				};
			}
		}



	});
	TreeParam = localStorage.getItem("CommonTreeParam");
	TreeParentParam = localStorage.getItem("CommonTreeParentParam");
	TreeSuperParentParam = localStorage.getItem("CommonNodeTreeSuperParentParam");
	TopSuperParentParam = localStorage.getItem("CommonTopSuperParentParam");
	PM_ID = localStorage.getItem("PM_ID");

	if ((TopSuperParentParam == 'Comprehensive Services' || TreeParentParam == 'Comprehensive Services' || TreeParentParam == 'Complementary Products') && table_id.includes("table_Preventive_Maintainence_parent")) {
		var tabname = 'Preventive Maintainence Parent';
	}
	//A055S000P01-21122-start-M
	else if ((TopSuperParentParam == 'Comprehensive Services' || TreeParentParam == 'Comprehensive Services' || TreeParentParam == 'Complementary Products') && table_id.includes("table_preventive_maintainence_child")) {
		var tabname = 'Preventive Maintainence child Filter';
	}
	//A055S000P01-21122-End-M
	else if (TopSuperParentParam == "Product Offerings") {
		var tabname = 'Preventive Maintainence Parent';
	}

	cpq.server.executeScript("CQNESTGRID", {
		'REC_ID': table_id,
		'ATTRIBUTE_NAME': A_Keys,
		'ATTRIBUTE_VALUE': A_Values,
		'TABNAME': tabname,
		'ACTION': 'PRODUCT_ONLOAD_FILTER',
		'PerPage': PerPage,
		'PageInform': PageInform,
		'SortColumn': field,
		'SortColumnOrder': value,
		'KITID': KITID,
		'KITNUMBER': KITNUMBER,
		'ASSEMBLYID': ASSEMBLYID,
		'EQUIPMENTID': EQUIPMENTID,
		'PM_ID': PM_ID,
	}, function (dataset) {
		data2 = dataset[1];
		data1 = dataset[0];
		data13 = dataset[2];
		$('#' + table_id).bootstrapTable('load', data1);
		if (document.getElementById(table_id + "___totalItemCount")) {
			document.getElementById(table_id + "___totalItemCount").innerHTML = data2;
		}
		if (document.getElementById(table_id + "___NumberofItem")) {
			document.getElementById(table_id + "___NumberofItem").innerHTML = data13;
		}
		//A055S000P01-682 Start To hide the key column
		//if (TreeParam == "Quote Preview"){
		//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
		//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
		//}
		//A055S000P01-682 end To hide the key column
	});
}
// Add-On Product Sorting

function AddOnProductContainerSorting(field, value, table_id, A_Keys, A_Values_list, TABLEID, RECORDID, RECORDFEILD) {

	PerPage = $("#ShowResultCount").val();
	PageInform = "1___" + PerPage + "___" + PerPage;

	cpq.server.executeScript("SYUADNWPOP", {
		'TABLEID': TABLEID,
		'RECORDID': RECORDID,
		'RECORDFEILD': RECORDFEILD,
		'OPER': 'NO',
		'NEWVALUE': '',
		'LOOKUPOBJ': '',
		'LOOKUPAPI': '',
		'SortColumn': field,
		'SortColumnOrder': value,
		'PerPage': PerPage,
		'PageInform': PageInform

	}, function (dataset) {
		$('#' + table_id).bootstrapTable('load', dataset[3]);
		data15 = dataset[15]; data16 = dataset[16];
		var edit_index = $("#add_credits_add_new").find("[data-field='ZAFNOTE']").index() + 1;
		var zaftype_index = $("#add_credits_add_new").find("[data-field='ZAFTYPE']").index() + 1;
		var zafgb_index = $("#add_credits_add_new").find("[data-field='ZAFGBOOK']").index() + 1;
		var zuonr_index = $("#add_credits_add_new").find("[data-field='ZUONR']").index() + 1;
		var gjahr_index = $("#add_credits_add_new").find("[data-field='GJAHR']").index() + 1;
		var gaf_expirydate_index = $("#add_credits_add_new").find("[data-field='ZAFEXPIRY_DATE']").index() + 1;
		var belnr_index = $("#add_credits_add_new").find("[data-field='BELNR']").index() + 1;
		var unapplied_index = $("#add_credits_add_new").find("[data-field='UNBL_INGL_CURR']").index() + 1;
		var creditapplied_index = $("#add_credits_add_new").find("[data-field='CREDIT_APPLIED']").index() + 1;

		//A055S000P01-18702 - Starts
		var gb_index = $("#nso_addnew").find("[data-field='GREENBOOK']").index() + 1;
		var division_index = $("#nso_addnew").find("[data-field='DIVISION_ID']").index() + 1;
		var bu_index = $("#nso_addnew").find("[data-field='BUSINESS_UNIT']").index() + 1;
		var poss_nso_index = $("#nso_addnew").find("[data-field='POSS_NSO_PART_ID']").index() + 1;
		var poss_desc_index = $("#nso_addnew").find("[data-field='POSS_NSO_DESCRIPTION']").index() + 1;
		//A055S000P01-18702 - Ends

		$('#add_credits_add_new > tbody > tr').each(function () {
			var html_text = $(this).find('td:nth-child(' + edit_index + ')').text();
			$(this).find('td:nth-child(' + edit_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + zaftype_index + ')').text();
			$(this).find('td:nth-child(' + zaftype_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + zafgb_index + ')').text();
			$(this).find('td:nth-child(' + zafgb_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + zuonr_index + ')').text();
			$(this).find('td:nth-child(' + zuonr_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + gjahr_index + ')').text();
			$(this).find('td:nth-child(' + gjahr_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + gaf_expirydate_index + ')').text();
			$(this).find('td:nth-child(' + gaf_expirydate_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + belnr_index + ')').text();
			$(this).find('td:nth-child(' + belnr_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + unapplied_index + ')').text();
			$(this).find('td:nth-child(' + unapplied_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + creditapplied_index + ')').text();
			$(this).find('td:nth-child(' + creditapplied_index + ')').attr('title', html_text);
		})
		//A055S000P01-18702 - Starts
		$('#nso_addnew > tbody > tr').each(function () {
			var html_text = $(this).find('td:nth-child(' + gb_index + ')').text();
			$(this).find('td:nth-child(' + gb_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + division_index + ')').text();
			$(this).find('td:nth-child(' + division_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + bu_index + ')').text();
			$(this).find('td:nth-child(' + bu_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + poss_nso_index + ')').text();
			$(this).find('td:nth-child(' + poss_nso_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + poss_desc_index + ')').text();
			$(this).find('td:nth-child(' + poss_desc_index + ')').attr('title', html_text);
		})
		//A055S000P01-18702 - Ends

		if (document.getElementById("RecordsStartAndEnd")) { document.getElementById("RecordsStartAndEnd").innerHTML = data15; };
		if (document.getElementById("TotalRecordsCount")) { document.getElementById("TotalRecordsCount").innerHTML = data16; }
	})
}

// ADD NEW CONTAINER SORTING

function AddNewContainerSorting(field, value, table_id, A_Keys, A_Values_list, TABLEID, RECORDID, RECORDFEILD) {

	PerPage = $("#ShowResultCount").val();
	PageInform = "1___" + PerPage + "___" + PerPage;
	//console.log("666 PerPage  ---->"+PerPage)
	//console.log("666 PageInform  ---->"+PageInform)

	var A_Values = []
	$.each(A_Values_list, function (index, value) {
		//var filter_class = table_id + ".bootstrap-table-filter-control-" + value
		//console.log( filter_class );
		//console.log( '33333 value --->'+value );
		var data = value
		//'$("#'+filter_class+').val();'
		A_Values.push(data);
	});
	var action = '';
	if (table_id == 'replace-account') {
		action = 'REPLACE';
	}
	Hardcoded_data = ['', '', '', '']
	cpq.server.executeScript("SYUADNWPOP", {
		'A_Keys': A_Keys,
		'A_Values': A_Values_list,
		'TABLEID': TABLEID,
		'RECORDID': RECORDID,
		'RECORDFEILD': RECORDFEILD,
		'OPER': 'NO',
		'NEWVALUE': '',
		'LOOKUPOBJ': '',
		'LOOKUPAPI': '',
		'SortColumn': field,
		'SortColumnOrder': value,
		'PerPage': PerPage,
		'PageInform': PageInform,
		'TOOL_TYPE': action,
		'SUBTAB': $('#COMMON_TABS ul li.active').text().trim()

	}, function (dataset) {
		if (table_id == 'Coveredobjectsaddnew') {
			$('#' + table_id).bootstrapTable('load', dataset[3]);
			data6 = dataset[6];
			$('#Coveredobjectsaddnew_footer').html(data6)
		}

		if (table_id == "replace-account") {
			$('#replace-account > tbody > tr').each(function () {
				var element = $(this).find('td:nth-child(5)');
				var text = $(element).text();
				$(element).attr('title', text);

			});
		}
		data15 = dataset[15]; data16 = dataset[16];

		// if (data3 == "NORECORDS"){
		// 	setTimeout(function () {
		// 		$('#'+table_id+' > tbody').html('<tr class="noRecDisp"><td colspan="7" class="txt_al_lt_imp">No Records to Display</td></tr>')
		// 	}, 1000);
		// 	// document.getElementById(table_id).innerHTML = '<div class="noRecDisp">No Records to Display</div>';
		// 	// $('#'+table_id).addClass('brd1_pad5');
		// }
		var edit_index = $("#add_credits_add_new").find("[data-field='ZAFNOTE']").index() + 1;
		var zaftype_index = $("#add_credits_add_new").find("[data-field='ZAFTYPE']").index() + 1;
		var zafgb_index = $("#add_credits_add_new").find("[data-field='ZAFGBOOK']").index() + 1;
		var zuonr_index = $("#add_credits_add_new").find("[data-field='ZUONR']").index() + 1;
		var gjahr_index = $("#add_credits_add_new").find("[data-field='GJAHR']").index() + 1;
		var gaf_expirydate_index = $("#add_credits_add_new").find("[data-field='ZAFEXPIRY_DATE']").index() + 1;
		var belnr_index = $("#add_credits_add_new").find("[data-field='BELNR']").index() + 1;
		var unapplied_index = $("#add_credits_add_new").find("[data-field='UNBL_INGL_CURR']").index() + 1;
		var creditapplied_index = $("#add_credits_add_new").find("[data-field='CREDIT_APPLIED']").index() + 1;

		var gb_index = $("#nso_addnew").find("[data-field='GREENBOOK']").index() + 1;
		var division_index = $("#nso_addnew").find("[data-field='DIVISION_ID']").index() + 1;
		var bu_index = $("#nso_addnew").find("[data-field='BUSINESS_UNIT']").index() + 1;
		var poss_nso_index = $("#nso_addnew").find("[data-field='POSS_NSO_PART_ID']").index() + 1;
		var poss_desc_index = $("#nso_addnew").find("[data-field='POSS_NSO_DESCRIPTION']").index() + 1;

		$('#add_credits_add_new > tbody > tr').each(function () {
			var html_text = $(this).find('td:nth-child(' + edit_index + ')').text();
			$(this).find('td:nth-child(' + edit_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + zaftype_index + ')').text();
			$(this).find('td:nth-child(' + zaftype_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + zafgb_index + ')').text();
			$(this).find('td:nth-child(' + zafgb_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + zuonr_index + ')').text();
			$(this).find('td:nth-child(' + zuonr_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + gjahr_index + ')').text();
			$(this).find('td:nth-child(' + gjahr_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + gaf_expirydate_index + ')').text();
			$(this).find('td:nth-child(' + gaf_expirydate_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + belnr_index + ')').text();
			$(this).find('td:nth-child(' + belnr_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + unapplied_index + ')').text();
			$(this).find('td:nth-child(' + unapplied_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + creditapplied_index + ')').text();
			$(this).find('td:nth-child(' + creditapplied_index + ')').attr('title', html_text);
		})
		$('#nso_addnew > tbody > tr').each(function () {
			var html_text = $(this).find('td:nth-child(' + gb_index + ')').text();
			$(this).find('td:nth-child(' + gb_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + division_index + ')').text();
			$(this).find('td:nth-child(' + division_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + bu_index + ')').text();
			$(this).find('td:nth-child(' + bu_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + poss_nso_index + ')').text();
			$(this).find('td:nth-child(' + poss_nso_index + ')').attr('title', html_text);
			var html_text = $(this).find('td:nth-child(' + poss_desc_index + ')').text();
			$(this).find('td:nth-child(' + poss_desc_index + ')').attr('title', html_text);
		})
		$('.custom').attr('onchange', 'credit_button_enable()');

		if (document.getElementById("RecordsStartAndEnd")) { document.getElementById("RecordsStartAndEnd").innerHTML = data15; };
		if (document.getElementById("TotalRecordsCount")) { document.getElementById("TotalRecordsCount").innerHTML = data16; }
	})


}

// QUOTE ITEM CONTAINER SORTING

function QuoteitemContainerSorting(field, value, table_id, ATTRIBUTE_NAME, ATTRIBUTE_VALUE, PR_CURR, TP, SUBTAB) {

	PerPage = $("#" + table_id + "_PageCountValue").val();
	PageInform = "1___" + PerPage + "___" + PerPage;

	cpq.server.executeScript("SYLDRTLIST", {
		'REC_ID': table_id,
		'ATTRIBUTE_NAME': ATTRIBUTE_NAME,
		'ATTRIBUTE_VALUE': ATTRIBUTE_VALUE,
		'ACTION': 'PRODUCT_ONLOAD_FILTER',
		'PR_CURR': PR_CURR,
		'TP': TP,
		'SUBTAB': SUBTAB,
		'SortColumn': field,
		'SortColumnOrder': value,
		'PerPage': PerPage,
		'PageInform': PageInform

	}, function (dataset) {
		$('#' + table_id).bootstrapTable('load', dataset[0]);
		if (document.getElementById(table_id + "_totalItemCount")) { document.getElementById(table_id + "_totalItemCount").innerHTML = dataset[1]; };
		if (document.getElementById(table_id + "_NumberofItem")) { document.getElementById(table_id + "_NumberofItem").innerHTML = dataset[2]; }
		if (dataset[0].length == 0) {
			$('#' + table_id + ' > tbody').html("<tr class=\"noRecDisp\"><td colspan=\"6\" class=\"txtltimp\">No Records to Display</td></tr>");
		}
		if (RecId == 'SYOBJR-00009') {
			annualgrid_show();
		}

	})
}

function imagePopupFunction(ele) {

	width_height = $('#MaterialDetail table select#IMAGE_SIZE').children("option:selected").text();
	width_height = width_height.replace('X', 'x')
	width_height = width_height.split('x');
	width = width_height[0].replace('W', '');
	height = width_height[1].replace('H', '');
	if (document.getElementById("image_url_div")) {
		document.getElementById("image_url").href = ele;
		document.getElementById("image_url").innerHTML = ele;
	}
	if (document.getElementById("imagerenderarea")) {
		document.getElementById("imagerenderarea").src = ele;
		document.getElementById("imagerenderarea").width = width;
		document.getElementById("imagerenderarea").height = height;
	}
}

$('#VIEW_DIV_ID a').attr('tabindex', '-1');

function bantoggle() {
	$(".dyn_main_head span").toggleClass("glyphicon-chevron-up glyphicon-chevron-down");
}

function bantoggle1() {
	$(".dyn_main_head span").toggleClass("glyphicon-chevron-up glyphicon-chevron-down");
}

function MutipleCheckBoxDrop_Onclick(ele) {

	var current_dropdown_offset = $(ele).offset().left;
	var window_width = $(window).width();
	var current_distance = window_width - current_dropdown_offset;

	if (current_distance < 250) {

		var drop_down_width = $(ele).css('width');
		var down_id_txt = $(ele).attr('aria-owns');
		var less_width = current_distance - 10;
		less_width = less_width + 'px';
		$('#' + down_id_txt).css('min-width', '0px');
		$('#' + down_id_txt).css('width', less_width);
		$('#' + down_id_txt).css('border-right', '1px solid #dcdcdc');
	} else { }
}

$(document).ready(function () {

	localStorage.setItem('SECTION_EDIT', '');

	var pric_name = $('div#attributesContainer .row.tabsfiled .tabbable.show-large.btnmodule li#ModName span.main_ban_mod').text()
	if (pric_name == 'Pricebooks' || pric_name == 'Price Models') {

		//document.getElementById("iconchange").style.display = "inline-block";
		//document.getElementById("iconchange1").style.display = "none";

		document.getElementById("ModuleName").style.display = "inline-block";
		document.getElementById("ModuleName1").style.display = "none";

		document.getElementById("ModuleIcons").style.display = "inline-block";
		document.getElementById("ModuleIcons1").style.display = "none";

	}
	/* else {
				//document.getElementById("iconchange").style.display = "none";
				//document.getElementById("iconchange1").style.display = "inline-block";

				document.getElementById("ModuleName").style.display = "none";
				document.getElementById("ModuleName1").style.display = "inline-block";

				document.getElementById("ModuleIcons").style.display = "none";
				document.getElementById("ModuleIcons1").style.display = "inline-block";
			}*/
});

function TabContainerFullList(ele) {
	try {
		tab = cpq.models.configurator.currentTab().name();
	}
	catch {
		tab = $('#cartListContainer div.tabsmenu ul#carttabs_head li.active a span').text();
	}

	if (tab == '') {
		tab = 'Quotes'
		if (localStorage.getItem('CURRENTTABFROMCARTPAGE') == "Contracts") {
			tab = 'Contracts'
		} else if (localStorage.getItem('BACKTOLISTCURRENTTAB') == "Contracts") {
			tab = 'Contracts'
		}
	}
	var flag = 0;
	if ($(ele)) {
		elem = $(ele).attr("id");
		if (elem == 'subtab_list1') {
			flag = 0;
		} else if (elem == 'subtab_list2') {
			flag = 1;
		} else if (elem == 'subtab_list3') {
			flag = 3;
		}
	}
	if (localStorage.getItem('approvalsClicked') == 'yes') {
		flag = 3;
	}
	//Showing approve/reject in list grid strts
	if (localStorage.getItem('grid_approval') == 'True' && tab.toUpperCase() == 'QUOTES') {
		flag = 3;
	}
	//Showing approve/reject in list grid ends
	localStorage.setItem("SortColumn", "");

	localStorage.setItem("SortColumnOrder", "");
	try {
		ProductId = cpq.models.configurator.productId();
	}
	catch {
		ProductId = "Quotes"
	}
	var quoteid = localStorage.getItem("Cartquoteid");
	localStorage.setItem("Cartquoteid", "")
	var id = ''
	var frameid = ''
	var currenturl = window.location.href
	if (currenturl.includes('Quoteid')) {
		id = currenturl.split('=')[1];
		quoteid = 'Addnew'
	}
	if (document.getElementsByTagName('iframe')) {
		if (window.frameElement) {
			frameid = window.frameElement.id
		}
	}
	//var pdt_txt = $('.product_txt_main_tab').text();
	//A055S000P01-3483 - start
	if (currenturl.includes('https://rssandbox.webcomcpq.com/Configurator.aspx')) {
		$('div.material_btn > div.material_btn_bg > div.segmentButtons .primary_grid_button').hide();
	}
	//A055S000P01-3483 - end
	if (ProductId == '273' && currenturl.includes('rss')) {
		if ($(".segmentButtons").length == 0) {
			$(".product_txt_div").after('<div class="segmentButtons"><div class="dropdown primary_grid_button"><a data-toggle="dropdown" class="dropdown-toggle"><img src="/mt/APPLIEDMATERIALS_PRD/images/attributeimages/Top-Menu-Icon.png"></a><ul class="dropdown-menu left" aria-labelledby="dropdownMenuButton"><li><button class="btnconfig cust_primary_btn" onclick="btn_banner_redirct_tab(this.id)" id="Quotes">Quotes</button></li><li><button class="btnconfig cust_primary_btn" onclick="btn_banner_redirct_tab(this.id)" id="Approvals">Approvals</button></li><li><button class="btnconfig cust_primary_btn" onclick="btn_banner_redirct_tab(this.id)" id="Contracts">Contracts</button></li><li><button class="btnconfig cust_primary_btn" onclick="btn_banner_redirct_tab(this.id)" id="Approvalsettings">Approval Settings</button></li></ul></div></div>')
		}
	}
	// Redirect from c4c to cpq - start
	var queryString = window.location.search;
	//var urlParams = new URLSearchParams(queryString);
	var opportunityData = queryString.match(/OpportunityID=([0-9]*)/);
	var C4COpportunityId = '';
	//if (urlParams.has('OpportunityId')){
	//	C4COpportunityId = urlParams.get('OpportunityId');
	//}
	if (opportunityData) {
		C4COpportunityId = opportunityData[1];
	}
	else {
		C4COpportunityId = localStorage.getItem("C4COpportunityId");
	}
	//var C4CQuoteId = localStorage.getItem("C4CQuoteId");
	//var C4COpportunityId = localStorage.getItem("C4COpportunityId");
	//console.log("===> C4CQuoteId ", C4CQuoteId);
	// Redirect from c4c to cpq - End
	if (ProductId == '273' && quoteid == 'Addnew') {
		try {
			cpq.server.executeScript("CQVEWQUOTE", {
				'Id': id
			}, function (datas) {
				var masterquote = datas[0];
				var masterquoteRecId = datas[1];
				var getaccess = datas[2];
				localStorage.setItem('masterquote', masterquote)
				localStorage.setItem('masterquoteRecId', masterquoteRecId)
				if (masterquote != '') {
					Material_view_obj(masterquote)
				}
				if (getaccess == "No access to app") { $('#898').css('display', 'none'); $('#899').css('display', 'none'); $('#attributesContainer').append('<div class="col-md-12"><div class="row modulesecbnr brdr" data-toggle="collapse" data-target="#SegAlert_notifcation" aria-expanded="true" >NOTIFICATIONS<i class="pull-right fa fa-chevron-down "></i><i class="pull-right fa fa-chevron-up"></i></div><div  id="SegAlert_notifcation" class="col-md-12  alert-notification  brdr collapse in" ><div class="col-md-12 alert-warning"   ><label ><i class="fa fa-exclamation-circle" aria-hidden="true"></i> WARNING : XXXXXX : You need at least one App assigned to your user Profile in order to use the system.  Please see your System Administrator in order to proceed.</label></div></div></div>') }
			});

		} catch (e) {
			setTimeout(function () {
				cpq.server.executeScript("CQVEWQUOTE", {
					'Id': id
				}, function (datas) {
					var masterquote = datas[0];
					var masterquoteRecId = datas[1];
					localStorage.setItem('masterquote', masterquote)
					localStorage.setItem('masterquoteRecId', masterquoteRecId)
					if (masterquote != '') {
						Material_view_obj(masterquote)
					}
				});
			}, 5000);
		}

	}
	else if (C4COpportunityId) { // Redirect from c4c to cpq - start
		try {
			cpq.server.executeScript("CQSYNCC4CQ", {
				'C4COpportunityId': C4COpportunityId
			}, function (datas) {
				var masterquote = datas[0];
				var masterquoteRecId = datas[1];
				localStorage.setItem('masterquote', masterquote)
				localStorage.setItem('masterquoteRecId', masterquoteRecId)
				if (masterquote != '') {
					if (opportunityData) {
						var newURL = (window.location.href).replace(queryString, "");
						window.history.pushState("", "", newURL);
					}
					Material_view_obj(masterquote)
				}
			});

		} catch (e) {
			console.log("============> Sync Quote Failed")
		}
		// Redirect from c4c to cpq - End
	}
	else {
		currentab_quotes = "Quotes";
		if (ele) {
			try {
				currentab_quotes = ele.id;
				var re = new RegExp("subtab_list");
				if (re.test(currentab_quotes)) {
					currentab_quotes = $("ul#carttabs_head li.active a span").text();
				}
			} catch (e) {
				currentab_quotes = "Quotes";
			}
		}
		if (localStorage.getItem('CURRENTTABFROMCARTPAGE') == "Contracts") {
			currentab_quotes = "Contracts";
		} else if (localStorage.getItem('BACKTOLISTCURRENTTAB') == "Contracts") {
			currentab_quotes = "Contracts";
			localStorage.setItem('BACKTOLISTCURRENTTAB', '');
		} else if (localStorage.getItem('CurrentTAB') == "Contracts" && localStorage.getItem('sales_current_tab') == "Contracts" && localStorage.getItem('CRMCONTRACTPAGE') == 1) {
			currentab_quotes = "Contracts";
			localStorage.setItem("CRMCONTRACTPAGE", 0);
		}
		cpq.server.executeScript("SYMCTABSGD", {
			'ACTION': 'FIRST',
			'FLAG': flag,
			'CurrentTab': currentab_quotes
		}, function (dataset) {
			//localStorage.setItem("CurrentTAB",currentab_quotes);
			localStorage.getItem('treeget', '1');
			datas = dataset[0];
			data1 = dataset[1];
			data2 = dataset[2];
			data3 = dataset[3];
			data5 = dataset[5];



			data6 = dataset[6];
			data7 = dataset[7];


			data8 = dataset[8];
			data9 = dataset[9];

			multiedit_data = dataset[10]
			data11 = dataset[11];
			data14 = dataset[14]

			data15 = dataset[15]
			data16 = dataset[16]
			data17 = dataset[17]
			data18 = dataset[18]
			data13 = dataset[13]
			//eval(data17);

			if (document.getElementById('TabContainerFull')) {

				document.getElementById('TabContainerFull').innerHTML = datas;
				if (data13 == 0) {
					document.getElementById('TabContainerFull').innerHTML = '<div class="noRecDisp">No Records to Display</div>';
					$("#TabContainerFull").closest('.Related').css('display', 'block');
					//$("#TabContainerFull").css("padding-top", "55px");
					$("div#TabContainerFull .noRecDisp").css("margin-top", "80px");
				}
				tab = tab.toUpperCase();
				if (tab != "TEAM APPROVAL QUEUE") {
					if ($("#subtab1").text() == "Waiting For Team Approval") {
						$(".subtab_inner").css('display', 'none')
					}
				}
				if (tab == "TEAM APPROVAL QUEUE") {
					$("thead.fullHeadFirst").css("top", "169px");
					$('table#FULLTABLELOAD').css('top', '34px !important');
					$(".subtab_inner").css('display', 'block');
				}
				if (data17) {
					if (tab == 'MY APPROVAL QUEUE' || tab == 'MY APPROVALS QUEUE' || tab == 'TEAM APPROVAL QUEUE' || tab == 'TEAM APPROVALS QUEUE') {
						// 					$('.product_txt_div').append(data18);
						$('.material_subtab_top').addClass('disp_none');
						$("#TabContainerFull").css("padding-top", "30px");
						$("div#TabContainerFull .noRecDisp").css("margin-top", "60px");
						$("#TabContainerFull .fullHeadFirst").addClass("top126");
						$('.material_btn_bg').append(data17);
						$('.set_float_List').addClass('enablesubtab');
					}
					if (ele != undefined && ele != '') {
						var e = ele.id;
						$(".subtab_inner li").removeClass("active");
						if (e.includes('subtab_list')) {
							$("li#" + e).addClass("active");
						}
						else {
							$("li#subtab_list1").addClass("active");
						}
						//$(ele + " a").css("font-weight", "600");
						//$(ele + " a").css("color", "#000000");
					}
					else {
						$("li#subtab_list1").addClass("active");
					}
				} else {
					if (tab == 'APPROVAL CHAINS' || tab == 'APPROVAL CHAIN' || tab == 'EMAIL TEMPLATES' || tab == 'EMAIL TEMPLATE') {
						$('.material_subtab_top').addClass('disp_none');
						//$('#TabContainerFull thead.fullHeadFirst').removeClass('top126');
						$('.set_float_List').removeClass('enablesubtab');
						$("thead.fullHeadFirst").css("top", "100px !important");
					}
				}
				if (data17 && data18 == tab && (ProductId != 710 && ProductId != 5310)) {
					$('.product_txt_div').append(data17);
					// $('li#subtab_list1').addClass('active');
					$('#material_subtab_list1').css('display', 'block');
					//$("table#FULLTABLELOAD").css("margin-top", "45px");
					setTimeout(function () {
						$("thead.fullHeadFirst").css("top", "100px !important");
						//$("thead.fullHeadFirst").css("top", "11%;");
						//$('#material_subtab_list1').addClass('active');
						if (!ele) {
							$("#carttabs_head li").removeClass("active");
							if (currentab_quotes) {
								$('#' + currentab_quotes).addClass("active");
							} else {
								$("li#Quotes.Quotes").addClass("active");
							}

							$("li#subtab_list1").addClass("active");
							if (localStorage.getItem('CURRENTTABFROMCARTPAGE') == "Contracts") {
								$("li#Quotes.Quotes").removeClass("active");
								$("li#Contracts.Quotes").addClass("active");
							}
							else if (localStorage.getItem('BACKTOLISTCURRENTTAB') == "Contracts") {
								$("li#Quotes.Quotes").removeClass("active");
								$("li#Contracts.Quotes").addClass("active");

							}
						} else if (ele != undefined || ele != '') {
							var e = ele.id;
							$(".subtab_inner li").removeClass("active");
							if (e.includes('subtab_list')) {
								$("li#" + e).addClass("active");
							}
							else {
								$("li#subtab_list1").addClass("active");
							}
							//$(ele + " a").css("font-weight", "600");
							//$(ele + " a").css("color", "#000000");
						}
						if (localStorage.getItem('approvalsClicked') == 'yes') {
							localStorage.setItem("approvalsClicked", "no");
							$(".subtab_inner li").removeClass("active");
							$('li#subtab_list3').removeClass("active");
							$('li#subtab_list2').removeClass("active");
							$('li#subtab_list1').addClass('active');
							$('#subtab_list1').click();

						}
						//Showing approve/reject in list grid starts
						tab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
						if (localStorage.getItem('grid_approval') == 'True' && tab.toUpperCase() == 'QUOTES') {
							localStorage.setItem("grid_approval", 'False')
							$(".subtab_inner li").removeClass("active");
							$('li#subtab_list1').removeClass("active");
							$('li#subtab_list2').removeClass("active");
							$('li#subtab_list3').addClass('active');
							$('#subtab_list3').click();

						}
						//Showing approve/reject in list grid ends

					}, 500);
				}

			}

			try {
				$('#' + data2).bootstrapTable({
					data: data1,
					resizable: true
				});
				APCount = 1;
				setInterval(function () {
					if (localStorage.getItem("AP_CTR_Clicked") != '' && document.getElementById('FULLTABLELOAD') && APCount == 1) {
						$('#FULLTABLELOAD tbody tr').find('a').find('abbr:contains("' + localStorage.getItem("AP_CTR_Clicked") + '")').parent().click();
						localStorage.setItem("AP_CTR_Clicked", '');
						APCount = 2;
					}
				}, 10);
			} catch (err) {

				setTimeout(function () {

					$('#' + data2).bootstrapTable({
						data: data1,
						resizable: true
					});
				}, 5000);
			} finally {
				try {
					eval(data5);
				} catch (err) {
					console.log(err);
				}
				try {
					eval(data9);
				} catch (err) {
					console.log(err);
				}
				try {

					eval(multiedit_data);
				} catch (err1) {
					console.log(err1);
				}
				try {
					eval(data11);
				} catch (err) {
					console.log(err);
				}
				localStorage.setItem("SortColumn", "");
				localStorage.setItem("SortColumnOrder", "");

				$(".JCLRgrip").mousedown(function () {

					$("thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;");
					$(".wrap-when-landing-C4C thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);top: 58px;border-right: 0px !important;");
					$("thead.fullHeadSecond").css("display", "none");
					$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
					$(".cart_page").parents('html').css("overflow", "hidden");
					//	$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');

				});
				var arr_value = [];
				$(".JCLRgrip").mouseup(function () {
					$('table#FULLTABLELOAD thead.fullHeadFirst button#Act_FULLTABLELOAD').attr('onclick', 'list_grid_wid()');
					var th_width_resize = [];
					$("#FULLTABLELOAD thead.fullHeadFirst tr th").each(function (index) {
						var wid = $(this).css("width");

						if (index == 0 || index == 1) {
							th_width_resize.push("50px");
						} else {
							th_width_resize.push(wid);
						}
					});

					$("thead.fullHeadFirst").css("cssText", "position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;");
					$(".wrap-when-landing-C4C thead.fullHeadFirst").css("cssText", "position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220); top: 58px;border-right: 0px !important;");
					$("thead.fullHeadSecond").css("display", "table-header-group");
					$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
					$(".cart_page").parents('html').css("overflow", "hidden");
					//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');

					var txt_alg = []
					$('table#FULLTABLELOAD thead.fullHeadSecond tr th').each(function (index) {
						var a = $(this).css('text-align');
						txt_alg.push(a);
					});
					$("#FULLTABLELOAD thead.fullHeadFirst tr th").each(function (index) {
						var num = th_width_resize[index].split("px");
						var numsp = parseInt(num[0]);
						numsp = numsp - 1;
						var make_str = numsp + "px";

						var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
						var d = "width:" + make_str + ";";

						//$(this).css("cssText", c);
						$(this).css({
							"width": make_str,
							"white-space": "nowrap",
							"overflow": "hidden",
							"text-overflow": "ellipsis",
							"text-align": txt_alg[index]
						});
						//$(this).children("div:first-child").css("cssText", c);
						$(this).children("div:first-child").css({
							"width": make_str,
							"white-space": "nowrap",
							"overflow": "hidden",
							"text-overflow": "ellipsis",
							"text-align": txt_alg[index]
						});
						//$(this).children("div.fht-cell").css("cssText", d);
						$(this).children("div.fht-cell").css({
							"width": make_str
						});
					});
					$("#FULLTABLELOAD thead.fullHeadSecond tr th").each(function (index) {
						var num = th_width_resize[index].split("px");
						var numsp = parseInt(num[0]);
						numsp = numsp - 1;
						var make_str = numsp + "px";

						var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
						var d = "width:" + make_str + ";";

						//$(this).css("cssText", c);
						$(this).css({
							"width": make_str,
							"white-space": "nowrap",
							"overflow": "hidden",
							"text-overflow": "ellipsis"
						});
						//$(this).children("div:first-child").css("cssText", c);
						$(this).children("div:first-child").css({
							"width": make_str,
							"white-space": "nowrap",
							"overflow": "hidden",
							"text-overflow": "ellipsis"
						});
						//$(this).children("div.fht-cell").css("cssText", d);
						$(this).children("div.fht-cell").css({
							"width": make_str
						});
					});



					$('div[id^=listBoxRelatedMutipleCheckBoxDrop_]').each(function (index) {

						var avoid_set = 0;
						var listdrop_disp = $(this).css('display');

						if (listdrop_disp == 'block') {
							var cur_grid = $(this).attr('id');

							var get_id = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').attr('id');

							var insert_data = cur_grid + '|' + get_id;

							if (arr_value.indexOf(insert_data) !== -1) {
								//arr_value.remove(insert_data);
								delete arr_value[insert_data];
								const index = arr_value.indexOf(insert_data);
								if (index > -1) {
									arr_value.splice(index, 1);
								}

								avoid_set = 1;
							} else {
								arr_value.push(insert_data);
							}

							if (avoid_set == 0) {
								var left_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left');

								if (left_drop) {
									left_drop = left_drop.split('px');
									left_drop = parseInt(left_drop[0]) - 1;

								}

								left_drop = left_drop + 'px';

								$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left', left_drop);


								var width_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').width();

								width_drop = width_drop + 1;

								width_drop = width_drop + 'px';

								$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').css('width', width_drop);
							}

						}
					});

				});
				//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
				CurrentTab = $("ul#carttabs_head li.active a span").text();
				if (CurrentTab == "Price Agreement") {
					Remove_DELETE_SG_SR_LIST('SG', "");
				}
			}

			$('#' + data2).after(data3);
			$("#FULLTABLELOAD th.bs-checkbox div.th-inner").before("<div class='pad0_btm1'>SELECT</div>");
			$('#FULLTABLELOAD tbody tr td.bs-checkbox input[type="checkbox"]').attr('class', 'custom');
			$('#FULLTABLELOAD tbody tr td.bs-checkbox input[type="checkbox"]').after('<span class="lbl"></span>');
			$('#FULLTABLELOAD thead tr th.bs-checkbox .th-inner input[type="checkbox"]').attr('class', 'custom');
			$('#FULLTABLELOAD thead tr th.bs-checkbox .th-inner input[type="checkbox"]').after('<span class="lbl"></span>');

			/* NEW CODE 'START' */
			var th_width = [];
			$('#FULLTABLELOAD thead tr th').each(function (index) {

				var wid = $(this).css('width');

				if (index == 0 || index == 1) {
					th_width.push('60px');
				} else {
					th_width.push(wid);
				}
			});
			var get_thead_code = $('#FULLTABLELOAD thead').html();

			var get_thead_join_code = "<thead class='fullHeadSecond brd_rgt0'>" + get_thead_code + "</thead>";
			$('#FULLTABLELOAD tbody').before(get_thead_join_code);

			//$('#FULLTABLELOAD tbody').css({"max-height":"53vh", "display":"block", "width":"100%", "table-layout":"fixed", "overflow-y":"auto"});
			//$('#FULLTABLELOAD tbody tr').css({"display":"table",  "width":"100%", "table-layout":"fixed"});


			$('#FULLTABLELOAD thead:first-child').css('cssText', 'position: fixed;z-index: 2;border-top: 1px solid #dcdcdc; border-right: 0 !important; ');
			$('.wrap-when-landing-C4C #FULLTABLELOAD thead:first-child').css('cssText', 'position: fixed;z-index: 2;border-top: 1px solid #dcdcdc;top: 58px;border-right: 0 !important;');
			$('#FULLTABLELOAD thead:first-child').attr('class', 'fullHeadFirst');
			$('#FULLTABLELOAD').css('cssText', 'margin-top: -5px;');
			$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
			$(".cart_page").parents('html').css("overflow", "hidden");
			//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');
			//$('#FULLTABLELOAD').before('<div class="lst_gd_tp_ac"></div>');

			$('#FULLTABLELOAD thead:first-child tr th').each(function (index) {


				var num = th_width[index].split('px');
				var numsp = parseInt(num[0]);
				numsp = numsp - 1;

				var make_str = numsp + 'px';

				if ($(this)[0].innerText == 'ACTIVE') {
					var style_min_max = 'width:' + make_str + ';white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
				} else {
					var style_min_max = 'width:' + make_str + ';white-space: nowrap;overflow: hidden;text-overflow: ellipsis';
				}


				$(this).css('cssText', style_min_max);
				if (index != 0 && index != 1) {
					$(this).children('.th-inner').css('cssText', style_min_max);
				}

			});

			/* NEW CODE 'END' */

			/* NEW CODE 2 'BEGIN' */

			var th_width_tree_tree = [];
			$('#table_price_class thead tr th').each(function (index) {


				var wid = $(this).css('width');

				if (index == 0 || index == 1) {
					th_width_tree_tree.push('60px');
				} else {
					th_width_tree_tree.push(wid);
				}
			});
			var get_thead_code = $('#table_price_class thead').html();
			var get_thead_join_code = "<thead class='fullHeadSecond'>" + get_thead_code + "</thead>";
			$('#table_price_class tbody').before(get_thead_join_code);

			$('#table_price_class thead:first-child').css('cssText', 'position: fixed;z-index: 2;border-top: 1px solid #dcdcdc;border-right: 0 !important;');
			$('.wrap-when-landing-C4C #table_price_class thead:first-child').css('cssText', 'position: fixed;z-index: 2;border-top: 1px solid #dcdcdc;top: 58px;border-right: 0 !important;');
			$('#table_price_class thead:first-child').attr('class', 'fullHeadFirst');
			$('#table_price_class').css('cssText', 'margin-top: -5px !important;');
			$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
			$(".cart_page").parents('html').css("overflow", "hidden");
			//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');
			//$('#table_price_class').before('<div class="lst_gd_tp_ac"></div>');

			$('#table_price_class thead:first-child tr th').each(function (index) {


				var num = th_width_tree_tree[index].split('px');
				var numsp = parseInt(num[0]);
				numsp = numsp - 1;

				var make_str = numsp + 'px';

				var style_min_max = 'width:' + make_str + ';white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';

				$(this).css('cssText', style_min_max);
				if (index != 0 && index != 1) {
					$(this).children('.th-inner').css('cssText', style_min_max);
				}

			});

			/* NEW CODE 2'END' */

			if (document.getElementById("NumberofItem")) {
				document.getElementById("NumberofItem").innerHTML = data14;
			}

			localStorage.setItem("SortColumn", "");

			localStorage.setItem("SortColumnOrder", "");
			setTimeout(function () {
				//CurrentTab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
				CurrentTab = $("ul#carttabs_head li.active a span").text();
				if (CurrentTab == "Price Agreements") {
					Remove_DELETE_SG_SR_LIST('SG', "");
				}
			}, 2000);
		});
	}
}
// Added onclick function for QuoteID in Quote Tabs.
function gotquote_num_rev(ele) {
	var quote_no = $(ele).text();
	var rev_no = $('.segment_part_text').text();
	console.log('quote_no', quote_no)
	localStorage.setItem('QuoteIdNumber', quote_no);
	localStorage.setItem('QuoteIdvalue', ele);
	localStorage.setItem("CurrentNodeId", 0);
	localStorage.setItem("CurrentTAB", $("ul#carttabs_head li.active a span").text());
	localStorage.setItem("sales_current_tab", $("ul#carttabs_head li.active a span").text());
	localStorage.setItem(quote_no + "_" + rev_no + "_create_sow_flag", 'False');
	console.log('quoteid value--', ele)
	cpq.server.executeScript("CQQUOTEEDT", { 'Quoteid': ele, 'CurrentTab': $("ul#carttabs_head li.active a span").text() }, function (data) {
		if (data) {
			location.href = '\Cart.aspx?TabId=5'
		}
	});
	UsernameCheckForApproval();
}
function UsernameCheckForApproval() {
	Quname = localStorage.getItem("QuoteIdNumber");
	cpq.models.cartList.filter.quoteNumber(Quname)
}
function TabContainerFullList_New() {
	localStorage.setItem("SortColumn", "");
	localStorage.setItem("SortColumnOrder", "");

	cpq.server.executeScript("SYLISTGRID", {
		'ACTION': 'FIRST'
	}, function (dataset) {
		datas = dataset[0];
		data1 = dataset[1];
		data2 = dataset[2];
		data3 = dataset[3];
		data5 = dataset[5];
		data6 = dataset[6];
		data7 = dataset[7];
		data8 = dataset[8];
		data9 = dataset[9];
		data10 = dataset[10]
		data11 = dataset[11];
		data14 = dataset[14]
		data15 = dataset[15]
		data16 = dataset[16]
		data17 = dataset[17]
		eval(data17);
		if (document.getElementById('TabContainerFull')) {
			document.getElementById('TabContainerFull').innerHTML = datas;
		}
	});
}

function REMOVE_DELETE_CONTROLS(SIDs) {
	$.each(SIDs, function (index, value) {
		if (value != '') {
			$('#FULLTABLELOAD tbody tr td:nth-child(4):contains("' + value + '")').parent().find('.delete_list').find('a').attr('data-delete', "Yes");
		}
	});
}

function FirstPageLoad_paginationChild(tabname, rec, table_id) {
	TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'EntriesRelated_list' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {

		var totalItemCount = document.getElementById(table_id + "_totalItemCount").innerHTML;
		var page_count = document.getElementById(table_id + "_page_count").innerHTML;
		var PerPage = $("#" + table_id + "_PageCountValue").val();

	}
	else if (tabname == 'Quote' || tabname == 'Quotes' || tabname == "Contracts") {

		var totalItemCount = document.getElementById(table_id + "___totalItemCount").innerHTML;
		var page_count = document.getElementById(table_id + "___page_count").innerHTML;
		var PerPage = $("#" + table_id + "___PageCountValue").val();

	}
	else {

		var totalItemCount = document.getElementById("totalItemCount").innerHTML;
		var page_count = document.getElementById("page_count").innerHTML;
		var PerPage = $("#PageCountValue").val();
	}

	if (parseInt(page_count) > 1) {
		var a = 1;
		var b = parseInt(a) * parseInt(PerPage);

		if (tabname == 'MaterialTreeView' || tabname == 'AtrrPivot_RelatedList' || tabname == 'RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'EntriesRelated_list' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {

			document.getElementById(table_id + "_page_count").innerHTML = parseInt(1);

			document.getElementById(table_id + "_NumberofItem").innerHTML = a + ' - ' + b + ' of ';

		}
		else if (tabname == 'Quote' || tabname == 'Quotes' || tabname == 'Contract') {

			document.getElementById(table_id + "___page_count").innerHTML = parseInt(1);

			document.getElementById(table_id + "___NumberofItem").innerHTML = a + ' - ' + b + ' of ';

		}
		else {
			document.getElementById("page_count").innerHTML = parseInt(1);

			document.getElementById("NumberofItem").innerHTML = a + ' - ' + b + ' of ';

		}

		var PageInform = a + '___' + b + '___' + a;

		var A_Keys = []
		var A_Values = [];

		if (tabname == 'Categories') {

			var A_Keys = ["CATEGORY_RECORD_ID", "CATEGORY_NAME", "CATEGORY_ID", "RANK"]

			var CATEGORY_NAME = $("#catTreeTable_CATEGORY_NAME_InputFilter").val();
			var CATEGORY_ID = $("#catTreeTable_CATEGORY_ID_InputFilter").val();
			var RANK = $("#catTreeTable_RANK_InputFilter").val();

			A_Values.push('');
			A_Values.push(CATEGORY_NAME);
			A_Values.push(CATEGORY_ID);
			A_Values.push(RANK);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'CategoriesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
			});
		}
		// A043S001P01-10888 START
		else if (tabname == 'Roles') {

			var A_Keys = ["ROLE_RECORD_ID", "ROLE_NAME", "ROLE_ID", "ROLE_DESCRIPTION", "PAR_ROLE_RECORD_ID", "PAR_ROLE_ID", "START_PAGE"]


			//$('.e-filtertext').each(function() {

			//values = this.name;

			//A_Keys.push(values);

			//});
			var ROLE_NAME = $("#RolesTreeTable_ROLE_NAME_InputFilter").val();
			var ROLE_ID = $("#RolesTreeTable_ROLE_ID_InputFilter").val();
			var ROLE_DESCRIPTION = $("#RolesTreeTable_ROLE_DESCRIPTION_InputFilter").val();
			var PAR_ROLE_ID = $("#RolesTreeTable_PAR_ROLE_ID_InputFilter").val();
			var START_PAGE = $("#RolesTreeTable_START_PAGE_InputFilter").val();

			A_Values.push('');
			A_Values.push(ROLE_NAME);
			A_Values.push(ROLE_ID);
			A_Values.push(ROLE_DESCRIPTION);
			A_Values.push(PAR_ROLE_ID);
			A_Values.push(START_PAGE);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'RolesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
			});
		}
		// A043S001P01-10888 END
		else if (tabname == 'Price Classes') {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				/*
				if ((values.split(' ').length) == 2) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];

					xyz = $('.' + x).val();

					A_Keys.push(y);
					A_Values.push(xyz);
				} else {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];

					xyz = $('.' + x).val();

					A_Keys.push(y);
					A_Values.push(xyz);
				}*/
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}

			});
			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'PriceClassesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#table_price_class').bootstrapTable('load', data1);
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data11;
				}
			});
		}
		//////////////////////////////A055S000P01-3263 start
		else if (tabname == 'Quote' && table_id.includes("WithBundleParentTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId");
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'WITH BUNLDLE PARENT TABLE',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		/////////////////////////////A055S000P01-3263 end
		else if ((tabname == 'Quote' && TreeParentParam != "Complementary Products" && table_id.includes("table_equipment_parent")) && (TreeParam != "Sending Equipment" && TreeParam != "Receiving Equipment" && TreeParentParam != "Sending Equipment" && TreeParentParam != "Receiving Equipment") && (TreeSuperParentParam != "Sending Equipment" && TreeSuperParentParam != "Receiving Equipment")) { //Equipment Master starts..
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}

			});
			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#table_equipment_parent').bootstrapTable('load', data1);
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data11;
				}
			});
		} //Equipment Child starts...
		else if (tabname == 'Quote' && table_id.includes("table_event_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}

			});
			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Event Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data2 = datas[2];
				data11 = datas[11];
				data14 = datas[14];
				$('#table_event_parent').bootstrapTable('load', data1);
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data11;
				}

				if (data14 != "True") {
					$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').removeAttr('disabled')
					$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').attr("onclick", "OnclickAssemblyEdit(this,'TKM')");
				}

			});
		}
		else if (tabname == 'Quote' && table_id.includes("table_equipment_parent") && (TreeParentParam == "Sending Equipment" || TreeParentParam == "Receiving Equipment" || TreeParentParam == "Complementary Products" || TreeSuperParentParam == "Sending Equipment" || TreeSuperParentParam == "Receiving Equipment" || TreeParam == "Sending Equipment")) { //Equipment Master starts..
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};

				}

			});
			if (TreeParentParam == "Complementary Products" && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
				var curr_tabname = 'CovObj Master Pagination'
			}
			else {
				var curr_tabname = 'Sending Equipment Parent Pagination'
			}
			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': curr_tabname,
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				data2 = datas[2];
				$('#' + data2).bootstrapTable('load', data1);
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data11;
				}
			});
		}
		else if (tabname == 'Quote' && table_id.includes("table_events_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Events Child filter',
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		else if (tabname == 'Quote' && table_id.includes("table_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Equipment Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
					'CPQ_TAB_ID': ChildEquipcpId
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Child ends...

		//quote items node nested grid starts
		else if (tabname == 'Quote' && table_id.includes("CommonChildTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ');
					x = x[x.length - 1]
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'Common Child',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//quote items node nested grid ends...
		//Contract Equipment Master starts..
		else if (tabname == 'Contract' && table_id.includes("table_Contract_equipment_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Contract Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}

			});
		}
		//Contract Equipment Master ends..

		//Covered object Master starts..
		else if (tabname == 'Quote' && table_id.includes("table_covered_obj_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'CovObj Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//Covered object Master ends..
		//Covered object Child starts..
		else if (tabname == 'Quote' && table_id.includes("covered_obj_child")) {
			CoveredobjectEquipmentId = localStorage.getItem("CoveredobjectchildEquipmentId")
			CPQ_TAB_ID = localStorage.getItem("CoveredobjectchildEquipmentcpId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'CoveredObj Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': CoveredobjectEquipmentId,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CPQ_TAB_ID': CPQ_TAB_ID
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
					if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
						$("#" + table_id + " #INCLUDED").attr('disabled', 'disabled');
					}
					else {
						$("#" + table_id + " #INCLUDED").removeAttr('disabled');
						$("#" + table_id + " #INCLUDED").attr("onclick", "OnclickAssemblyEdit(this)");
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Covered object Child ends..
		else if (tabname == 'Quote' && table_id.includes("table_sending_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Sendingequp Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': ChildEquipmentId,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Covered object Master starts...
		else if (tabname == 'Contract' && table_id.includes("table_contract_covered_obj_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Covered object Master ends...
		//Events Master pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_Preventive_Maintainence_parent")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			sort_column = localStorage.getItem(table_id + '_SortColumn');
			sort_order = localStorage.getItem(table_id + '_SortColumnOrder');
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					values = values.split(' ');
					index = values.indexOf(values.find(ele => ele.includes('bootstrap-table-filter-control')))
					x = values[index];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Parent Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events Master pagination ends...
		//Events child pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_preventive_maintainence_child")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			Kit_Id = localStorage.getItem("KIT_ID")
			Kit_Number = localStorage.getItem("KIT_NUMBER")
			PM_Id = localStorage.getItem("PM_ID")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'KITID': Kit_Id,
					'KITNUMBER': Kit_Number,
					'PM_ID': PM_Id,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events child pagination ends...
		else if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'EntriesRelated_list' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {
			A_Keys = [];
			A_Values = [];
			PR_CURR = $(".segment_part_number_text").text();
			var TP = localStorage.getItem('CommonTreeParam');
			//table_list = ['prbkmaterial','prcfvavalue','EntriesRelated_list']
			/*if(jQuery.inArray(tabname, table_list)){
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;

					//if ((values.split(' ').length) == 2) {
						if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
							x = values.split(' ')[1];console.log(x);
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}
						if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
							x = values.split(' ')[2];
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}

					console.log(A_Keys,A_Values)
				});
			}
			else{*/
			var table_divid = '';
			if ($('table#' + table_id).closest('div[id]').attr('id') && ($('table#' + table_id).closest('div[id]').attr('id')).indexOf('div_') == -1) {
				table_divid = 'div#' + $('table#' + table_id).closest('div[id]').attr('id');
			}
			$(table_divid + ' table#' + table_id + ' .filter-control').each(function () {

				values = this.firstElementChild.className;

				//if ((values.split(' ').length) == 2) {
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

				/*} else {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					A_Keys.push(y);
					A_Values.push(xyz);
				*/ //}
			});
			//}

			if (tabname == 'RelatedList') {
				//Code to remain sorting after pagination change -- start
				sort_order = '';
				sort_column = '';
				$('#' + table_id + ' > thead > tr > th').each(function () {
					if ($(this).find('div').attr('class').includes('asc')) {
						sort_order = 'asc';
						sort_column = $(this).attr('data-field');
					}
					if ($(this).find('div').attr('class').includes('desc')) {
						sort_order = 'desc';
						sort_column = $(this).attr('data-field');
					}
				});
				if (table_id == 'SYOBJR_98868_367DD2FA_9FE9_4DB9_906E_BD4ACB096E6F') {
					cpq_tab_id = localStorage.getItem('CurrentRecordId');
				}
				else {
					cpq_tab_id = ""
				}
				//Code to remain sorting after pagination change -- end
				cpq.server.executeScript("SYLDRTLIST", {
					'REC_ID': table_id,
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'PR_CURR': PR_CURR,
					'TP': TP,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order,
					'SUBTAB': localStorage.getItem("currentSubTab"),
					'equipment_id': localStorage.getItem('openedKit'),
					'CPQ_TAB_ID': cpq_tab_id
				}, function (dataset) {



					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (table_id == "SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161") {
						if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("disabled", "disabled");
						}
						else {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").remove("disabled");
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
						}
					}
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}
					//A055S000P01-682 Start To hide the key column
					//if (TreeParam == "Quote Preview"){
					//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
					//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
					//}
					//A055S000P01-682 end To hide the key column
					if (RecId == 'SYOBJR-00009') {
						annualgrid_show()
					}

				});

			}

			if (tabname == 'MaterialTreeView') {
				RECORD_ID = localStorage.getItem('MtrlPaginationRecId');
				TreeParam = localStorage.getItem('MtrlPaginationTreeParam');
				ACTION = localStorage.getItem('MtrlPaginationAction');
				if (ACTION == 'LOAD') {
					ACTION_ONCHANGE = 'PRODUCT_ONCHNAGE';
				} else {
					ACTION_ONCHANGE = 'CHILD_PRODUCT_ONCHNAGE';
				}
				cpq.server.executeScript("MATREEVIEW", {
					"TreeView": "TreeGridRight",
					"RelatedRecId": rec,
					"RECORD_ID": RECORD_ID,
					"TreeParam": TreeParam,
					"ATTRIBUTE_NAME": A_Keys,
					"ATTRIBUTE_VALUE": A_Values,
					"ACTION": ACTION_ONCHANGE,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {



					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}

				});
			} else if (tabname == 'AtrrPivot_RelatedList') {

				cpq.server.executeScript("MAATLOPIVT", {
					'Preview': 'True',
					'ACTION': '',
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {


					data2 = dataset[2];
					data1 = dataset[1];
					data10 = dataset[10];
					$('#' + data2).bootstrapTable('load', data1);
					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data10;
					}

				});

			} else if (tabname == 'PLANT_RelatedList') {

				cpq.server.executeScript("SYLDCTNPTL", {
					'ContainerType': 'DYNAMIC ROWS',
					'Row_Count': 'ButtonName',
					'New_CtrName': 'PLANT_AND_MATERIAL_ATTRIBUTES',
					'Column_Count': '0',
					'SQL_Expression': 'SYSEFL-MA-00469',
					'Column_Names_List': "[{'FIELD_NAME': 'KEY', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PERSONALIZATION_NAME'}, {'FIELD_NAME': 'PERSONALIZATION NAME', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_ID'}, {'FIELD_NAME': 'PERSONALIZATION TYPE', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_NAME'}, {'FIELD_NAME': 'SAP PART NUMBER', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SAP_PART_NUMBER'}]",
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {
					data2 = dataset[2];
					data1 = dataset[1];
					data7 = dataset[7];

					$('#' + data2).bootstrapTable('load', data1);

					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
					}

				});

			} else if (tabname == 'cartFields') {


				try {
					cpq.server.executeScript("SYLDCTFLDS", {
						'PerPage': PerPage,
						'PageInform': PageInform
					}, function (dataset) {
						data2 = dataset[2];
						data1 = dataset[1];
						data7 = dataset[7];

						$('#' + data2).bootstrapTable('load', data1);

						if (document.getElementById(data2 + "_NumberofItem")) {
							document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
						}

					});
				} catch (e) {
					console.log(e);
				}

			} else if (tabname == 'Pricefactor') {

				ParentNodeRecId = localStorage.getItem('CurrentRecordId');
				var QSt_id = '';
				var columns = '';
				var New_CtrName = '';

				TreeParam = localStorage.getItem('PrcTreeParam');
				if (table_id == 'SALES_ORG_LEVEL_DEFAULT_FACTORS_PageCountValue') {
					var QSt_id = 'SYSEFL-PB-00437';
					var columns = "[{'FIELD_NAME': 'SALES ORG ID', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SALESORG_ID'}]"
					var New_CtrName = 'GLOBAL SALESORG LIST PRICBOOK SET FACTORS';
					cpq.server.executeScript("SYLDCTNPTL", {
						'ParentNodeRecId': ParentNodeRecId,
						'ContainerType': 'DYNAMIC ROWS',
						'Row_Count': '',
						'New_CtrName': New_CtrName,
						'Column_Count': '2',
						'SQL_Expression': QSt_id,
						'Column_Names_List': columns,
						'PerPage': PerPage,
						'PageInform': PageInform
					},
						function (dataset) {

							data1 = dataset[1];
							data2 = dataset[2];
							data11 = dataset[11];

							$('#' + data1).bootstrapTable('load', data2);

							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
							}

						});
				} else if (table_id == 'PRICE_CLASS_LEVEL_FACTORS') {
					var QSt_id = 'SYSEFL-PB-00438';
					var allow = 0;
					for (var i = 0; i < A_Values.length; i++) {
						if (A_Values[i] != "") {
							allow = 1
						}
					}
					if (allow == 1) {

						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': 'PRICE_CLASS_LEVEL_FACTORS',
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': A_Keys,
							'ATTRIBUTE_VALUE': A_Values,
							'ACTION': 'PRODUCT_ONLOAD',
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[0];

								$('#PRICE_CLASS_LEVEL_FACTORS').bootstrapTable('load', data1);

							});

					} else {

						var columns = "[{'FIELD_NAME':'SALES ORG ID','DATA_TYPE':'NVARCHAR','API_METHOD': 'SALESORG_ID'},{'FIELD_NAME':'PRICE CLASS ID','DATA_TYPE':'NVARCHAR','API_METHOD':'PRICECLASS_ID'}]"
						var New_CtrName = 'G_SALESMODEL_CLS_PRBSET_FACTORS';
						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': New_CtrName,
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': columns,
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[1];
								data2 = dataset[2];
								data11 = dataset[11];

								$('#' + data1).bootstrapTable('load', data2);

								if (document.getElementById(data1 + "_NumberofItem")) {
									document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
								}

							});

					}
				}

			} else if (tabname == 'Price_factors') {
				/*var uniqueNames = []; var pageinform =[];
				var dict_new={};var pageinform_dict={};
				var num =1;var div='div_CTR_PRICEFACTORLOAD';
				if (localStorage.getItem("CurrentRecordId") == ''){
					div='div_G_SALESMODEL_CLS_PRBSET_FACTORS';
					num=5;
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS select").each(function(){
						if($.inArray($(this).attr("id"), uniqueNames) === -1) uniqueNames.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					uniqueNames.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							dict_new[ele] = PerPage;
						}else{
							dict_new[ele] = String($('#'+ele).val());
						}
					});
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS span").each(function(){
						if($.inArray($(this).attr("id"), pageinform) === -1) pageinform.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					pageinform.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							//pageinform_dict[ele] = PageInform;
							console.log('ffffff');
						}else{
							pageinform_dict[ele] = String($('#'+ele).text());
						}
					});
					document.getElementById(div).innerHTML='';
				}*/


				//console.log(dict_new);
				Record_id = localStorage.getItem("CurrentRecordId");
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				try {
					cpq.server.executeScript("PRPRFALOAD", {
						'TreeView': 'TreeGridRight',
						'Record_id': Record_id,
						'TreeParam': TreeParam,
						'TreeParentParam': TreeParentParam,
						'TreeSuperParentParam': TreeSuperParentParam,
						'PerPage': PerPage,
						'PageInform': PageInform,
						"Action": "Filter_load",
						"AttributeName": A_Keys,
						"AttributeValue": A_Values,
						"table_id": table_id
						//'tableperpage':dict_new,
						//'tables_pageinform':pageinform_dict
					}, function (dataset) {
						datas = dataset[0];
						const arrayToList = arr => arr.length ? ({
							value: arr[0]
						}) : null;
						data = arrayToList(datas).value;
						$("#" + data[2] + " tbody").empty();
						if (document.getElementById(table_id + "_NumberofItem")) {
							document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
						}

						if (document.getElementById(table_id + "_totalItemCount")) {
							document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
						}

						if (document.getElementById(table_id + "_page_count")) {
							document.getElementById(table_id + "_page_count").innerHTML = parseInt(1)
						}

						if (data[0].length != 0) {
							try {
								$("table#" + table_id).bootstrapTable("load", data[0]);
							} catch (e) {
								setTimeout(function () {
									$("table#" + table_id).bootstrapTable("load", data[0]);
								}, 1000);
							}
						}
						if (data[0].length == 0) {
							var count_val = $("#" + table_id + " thead tr th").length;
							$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
						}
						/*console.log(dataset);
						datas = dataset[0];
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data4 = dataset[4];
						data5 = dataset[5];
						data6 = dataset[6];
						data7 = dataset[7];
						data8 = dataset[8];
						if (dataset[0].length > 0){
							for(i=0; i < num;i++){
								tableheader=datas[i];
								tableids=data1[i];
								newlist=data2[i];
								dbl_clk_function=data3[i];
								filter_control_function =data4[i];
								filter_values =data5[i];
								NOrecords = data6[i];

								$('.CommonContainer').addClass('disp_blk');
								$('#'+div).addClass('disp_blk');
								if (NOrecords != 'NORECORDS') {
									if (document.getElementById(div)) {
										if (dataset[0].length ==1)
										{
											document.getElementById(div).innerHTML=''
											document.getElementById(div).innerHTML = tableheader;
											if (document.getElementById('container9101'))
											{
												$('#container9101').removeClass('disp_blk');
												$('#container9101').addClass('disp_none');
												$('.CommonContainer').addClass('disp_blk');
												$('#'+div).addClass('disp_blk');
											}
										}
										else{

											$('#container9101').removeClass('disp_none');
											$('#container9101').addClass('disp_blk');
											document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' + tableheader;
										}
									}
								} else {
									if (document.getElementById(div)) {
										document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' +'<div class="noRecDisp">No Records to Display</div>';
										$('#'+div).addClass('brd1_pad_5');
									}
								}
								if (dataset[0].length ==1)
									{
											$('#div_CTR_PRICEFACTORLOAD #' + tableids).bootstrapTable('load',newlist);
											$('#div_CTR_PRICEFACTORLOAD #' + tableids).after(data7[i]);
											if (document.getElementById(tableids + "_NumberofItem")) {
												document.getElementById(tableids + "_NumberofItem").innerHTML = data8[i];
											}
											if (document.getElementById(table_id + "_page_count")) {
												document.getElementById(table_id + "_page_count").innerHTML = parseInt(1)}
									}
								else{
									$('#'+tableids).bootstrapTable('load',newlist );
									$('#' + tableids).after(data7[i]);
									if (document.getElementById(tableids+ "_NumberofItem")) {
										document.getElementById(tableids+ "_NumberofItem").innerHTML = data8[i];
									}
									if (document.getElementById(table_id + "_page_count")) {
										document.getElementById(table_id + "_page_count").innerHTML = parseInt(1)}
								}
								if(localStorage.getItem("pricefactor_load")== "1" && CurrentRecordId == 'div_CTR_PRICEFACTORLOAD'){
									//$('.BTN_MA_ALL_REFRESH').click();
									localStorage.setItem("pricefactor_load", "0");
								}
								eval(dbl_clk_function);
								//eval(filter_control_function);
								//eval(data8);
								//$('#' + data1).after(data10);
								//eval(dataset[13]);

								$("#"+tableids+" tbody tr td").each(function(){
								var currentRow=$(this);
								if ($(this).text()=='-' )
								{
									$(this).text('0.00000')
								}
							});

							}
						}*/
					});

				} catch (e) {
					console.log(e);
				}
			} else if (tabname == 'EntriesRelated_list') {
				//10763 starts....
				TreeParentParam = ''
				TreeParam = localStorage.getItem('CommonTreeParam');
				//TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				if (TreeParam != 'Where Used') {
					$('.container_banner_inner_sec').css('display', 'none');
				}
				try {
					cpq.server.executeScript("PRLDMTRLGR", {

						"ACTION": 'PRLPBE_LOAD_FILTER',
						"PerPage": PerPage,
						"PageInform": PageInform,
						"ATTRIBUTE_VALUE": A_Values,
						"ATTRIBUTE_NAME": A_Keys,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"table_id": table_id
					},

						function (dataset) {

							datas = dataset[0];
							const arrayToList = arr => arr.length ? ({
								value: arr[0]
							}) : null;
							data = arrayToList(datas).value;
							$("#" + data[2] + " tbody").empty();

							if (document.getElementById(table_id + "_NumberofItem")) {
								document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
							}

							if (document.getElementById(table_id + "_totalItemCount")) {
								document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
							}

							if (document.getElementById(table_id + "_page_count")) {
								document.getElementById(table_id + "_page_count").innerHTML = parseInt(1)
							}


							if (data[0].length != 0) {

								try {
									$('table#' + table_id).bootstrapTable('load', data[0]);
								} catch (e) {
									console.log(e);
								}
							}
							if (data[0].length == 0) {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
						});
				} catch (e) {
					console.log(e);
				}
			}
			// code refactoring pricing starts....
			else if (tabname == 'prcfvavalue') {
				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				RecordId = localStorage.getItem('CurrentRecordId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				var ACTION = '';
				if (table_id.indexOf('PRICEFACTOR_IN_PRICEBOOKS') !== -1) {
					ACTION = 'FILTER_VIEW'
				} else {
					ACTION = 'PRODUCT_FILTER_VIEW'
				}

				try {
					cpq.server.executeScript("PRLDMTRLGR", {
						"ACTION": ACTION,
						"TopSuperParentParam": TopSuperParentParam,
						"PerPage": PerPage,
						"PageInform": PageInform,
						'ATTRIBUTE_NAME': A_Keys,
						'ATTRIBUTE_VALUE': A_Values,
						"TreeSuperParentParam": TreeSuperParentParam,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"CurrentRecordId": RecordId
					},
						function (dataset) {

							data1 = dataset[2];
							data2 = dataset[0];
							data10 = dataset[3];
							if (data[0].length != 0) {
								$('#' + data1).bootstrapTable('load', data2);

							} else {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data10;
							}
							if (document.getElementById(data1 + "_page_count")) {
								document.getElementById(data1 + "_page_count").innerHTML = parseInt(1)
							}
						});
				} catch (e) {
					console.log(e);
				}

			} //code refactoring pricing ends...
			else if (tabname == 'LISTPRICEBOOKSINPRICEMODEL') {

				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				//6304 -JIRA ID	starts...
				var ACTION = '';
				if (TreeParam.toLowerCase().indexOf("sor") >= 0) {
					RecordId = 'SYOBJR-70085';
					ACTION = 'CHILDLOAD'
				} else {
					RecordId = 'SYOBJR-30114';
					ACTION = 'LOAD'
				}
				cpq.server.executeScript("PRPMTREVEW", {
					'Record_id': RecordId,
					'TreeView': 'TreeGridRight',
					'TreeParam': TreeParam,
					'TreeParentParam': TreeParentParam,
					'TreeSuperParentParam': TreeSuperParentParam,
					'TopSuperParentParam': TopSuperParentParam,
					'ACTION': ACTION,
					'PerPage': PerPage,
					'PageInform': PageInform
				},
					function (dataset) {

						data1 = dataset[2];
						data2 = dataset[1];
						data10 = dataset[10];

						$('#' + data1).bootstrapTable('load', data2);
						$(".listContStyle").css("display", "none");
						$('#' + data1).after(data10);

						//6304 -JIRA ID	ends....

					});
			} else if (tabname == 'Grid_Copart') {

				cpq.server.executeScript("SYPOPUPMOD", {
					'REC_ID': '',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'ACTION': "PRODUCT_LOAD",
				},
					function (dataset) {
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data5 = dataset[5];
						data4 = dataset[4];

						$('#' + data2).bootstrapTable('load', data3);
						//$('#' + data2).after(data5);
						if (document.getElementById("coppart_popup_model_NumberofItem")) {
							document.getElementById("coppart_popup_model_NumberofItem").innerHTML = data4;
						}
					});
			}

		}

	}

}

function Previous12334Child(tabname, rec, table_id) {
	TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	var checkedRows = [];
	if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'Pricefactor' || tabname == 'PLANT_RelatedList' || tabname == 'Price_factors' || tabname == 'EntriesRelated_list' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {
		totalItemCount = document.getElementById(table_id + "_totalItemCount").innerHTML
		page_count = document.getElementById(table_id + "_page_count").innerHTML
		PerPage = $("#" + table_id + "_PageCountValue").val();
	}
	else if (tabname == 'Quote' || tabname == 'Contract') {

		totalItemCount = document.getElementById(table_id + "___totalItemCount").innerHTML
		page_count = document.getElementById(table_id + "___page_count").innerHTML
		PerPage = $("#" + table_id + "___PageCountValue").val();
	}
	else {
		totalItemCount = document.getElementById("totalItemCount").innerHTML
		page_count = document.getElementById("page_count").innerHTML
		PerPage = $("#PageCountValue").val();
	}
	localStorage.setItem("multiedit_checkbox_values", []);
	localStorage.setItem("multiedit_save_data", '');
	localStorage.setItem("multiedit_data_checked", '');
	localStorage.setItem("page_change", "1");

	if (parseInt(page_count) > 1) {
		page_count = parseInt(page_count) - 1
		b = parseInt(page_count) * parseInt(PerPage)
		if (parseInt(page_count) == 1) {

			a = 1
		} else {
			a = ((page_count - 1) * parseInt(PerPage)) + 1
		}

		if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'EntriesRelated_list' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {
			document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count)

			document.getElementById(table_id + "_NumberofItem").innerHTML = a + ' - ' + b + ' of '
		}
		else if (tabname == 'Quote' || tabname == 'Contract') {
			document.getElementById(table_id + "___page_count").innerHTML = parseInt(page_count)

			document.getElementById(table_id + "___NumberofItem").innerHTML = a + ' - ' + b + ' of '
		}
		else {

			document.getElementById("page_count").innerHTML = parseInt(page_count)

			document.getElementById("NumberofItem").innerHTML = a + ' - ' + b + ' of '

		}

		PageInform = a + '___' + b + '___' + page_count

		var A_Keys = [];
		var A_Values = [];

		if (tabname == 'Categories') {


			var A_Keys = ["CATEGORY_RECORD_ID", "CATEGORY_NAME", "CATEGORY_ID", "RANK"]

			var CATEGORY_NAME = $("#catTreeTable_CATEGORY_NAME_InputFilter").val();
			var CATEGORY_ID = $("#catTreeTable_CATEGORY_ID_InputFilter").val();
			var RANK = $("#catTreeTable_RANK_InputFilter").val();

			A_Values.push('');
			A_Values.push(CATEGORY_NAME);
			A_Values.push(CATEGORY_ID);
			A_Values.push(RANK);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'CategoriesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
			});

		} else if (tabname == 'Price Classes') {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'PriceClassesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#table_price_class').bootstrapTable('load', data1);
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data11;
				}
			});
		}
		//Equipment Master starts..
		else if ((tabname == 'Quote' && TreeParentParam != "Complementary Products" && table_id.includes("table_equipment_parent")) && (TreeParam != "Sending Equipment" && TreeParam != "Receiving Equipment" && TreeParentParam != "Sending Equipment" && TreeParentParam != "Receiving Equipment") && (TreeSuperParentParam != "Sending Equipment" && TreeSuperParentParam != "Receiving Equipment")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//Equipment Master ends..
		else if (tabname == 'Quote' && table_id.includes("table_event_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Event Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data2 = datas[2];
				data11 = datas[11];
				data14 = datas[14];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
				if (data14 != "True") {
					$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').removeAttr('disabled')
					$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').attr("onclick", "OnclickAssemblyEdit(this,'TKM')");
				}

			});
		}
		else if (tabname == 'Quote' && table_id.includes("table_events_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Events Child filter',
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		else if (tabname == 'Quote' && table_id.includes("table_equipment_parent") && (TreeParentParam == "Sending Equipment" || TreeParentParam == "Receiving Equipment" || TreeParentParam == "Complementary Products" || TreeSuperParentParam == "Sending Equipment" || TreeSuperParentParam == "Receiving Equipment" || TreeParam == "Sending Equipment")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			if (TreeParentParam == "Complementary Products" && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
				var curr_tabname = 'CovObj Master Pagination'
			}
			else {
				var curr_tabname = 'Sending Equipment Parent Pagination'
			}
			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': curr_tabname,
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				data2 = datas[2];
				$('#' + data2).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//////////////////////////A055S000P01-3263 start
		else if (tabname == 'Quote' && table_id.includes("WithBundleParentTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId");
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'WITH BUNLDLE PARENT TABLE',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		/////////////////////////A055S000P01-3263 end
		//Equipment Child starts...
		else if (tabname == 'Quote' && table_id.includes("table_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Equipment Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
					'CPQ_TAB_ID': ChildEquipcpId
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Child ends...
		else if (tabname == 'Quote' && table_id.includes("table_sending_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Sendingequp Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': ChildEquipmentId,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//quote items node nested grid previous starts
		else if (tabname == 'Quote' && table_id.includes("CommonChildTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ');
					x = x[x.length - 1]
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'Common Child',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//ends
		//Contract Equipment Master starts..
		else if (tabname == 'Contract' && table_id.includes("table_Contract_equipment_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Contract Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}

			});
		}
		//Contract Equipment Master ends..

		//Covered object Master starts..
		else if (tabname == 'Quote' && table_id.includes("table_covered_obj_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'CovObj Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//Covered object Master ends..
		//Covered object Child starts..
		else if (tabname == 'Quote' && table_id.includes("covered_obj_child")) {
			CoveredobjectEquipmentId = localStorage.getItem("CoveredobjectchildEquipmentId")
			CPQ_TAB_ID = localStorage.getItem("CoveredobjectchildEquipmentcpId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'CoveredObj Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': CoveredobjectEquipmentId,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CPQ_TAB_ID': CPQ_TAB_ID
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
					if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
						$("#" + table_id + " #INCLUDED").attr('disabled', 'disabled');
					}
					else {
						$("#" + table_id + " #INCLUDED").removeAttr('disabled');
						$("#" + table_id + " #INCLUDED").attr("onclick", "OnclickAssemblyEdit(this)");
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Covered object Child ends..
		// Contract Covered object Master starts...
		else if (tabname == 'Contract' && table_id.includes("table_contract_covered_obj_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Covered object Master ends...
		//Events Master pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_Preventive_Maintainence_parent")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			sort_column = localStorage.getItem(table_id + '_SortColumn');
			sort_order = localStorage.getItem(table_id + '_SortColumnOrder');
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					values = values.split(' ');
					index = values.indexOf(values.find(ele => ele.includes('bootstrap-table-filter-control')))
					x = values[index];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Parent Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events Master pagination ends...
		//Events child pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_preventive_maintainence_child")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			PM_Id = localStorage.getItem("PM_ID")
			Kit_Id = localStorage.getItem("KIT_ID")
			Kit_Number = localStorage.getItem("KIT_NUMBER")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'PM_ID': PM_Id,
					'KITID': Kit_Id,
					'KITNUMBER': Kit_Number,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events child pagination ends...
		// A043S001P01-10888 START
		else if (tabname == 'Roles') {


			var A_Keys = ["ROLE_RECORD_ID", "ROLE_NAME", "ROLE_ID", "ROLE_DESCRIPTION", "PAR_ROLE_RECORD_ID", "PAR_ROLE_ID", "START_PAGE"]


			//$('.e-filtertext').each(function() {

			//values = this.name;

			//A_Keys.push(values);

			//});
			var ROLE_NAME = $("#RolesTreeTable_ROLE_NAME_InputFilter").val();
			var ROLE_ID = $("#RolesTreeTable_ROLE_ID_InputFilter").val();
			var ROLE_DESCRIPTION = $("#RolesTreeTable_ROLE_DESCRIPTION_InputFilter").val();
			var PAR_ROLE_ID = $("#RolesTreeTable_PAR_ROLE_ID_InputFilter").val();
			var START_PAGE = $("#RolesTreeTable_START_PAGE_InputFilter").val();

			A_Values.push('');
			A_Values.push(ROLE_NAME);
			A_Values.push(ROLE_ID);
			A_Values.push(ROLE_DESCRIPTION);
			A_Values.push(PAR_ROLE_ID);
			A_Values.push(START_PAGE);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'RolesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
			});

		}
		// A043S001P01-10888 END
		else if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'EntriesRelated_list' || tabname == 'Price_factors' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {

			A_Keys = [];
			A_Values = [];
			PR_CURR = $(".segment_part_number_text").text();
			var TP = localStorage.getItem('CommonTreeParam');
			//table_list = ['prbkmaterial','prcfvavalue','EntriesRelated_list']
			/*if(jQuery.inArray(tabname, table_list)){
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;

					//if ((values.split(' ').length) == 2) {
						if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
							x = values.split(' ')[1];console.log(x);
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}
						if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
							x = values.split(' ')[2];
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}

					console.log(A_Keys,A_Values)
				});
			}
			else{*/
			var table_divid = '';
			if ($('table#' + table_id).closest('div[id]').attr('id') && ($('table#' + table_id).closest('div[id]').attr('id')).indexOf('div_') == -1) {
				table_divid = 'div#' + $('table#' + table_id).closest('div[id]').attr('id');
			}
			$(table_divid + ' table#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;

				//if ((values.split(' ').length) == 2) {
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

				/*} else {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					A_Keys.push(y);
					A_Values.push(xyz);
				*/ //}
			});
			//}
			if (tabname == 'RelatedList') {
				//Code to remain sorting after pagination change -- start
				sort_order = '';
				sort_column = '';
				$('#' + table_id + ' > thead > tr > th').each(function () {
					if ($(this).find('div').attr('class').includes('asc')) {
						sort_order = 'asc';
						sort_column = $(this).attr('data-field');
					}
					if ($(this).find('div').attr('class').includes('desc')) {
						sort_order = 'desc';
						sort_column = $(this).attr('data-field');
					}
				});
				if (table_id == 'SYOBJR_98868_367DD2FA_9FE9_4DB9_906E_BD4ACB096E6F') {
					cpq_tab_id = localStorage.getItem('CurrentRecordId');
				}
				else {
					cpq_tab_id = ""
				}
				//Code to remain sorting after pagination change -- end
				cpq.server.executeScript("SYLDRTLIST", {
					'REC_ID': table_id,
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'PR_CURR': PR_CURR,
					'TP': TP,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order,
					'SUBTAB': localStorage.getItem("currentSubTab"),
					'equipment_id': localStorage.getItem('openedKit'),
					'CPQ_TAB_ID': cpq_tab_id
				}, function (dataset) {


					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (table_id == "SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161") {
						if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("disabled", "disabled");
						}
						else {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").remove("disabled");
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
						}
					}
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}
					if (RecId == 'SYOBJR-00009') {
						annualgrid_show()
					}


				});
			}

			if (tabname == 'MaterialTreeView') {
				RECORD_ID = localStorage.getItem('MtrlPaginationRecId');
				TreeParam = localStorage.getItem('MtrlPaginationTreeParam');
				ACTION = localStorage.getItem('MtrlPaginationAction');
				if (ACTION == 'LOAD') {
					ACTION_ONCHANGE = 'PRODUCT_ONCHNAGE';
				} else {
					ACTION_ONCHANGE = 'CHILD_PRODUCT_ONCHNAGE';
				}
				cpq.server.executeScript("MATREEVIEW", {
					"TreeView": "TreeGridRight",
					"RelatedRecId": rec,
					"RECORD_ID": RECORD_ID,
					"TreeParam": TreeParam,
					"ATTRIBUTE_NAME": A_Keys,
					"ATTRIBUTE_VALUE": A_Values,
					"ACTION": ACTION_ONCHANGE,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {



					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}

				});
			} else if (tabname == 'AtrrPivot_RelatedList') {

				cpq.server.executeScript("MAATLOPIVT", {
					'Preview': 'True',
					'ACTION': '',
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {


					data2 = dataset[2];
					data1 = dataset[1];
					data10 = dataset[10];
					$('#' + data2).bootstrapTable('load', data1);
					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data10;
					}

				});

			} else if (tabname == 'cartFields') {


				try {
					cpq.server.executeScript("SYLDCTFLDS", {
						'PerPage': PerPage,
						'PageInform': PageInform
					}, function (dataset) {
						data2 = dataset[2];
						data1 = dataset[1];
						data7 = dataset[7];

						$('#' + data2).bootstrapTable('load', data1);

						if (document.getElementById(data2 + "_NumberofItem")) {
							document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
						}

					});
				} catch (e) {
					console.log(e);
				}

			} else if (tabname == 'PLANT_RelatedList') {

				cpq.server.executeScript("SYLDCTNPTL", {
					'ContainerType': 'DYNAMIC ROWS',
					'Row_Count': 'ButtonName',
					'New_CtrName': 'PLANT_AND_MATERIAL_ATTRIBUTES',
					'Column_Count': '0',
					'SQL_Expression': 'SYSEFL-MA-00469',
					'Column_Names_List': "[{'FIELD_NAME': 'KEY', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PERSONALIZATION_NAME'}, {'FIELD_NAME': 'PERSONALIZATION NAME', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_ID'}, {'FIELD_NAME': 'PERSONALIZATION TYPE', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_NAME'}, {'FIELD_NAME': 'SAP PART NUMBER', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SAP_PART_NUMBER'}]",
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {
					data2 = dataset[2];
					data1 = dataset[1];
					data7 = dataset[7];

					$('#' + data2).bootstrapTable('load', data1);

					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
					}

				});

			} else if (tabname == 'Pricefactor') {
				ParentNodeRecId = localStorage.getItem('CurrentRecordId');
				var QSt_id = '';
				var columns = '';
				var New_CtrName = '';

				TreeParam = localStorage.getItem('PrcTreeParam');
				if (table_id == 'SALES_ORG_LEVEL_DEFAULT_FACTORS_PageCountValue') {
					var QSt_id = 'SYSEFL-PB-00437';
					var columns = "[{'FIELD_NAME': 'SALES ORG ID', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SALESORG_ID'}]"
					var New_CtrName = 'GLOBAL SALESORG LIST PRICBOOK SET FACTORS';
					cpq.server.executeScript("SYLDCTNPTL", {
						'ParentNodeRecId': ParentNodeRecId,
						'ContainerType': 'DYNAMIC ROWS',
						'Row_Count': '',
						'New_CtrName': New_CtrName,
						'Column_Count': '2',
						'SQL_Expression': QSt_id,
						'Column_Names_List': columns,
						'PerPage': PerPage,
						'PageInform': PageInform
					},
						function (dataset) {

							data1 = dataset[1];
							data2 = dataset[2];
							data11 = dataset[11];

							$('#' + data1).bootstrapTable('load', data2);

							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
							}

						});
				} else if (table_id == 'PRICE_CLASS_LEVEL_FACTORS') {
					var QSt_id = 'SYSEFL-PB-00438';
					var allow = 0
					for (var i = 0; i < A_Values.length; i++) {
						if (A_Values[i] != "") {
							allow = 1
						}
					}
					if (allow == 1) {

						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': 'PRICE_CLASS_LEVEL_FACTORS',
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': A_Keys,
							'ATTRIBUTE_VALUE': A_Values,
							'ACTION': 'PRODUCT_ONLOAD',
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[0];

								$('#PRICE_CLASS_LEVEL_FACTORS').bootstrapTable('load', data1);

							});
					} else {
						var columns = "[{'FIELD_NAME':'SALES ORG ID','DATA_TYPE':'NVARCHAR','API_METHOD': 'SALESORG_ID'},{'FIELD_NAME':'PRICE CLASS ID','DATA_TYPE':'NVARCHAR','API_METHOD':'PRICECLASS_ID'}]"
						var New_CtrName = 'G_SALESMODEL_CLS_PRBSET_FACTORS';
						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': New_CtrName,
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': columns,
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[1];
								data2 = dataset[2];
								data11 = dataset[11];

								$('#' + data1).bootstrapTable('load', data2);

								if (document.getElementById(data1 + "_NumberofItem")) {
									document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
								}

							});
					}
				}

			} else if (tabname == 'Price_factors') {
				/*var uniqueNames = []; var pageinform=[];
				var dict_new={};var pageinform_dict ={};
				var num =1;var div='div_CTR_PRICEFACTORLOAD';
				if (localStorage.getItem("CurrentRecordId") == ''){
					div='div_G_SALESMODEL_CLS_PRBSET_FACTORS';
					num=5;
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS select").each(function(){
						if($.inArray($(this).attr("id"), uniqueNames) === -1) uniqueNames.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					uniqueNames.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							dict_new[ele] = PerPage;
						}else{
							dict_new[ele] = String($('#'+ele).val());
						}
					});
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS span").each(function(){
						if($.inArray($(this).attr("id"), pageinform) === -1) pageinform.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					pageinform.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							//pageinform_dict[ele] = PageInform;
							console.log('dddd');
						}else{
							pageinform_dict[ele] = String($('#'+ele).text());
						}
					});
					document.getElementById(div).innerHTML='';
				}*/


				//console.log(dict_new);
				Record_id = localStorage.getItem("CurrentRecordId");
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				try {
					cpq.server.executeScript("PRPRFALOAD", {
						'TreeView': 'TreeGridRight',
						'Record_id': Record_id,
						'TreeParam': TreeParam,
						'TreeParentParam': TreeParentParam,
						'TreeSuperParentParam': TreeSuperParentParam,
						'PerPage': PerPage,
						'PageInform': PageInform,
						"Action": "Filter_load",
						"AttributeName": A_Keys,
						"AttributeValue": A_Values,
						"table_id": table_id
						//'tableperpage':dict_new,
						//'tables_pageinform':pageinform_dict
					}, function (dataset) {
						datas = dataset[0];
						const arrayToList = arr => arr.length ? ({
							value: arr[0]
						}) : null;
						data = arrayToList(datas).value;
						$("#" + data[2] + " tbody").empty();
						if (document.getElementById(table_id + "_NumberofItem")) {
							document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
						}

						if (document.getElementById(table_id + "_totalItemCount")) {
							document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
						}

						if (document.getElementById(table_id + "_page_count")) {
							document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count)
						}

						if (data[0].length != 0) {
							try {
								$("table#" + table_id).bootstrapTable("load", data[0]);
							} catch (e) {
								setTimeout(function () {
									$("table#" + table_id).bootstrapTable("load", data[0]);
								}, 1000);
							}
						}
						if (data[0].length == 0) {
							var count_val = $("#" + table_id + " thead tr th").length;
							$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
						}
						/*datas = dataset[0];
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data4 = dataset[4];
						data5 = dataset[5];
						data6 = dataset[6];
						data7 = dataset[7];
						data8 = dataset[8];
						if (dataset[0].length > 0){
							for(i=0; i < num;i++){
								tableheader=datas[i];
								tableids=data1[i];
								newlist=data2[i];
								dbl_clk_function=data3[i];
								filter_control_function =data4[i];
								filter_values =data5[i];
								NOrecords = data6[i];

								$('.CommonContainer').addClass('disp_blk');
								$('#'+div).addClass('disp_blk');
								if (NOrecords != 'NORECORDS') {
									if (document.getElementById(div)) {
										if (dataset[0].length ==1)
										{
											document.getElementById(div).innerHTML=''
											document.getElementById(div).innerHTML = tableheader;
											if (document.getElementById('container9101'))
											{
												$('#container9101').removeClass('disp_blk');
												$('#container9101').addClass('disp_none');
												$('.CommonContainer').addClass('disp_blk');
												$('#'+div).addClass('disp_blk');
											}
										}
										else{

											$('#container9101').removeClass('disp_none');
											$('#container9101').addClass('disp_blk');
											document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' + tableheader;
										}
									}
								} else {
									if (document.getElementById(div)) {
										document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' +'<div class="noRecDisp">No Records to Display</div>';
										$('#'+div).addClass('brd1_pad_5');
									}
								}
								if (dataset[0].length ==1)
									{
										$('#div_CTR_PRICEFACTORLOAD #' + tableids).bootstrapTable('load',newlist);
										$('#div_CTR_PRICEFACTORLOAD #' + tableids).after(data7[i]);
										if (document.getElementById(tableids + "_NumberofItem")) {
											document.getElementById(tableids + "_NumberofItem").innerHTML = data8[i];
										}
										if (document.getElementById(table_id + "_page_count")) {
											document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count)}
									}
								else{
									$('#'+tableids).bootstrapTable('load',newlist );
									$('#' + tableids).after(data7[i]);
									if (document.getElementById(tableids+ "_NumberofItem")) {
										document.getElementById(tableids+ "_NumberofItem").innerHTML = data8[i];
									}
									if (document.getElementById(table_id + "_page_count")) {
										document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count)}

								}
								if(localStorage.getItem("pricefactor_load")== "1" && CurrentRecordId == 'div_CTR_PRICEFACTORLOAD'){
									//$('.BTN_MA_ALL_REFRESH').click();
									localStorage.setItem("pricefactor_load", "0");
								}
								eval(dbl_clk_function);
								//eval(filter_control_function);
								//eval(data8);
								//$('#' + data1).after(data10);
								//eval(dataset[13]);

								$("#"+tableids+" tbody tr td").each(function(){
								var currentRow=$(this);
								if ($(this).text()=='-' )
								{
									$(this).text('0.00000')
								}
							});

							}
						}*/
					});

				} catch (e) {
					console.log(e);
				}

			} else if (tabname == 'EntriesRelated_list') {
				//10763 starts....
				TreeParentParam = ''
				TreeParam = localStorage.getItem('CommonTreeParam');
				//TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				if (TreeParam != 'Where Used') {
					$('.container_banner_inner_sec').css('display', 'none');
				}
				try {
					cpq.server.executeScript("PRLDMTRLGR", {

						"ACTION": 'PRLPBE_LOAD_FILTER',
						"PerPage": PerPage,
						"PageInform": PageInform,
						"ATTRIBUTE_VALUE": A_Values,
						"ATTRIBUTE_NAME": A_Keys,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"table_id": table_id
					},

						function (dataset) {

							datas = dataset[0];
							const arrayToList = arr => arr.length ? ({
								value: arr[0]
							}) : null;
							data = arrayToList(datas).value;
							$("#" + data[2] + " tbody").empty();

							if (document.getElementById(table_id + "_NumberofItem")) {
								document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
							}

							if (document.getElementById(table_id + "_totalItemCount")) {
								document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
							}

							if (document.getElementById(table_id + "_page_count")) {
								document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count)
							}


							if (data[0].length != 0) {

								try {
									$('table#' + table_id).bootstrapTable('load', data[0]);
								} catch (e) {
									console.log(e);
								}
							}
							if (data[0].length == 0) {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
						});
				} catch (e) {
					console.log(e);
				}
			}
			// code refactoring pricing starts....
			else if (tabname == 'prcfvavalue') {
				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				RecordId = localStorage.getItem('CurrentRecordId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				var ACTION = '';
				if (table_id.indexOf('PRICEFACTOR_IN_PRICEBOOKS') !== -1) {
					ACTION = 'FILTER_VIEW'
				} else {
					ACTION = 'PRODUCT_FILTER_VIEW'
				}

				try {
					cpq.server.executeScript("PRLDMTRLGR", {
						"ACTION": ACTION,
						"TopSuperParentParam": TopSuperParentParam,
						"PerPage": PerPage,
						"PageInform": PageInform,
						'ATTRIBUTE_NAME': A_Keys,
						'ATTRIBUTE_VALUE': A_Values,
						"TreeSuperParentParam": TreeSuperParentParam,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"CurrentRecordId": RecordId
					},
						function (dataset) {

							data1 = dataset[2];
							data2 = dataset[0];
							data10 = dataset[3];
							if (data[0].length != 0) {
								$('#' + data1).bootstrapTable('load', data2);

							} else {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data10;
							}
							if (document.getElementById(data1 + "_page_count")) {
								document.getElementById(data1 + "_page_count").innerHTML = parseInt(page_count);
							}

						});
				} catch (e) {
					console.log(e);
				}

			} //code refactoring pricing ends...
			else if (tabname == 'LISTPRICEBOOKSINPRICEMODEL') {

				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				//6304 -JIRA ID	starts...
				var ACTION = '';
				if (TreeParam.toLowerCase().indexOf("sor") >= 0) {
					RecordId = 'SYOBJR-70085';
					ACTION = 'CHILDLOAD'
				} else {
					RecordId = 'SYOBJR-30114';
					ACTION = 'LOAD'
				}
				cpq.server.executeScript("PRPMTREVEW", {
					'Record_id': RecordId,
					'TreeView': 'TreeGridRight',
					'TreeParam': TreeParam,
					'TreeParentParam': TreeParentParam,
					'TreeSuperParentParam': TreeSuperParentParam,
					'TopSuperParentParam': TopSuperParentParam,
					'ACTION': ACTION,
					'PerPage': PerPage,
					'PageInform': PageInform
				},
					function (dataset) {

						data1 = dataset[2];
						data2 = dataset[1];
						data10 = dataset[10];

						$('#' + data1).bootstrapTable('load', data2);
						$(".listContStyle").css("display", "none");
						$('#' + data1).after(data10);

						//6304 -JIRA ID	ends....


					});
			} else if (tabname == 'Grid_Copart') {

				cpq.server.executeScript("SYPOPUPMOD", {
					'REC_ID': '',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'ACTION': "PRODUCT_LOAD",
				},
					function (dataset) {
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data5 = dataset[5];
						data4 = dataset[4];

						$('#' + data2).bootstrapTable('load', data3);
						//$('#' + data2).after(data5);
						if (document.getElementById("coppart_popup_model_NumberofItem")) {
							document.getElementById("coppart_popup_model_NumberofItem").innerHTML = data4;
						}
					});
			}

		}

	}

}

function Next12334Child(tabname, rec, table_id) {
	TreeParam = localStorage.getItem('CommonTreeParam');
	TreeParentParam = localStorage.getItem('CommonTreeParentParam');

	localStorage.setItem("page_change", "1");
	var checkedRows = [];
	if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'EntriesRelated_list' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {
		totalItemCount = document.getElementById(table_id + "_totalItemCount").innerHTML
		page_count = document.getElementById(table_id + "_page_count").innerHTML
		PerPage = $("#" + table_id + "_PageCountValue").val();
		NumberofItem = document.getElementById(table_id + "_NumberofItem").innerHTML
	}
	else if (tabname == 'Quote' || tabname == 'Contract') {

		totalItemCount = document.getElementById(table_id + "___totalItemCount").innerHTML
		page_count = document.getElementById(table_id + "___page_count").innerHTML
		PerPage = $("#" + table_id + "___PageCountValue").val();
		NumberofItem = document.getElementById(table_id + "___NumberofItem").innerHTML

	}
	else {

		totalItemCount = document.getElementById("totalItemCount").innerHTML
		page_count = document.getElementById("page_count").innerHTML
		PerPage = $("#PageCountValue").val();
		NumberofItem = document.getElementById("NumberofItem").innerHTML

	}
	localStorage.setItem("multiedit_checkbox_values", []);
	localStorage.setItem("multiedit_save_data", '');
	localStorage.setItem("multiedit_data_checked", '');
	localStorage.setItem("table_id_edit", '');



	a1 = page_count * PerPage
	a = a1 + 1
	c = parseInt(page_count) + 1
	b = c * parseInt(PerPage)

	PageInform = a + '___' + b + '___' + (parseInt(page_count) + parseInt(1))

	ends = NumberofItem.trim().split(' ')
	end = NumberofItem.trim().split(' ')[2]

	if (!(a == '') && !(b == '') && parseInt(end) < parseInt(totalItemCount)) {

		if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'EntriesRelated_list' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {

			document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count) + 1
			if (b > totalItemCount) {
				if (document.getElementById(table_id + "_NumberofItem")) {
					document.getElementById(table_id + "_NumberofItem").innerHTML = a + ' - ' + totalItemCount + ' of '
				}
			} else {
				if (document.getElementById(table_id + "_NumberofItem")) {
					document.getElementById(table_id + "_NumberofItem").innerHTML = a + ' - ' + b + ' of '
				}
			}

			if (tabname == 'Categories') {

				if (b > totalItemCount) {
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = a + ' - ' + totalItemCount + ' of '
					}
				} else {
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = a + ' - ' + b + ' of '
					}
				}

			}

		} else {
			//A043S001P01-12376 added tabname price classes
			if (tabname == 'Categories' || tabname == 'Price Classes' || tabname == 'Quotes') {
				document.getElementById("page_count").innerHTML = parseInt(page_count) + 1
				if (b > totalItemCount) {
					document.getElementById("NumberofItem").innerHTML = a + ' - ' + totalItemCount + ' of '
				} else {
					document.getElementById("NumberofItem").innerHTML = a + ' - ' + b + ' of '
				}
			}
			else if (tabname == 'Quote' || tabname == 'Quotes' || tabname == 'Contract') {
				document.getElementById(table_id + "___page_count").innerHTML = parseInt(page_count) + 1
				if (b > totalItemCount) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = a + ' - ' + totalItemCount + ' of '

				} else {
					document.getElementById(table_id + "___NumberofItem").innerHTML = a + ' - ' + b + ' of '
				}

			}
			else {

				if (b > totalItemCount) {
					document.getElementById(table_id + "_NumberofItem").innerHTML = a + ' - ' + totalItemCount + ' of '

				} else {
					document.getElementById(table_id + "_NumberofItem").innerHTML = a + ' - ' + b + ' of '
				}

			}

		}

		var A_Keys = [];
		var A_Values = [];

		if (tabname == 'Categories') {

			var A_Keys = ["CATEGORY_RECORD_ID", "CATEGORY_NAME", "CATEGORY_ID", "RANK"]

			var CATEGORY_NAME = $("#catTreeTable_CATEGORY_NAME_InputFilter").val();
			var CATEGORY_ID = $("#catTreeTable_CATEGORY_ID_InputFilter").val();
			var RANK = $("#catTreeTable_RANK_InputFilter").val();

			A_Values.push('');
			A_Values.push(CATEGORY_NAME);
			A_Values.push(CATEGORY_ID);
			A_Values.push(RANK);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'CategoriesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				data5 = datas[5];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data5;
				}

			});

		} else if (tabname == 'Price Classes') {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'PriceClassesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#table_price_class').bootstrapTable('load', data1);
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data11;
				}
			});
		}
		//Equipment Master starts..
		else if ((tabname == 'Quote' && TreeParentParam != "Complementary Products" && table_id.includes("table_equipment_parent")) && (TreeParam != "Sending Equipment" && TreeParam != "Receiving Equipment" && TreeParentParam != "Sending Equipment" && TreeParentParam != "Receiving Equipment") && (TreeSuperParentParam != "Sending Equipment" && TreeSuperParentParam != "Receiving Equipment")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#table_equipment_parent').bootstrapTable('load', data1);
				if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
					$("#table_event_parent #INCLUDED").attr('disabled', 'disabled');
				}
				else {
					$("#table_event_parent #INCLUDED").removeAttr('disabled');
					$("#table_event_parent #INCLUDED").attr("onclick", "OnclickAssemblyEdit(this)");
				}
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		else if (tabname == 'Quote' && table_id.includes("table_events_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Events Child filter',
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		else if (tabname == 'Quote' && table_id.includes("table_event_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Event Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data2 = datas[2];
				data11 = datas[11];
				data14 = datas[14];
				$('#table_event_parent').bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}

				if (data14 != "True") {
					$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').removeAttr('disabled')
					$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').attr("onclick", "OnclickAssemblyEdit(this,'TKM')");
				}
			});
		}
		//Equipment Master ends..
		else if (tabname == 'Quote' && table_id.includes("table_equipment_parent") && (TreeParentParam == "Sending Equipment" || TreeParentParam == "Receiving Equipment" || TreeParentParam == "Complementary Products" || TreeSuperParentParam == "Sending Equipment" || TreeSuperParentParam == "Receiving Equipment" || TreeParam == "Sending Equipment")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			if (TreeParentParam == "Complementary Products" && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
				var curr_tabname = 'CovObj Master Pagination'
			}
			else {
				var curr_tabname = 'Sending Equipment Parent Pagination'
			}
			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': curr_tabname,
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data2 = datas[2];
				data11 = datas[11];
				$('#' + data2).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//A055S000P01-3263 start
		else if (tabname == 'Quote' && table_id.includes("WithBundleParentTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId");
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'WITH BUNLDLE PARENT TABLE',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//A055S000P01-3263 -end
		//Equipment Child starts...
		else if (tabname == 'Quote' && table_id.includes("table_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Equipment Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
					'CPQ_TAB_ID': ChildEquipcpId
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Child ends...
		//Contract Equipment Master starts..
		else if (tabname == 'Contract' && table_id.includes("table_Contract_equipment_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Contract Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}

			});
		}
		//Contract Equipment Master ends..
		//quote items node nested grid next starts
		else if (tabname == 'Quote' && table_id.includes("CommonChildTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ');
					x = x[x.length - 1]
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'pagination_flag': 'yes',
				'REC_ID': REC_ID,
				'TABNAME': 'Common Child',
				'ACTION': 'CHILDLOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//quote items node nested grid ends
		//Covered object Master starts...
		else if (tabname == 'Quote' && table_id.includes("table_covered_obj_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'CovObj Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#table_covered_obj_parent').bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//Covered object Master ends...
		else if (tabname == 'Quote' && table_id.includes("table_sending_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Sendingequp Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': ChildEquipmentId,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Covered object Child starts..
		else if (tabname == 'Quote' && table_id.includes("covered_obj_child")) {
			CoveredobjectEquipmentId = localStorage.getItem("CoveredobjectchildEquipmentId")
			CPQ_TAB_ID = localStorage.getItem("CoveredobjectchildEquipmentcpId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'CoveredObj Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': CoveredobjectEquipmentId,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CPQ_TAB_ID': CPQ_TAB_ID
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
					if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
						$("#" + table_id + " #INCLUDED").attr('disabled', 'disabled');
					}
					else {
						$("#" + table_id + " #INCLUDED").removeAttr('disabled');
						$("#" + table_id + " #INCLUDED").attr("onclick", "OnclickAssemblyEdit(this)");
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Covered object Child ends..
		// Contract Covered object Master starts...
		else if (tabname == 'Contract' && table_id.includes("table_contract_covered_obj_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Covered object Master ends...
		//Events Master pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_Preventive_Maintainence_parent")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			sort_column = localStorage.getItem(table_id + '_SortColumn');
			sort_order = localStorage.getItem(table_id + '_SortColumnOrder');
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					values = values.split(' ');
					index = values.indexOf(values.find(ele => ele.includes('bootstrap-table-filter-control')))
					x = values[index];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Parent Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events Master pagination ends...
		//Events child pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_preventive_maintainence_child")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			PM_Id = localStorage.getItem("PM_ID")
			Kit_Id = localStorage.getItem("KIT_ID")
			Kit_Number = localStorage.getItem("KIT_NUMBER")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'PM_ID': PM_Id,
					'KITID': Kit_Id,
					'KITNUMBER': Kit_Number,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events child pagination ends...

		//A043S001P01-10888 START
		else if (tabname == 'Roles') {

			var A_Keys = ["ROLE_RECORD_ID", "ROLE_NAME", "ROLE_ID", "ROLE_DESCRIPTION", "PAR_ROLE_RECORD_ID", "PAR_ROLE_ID", "START_PAGE"]


			//$('.e-filtertext').each(function() {

			//values = this.name;

			//A_Keys.push(values);

			//});
			var ROLE_NAME = $("#RolesTreeTable_ROLE_NAME_InputFilter").val();
			var ROLE_ID = $("#RolesTreeTable_ROLE_ID_InputFilter").val();
			var ROLE_DESCRIPTION = $("#RolesTreeTable_ROLE_DESCRIPTION_InputFilter").val();
			var PAR_ROLE_ID = $("#RolesTreeTable_PAR_ROLE_ID_InputFilter").val();
			var START_PAGE = $("#RolesTreeTable_START_PAGE_InputFilter").val();

			A_Values.push('');
			A_Values.push(ROLE_NAME);
			A_Values.push(ROLE_ID);
			A_Values.push(ROLE_DESCRIPTION);
			A_Values.push(PAR_ROLE_ID);
			A_Values.push(START_PAGE);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'RolesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				data5 = datas[5];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data5;
				}

			});

		}
		// A043S001P01-10888 END
		else if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Price_factors' || tabname == 'EntriesRelated_list' || tabname == 'Pricefactor' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {
			A_Keys = [];
			A_Values = [];
			PR_CURR = $(".segment_part_number_text").text();
			var TP = localStorage.getItem('CommonTreeParam');
			//table_list = ['prbkmaterial','prcfvavalue','EntriesRelated_list']
			/*if(jQuery.inArray(tabname, table_list)){
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;

					//if ((values.split(' ').length) == 2) {
						if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
							x = values.split(' ')[1];console.log(x);
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}
						if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
							x = values.split(' ')[2];
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}

					console.log(A_Keys,A_Values)
				});
			}
			else{*/
			var table_divid = '';
			if ($('table#' + table_id).closest('div[id]').attr('id') && ($('table#' + table_id).closest('div[id]').attr('id')).indexOf('div_') == -1) {
				table_divid = 'div#' + $('table#' + table_id).closest('div[id]').attr('id');
			}
			$(table_divid + ' table#' + table_id + ' .filter-control').each(function () {

				values = this.firstElementChild.className;

				//if ((values.split(' ').length) == 2) {
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					if (x != undefined) {
						y = x.split("-").slice(-1)[0];
						xyz = $('#' + table_id + ' .' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					if (x != undefined) {
						y = x.split("-").slice(-1)[0];
						xyz = $('#' + table_id + ' .' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}
				}

				/*} else {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					A_Keys.push(y);
					A_Values.push(xyz);
				*/ //}
			});
			//}

			if (tabname == 'RelatedList') {
				//Code to remain sorting after pagination change -- start
				sort_order = '';
				sort_column = '';
				$('#' + table_id + ' > thead > tr > th').each(function () {
					if ($(this).find('div').attr('class').includes('asc')) {
						sort_order = 'asc';
						sort_column = $(this).attr('data-field');
					}
					if ($(this).find('div').attr('class').includes('desc')) {
						sort_order = 'desc';
						sort_column = $(this).attr('data-field');
					}
				});
				if (table_id == 'SYOBJR_98868_367DD2FA_9FE9_4DB9_906E_BD4ACB096E6F') {
					cpq_tab_id = localStorage.getItem('CurrentRecordId');
				}
				else {
					cpq_tab_id = ""
				}
				//Code to remain sorting after pagination change -- end
				cpq.server.executeScript("SYLDRTLIST", {
					'REC_ID': table_id,
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'PR_CURR': PR_CURR,
					'TP': TP,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order,
					'SUBTAB': localStorage.getItem("currentSubTab"),
					'equipment_id': localStorage.getItem('openedKit'),
					'CPQ_TAB_ID': cpq_tab_id
				}, function (dataset) {


					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (table_id == "SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161") {
						if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("disabled", "disabled");
						}
						else {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").remove("disabled");
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
						}
					}
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}
					if (RecId == 'SYOBJR-00009') {
						annualgrid_show()
					}

				});

			}

			if (tabname == 'MaterialTreeView') {
				RECORD_ID = localStorage.getItem('MtrlPaginationRecId');
				TreeParam = localStorage.getItem('MtrlPaginationTreeParam');
				ACTION = localStorage.getItem('MtrlPaginationAction');
				if (ACTION == 'LOAD') {
					ACTION_ONCHANGE = 'PRODUCT_ONCHNAGE';
				} else {
					ACTION_ONCHANGE = 'CHILD_PRODUCT_ONCHNAGE';
				}
				cpq.server.executeScript("MATREEVIEW", {
					"TreeView": "TreeGridRight",
					"RelatedRecId": rec,
					"RECORD_ID": RECORD_ID,
					"TreeParam": TreeParam,
					"ATTRIBUTE_NAME": A_Keys,
					"ATTRIBUTE_VALUE": A_Values,
					"ACTION": ACTION_ONCHANGE,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {



					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}

				});
			} else if (tabname == 'AtrrPivot_RelatedList') {

				cpq.server.executeScript("MAATLOPIVT", {
					'Preview': 'True',
					'ACTION': '',
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {




					data2 = dataset[2];
					data1 = dataset[1];
					data10 = dataset[10];
					$('#' + data2).bootstrapTable('load', data1);
					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data10;
					}

				});

			} else if (tabname == 'PLANT_RelatedList') {

				cpq.server.executeScript("SYLDCTNPTL", {
					'ContainerType': 'DYNAMIC ROWS',
					'Row_Count': 'ButtonName',
					'New_CtrName': 'PLANT_AND_MATERIAL_ATTRIBUTES',
					'Column_Count': '0',
					'SQL_Expression': 'SYSEFL-MA-00469',
					'Column_Names_List': "[{'FIELD_NAME': 'KEY', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PERSONALIZATION_NAME'}, {'FIELD_NAME': 'PERSONALIZATION NAME', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_ID'}, {'FIELD_NAME': 'PERSONALIZATION TYPE', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_NAME'}, {'FIELD_NAME': 'SAP PART NUMBER', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SAP_PART_NUMBER'}]",
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {
					data2 = dataset[2];
					data1 = dataset[1];
					data7 = dataset[7];

					$('#' + data2).bootstrapTable('load', data1);

					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
					}

				});

			} else if (tabname == 'cartFields') {


				try {
					cpq.server.executeScript("SYLDCTFLDS", {
						'PerPage': PerPage,
						'PageInform': PageInform
					}, function (dataset) {
						data2 = dataset[2];
						data1 = dataset[1];
						data7 = dataset[7];

						$('#' + data2).bootstrapTable('load', data1);

						if (document.getElementById(data2 + "_NumberofItem")) {
							document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
						}

					});
				} catch (e) {
					console.log(e);
				}

			} else if (tabname == 'Pricefactor') {
				ParentNodeRecId = localStorage.getItem('CurrentRecordId');
				var QSt_id = '';
				var columns = '';
				var New_CtrName = '';

				TreeParam = localStorage.getItem('PrcTreeParam');
				if (table_id == 'SALES_ORG_LEVEL_DEFAULT_FACTORS_PageCountValue') {
					var QSt_id = 'SYSEFL-PB-00437';
					var columns = "[{'FIELD_NAME': 'SALES ORG ID', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SALESORG_ID'}]"
					var New_CtrName = 'GLOBAL SALESORG LIST PRICBOOK SET FACTORS';
					cpq.server.executeScript("SYLDCTNPTL", {
						'ParentNodeRecId': ParentNodeRecId,
						'ContainerType': 'DYNAMIC ROWS',
						'Row_Count': '',
						'New_CtrName': New_CtrName,
						'Column_Count': '2',
						'SQL_Expression': QSt_id,
						'Column_Names_List': columns,
						'PerPage': PerPage,
						'PageInform': PageInform
					},
						function (dataset) {

							data1 = dataset[1];
							data2 = dataset[2];
							data11 = dataset[11];

							$('#' + data1).bootstrapTable('load', data2);

							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
							}

						});
				} else if (table_id == 'PRICE_CLASS_LEVEL_FACTORS') {
					var QSt_id = 'SYSEFL-PB-00438';
					var allow = 0
					for (var i = 0; i < A_Values.length; i++) {
						if (A_Values[i] != "") {
							allow = 1
						}
					}
					if (allow == 1) {

						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': 'PRICE_CLASS_LEVEL_FACTORS',
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': A_Keys,
							'ATTRIBUTE_VALUE': A_Values,
							'ACTION': 'PRODUCT_ONLOAD',
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[0];

								$('#PRICE_CLASS_LEVEL_FACTORS').bootstrapTable('load', data1);

							});
					} else {

						var columns = "[{'FIELD_NAME':'SALES ORG ID','DATA_TYPE':'NVARCHAR','API_METHOD': 'SALESORG_ID'},{'FIELD_NAME':'PRICE CLASS ID','DATA_TYPE':'NVARCHAR','API_METHOD':'PRICECLASS_ID'}]"
						var New_CtrName = 'G_SALESMODEL_CLS_PRBSET_FACTORS';
						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': New_CtrName,
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': columns,
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[1];
								data2 = dataset[2];
								data11 = dataset[11];

								$('#' + data1).bootstrapTable('load', data2);

								if (document.getElementById(data1 + "_NumberofItem")) {
									document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
								}

							});
					}
				}

			} else if (tabname == 'Price_factors') {
				/*var uniqueNames = []; var pageinform=[];
			var dict_new={};var pageinform_dict ={};
			var num =1;var div='div_CTR_PRICEFACTORLOAD';
			if (localStorage.getItem("CurrentRecordId") == ''){
				div='div_G_SALESMODEL_CLS_PRBSET_FACTORS';
				num=5;
				$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS select").each(function(){
					if($.inArray($(this).attr("id"), uniqueNames) === -1) uniqueNames.push($(this).attr("id"));
				});
				//console.log(uniqueNames);
				uniqueNames.forEach(function(ele){
					if(ele !== undefined && ele.indexOf(table_id) === 0){
						dict_new[ele] = PerPage;
						console.log('dddd');
					}else{
						dict_new[ele] = String($('#'+ele).val());
					}
				});
				$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS span").each(function(){
					if($.inArray($(this).attr("id"), pageinform) === -1) pageinform.push($(this).attr("id"));
				});
				//console.log(uniqueNames);
				pageinform.forEach(function(ele){
					if(ele !== undefined && ele.indexOf(table_id) === 0){
						//pageinform_dict[ele] = PageInform;
						console.log('ffffff');
					}else{
						pageinform_dict[ele] = String($('#'+ele).text());
					}
				});
				document.getElementById(div).innerHTML='';
			}*/


				//console.log(dict_new);
				Record_id = localStorage.getItem("CurrentRecordId");
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				try {
					cpq.server.executeScript("PRPRFALOAD", {
						'TreeView': 'TreeGridRight',
						'Record_id': Record_id,
						'TreeParam': TreeParam,
						'TreeParentParam': TreeParentParam,
						'TreeSuperParentParam': TreeSuperParentParam,
						'PerPage': PerPage,
						'PageInform': PageInform,
						"Action": "Filter_load",
						"AttributeName": A_Keys,
						"AttributeValue": A_Values,
						"table_id": table_id
						//'tableperpage':dict_new,
						//'tables_pageinform':pageinform_dict
					}, function (dataset) {
						datas = dataset[0];
						const arrayToList = arr => arr.length ? ({
							value: arr[0]
						}) : null;
						data = arrayToList(datas).value;
						$("#" + data[2] + " tbody").empty();
						if (document.getElementById(table_id + "_NumberofItem")) {
							document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
						}

						if (document.getElementById(table_id + "_totalItemCount")) {
							document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
						}

						if (document.getElementById(table_id + "_page_count")) {
							document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count) + 1
						}

						if (data[0].length != 0) {
							try {
								$("table#" + table_id).bootstrapTable("load", data[0]);
							} catch (e) {
								setTimeout(function () {
									$("table#" + table_id).bootstrapTable("load", data[0]);
								}, 1000);
							}
						}
						if (data[0].length == 0) {
							var count_val = $("#" + table_id + " thead tr th").length;
							$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
						}

						/*datas = dataset[0];
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data4 = dataset[4];
						data5 = dataset[5];
						data6 = dataset[6];
						data7 = dataset[7];
						data8 = dataset[8];
						if (dataset[0].length > 0){
							for(i=0; i < num;i++){
								tableheader=datas[i];
								tableids=data1[i];
								newlist=data2[i];
								dbl_clk_function=data3[i];
								filter_control_function =data4[i];
								filter_values =data5[i];
								NOrecords = data6[i];

								$('.CommonContainer').addClass('disp_blk');
								$('#'+div).addClass('disp_blk');
								if (NOrecords != 'NORECORDS') {
									if (document.getElementById(div)) {
										if (dataset[0].length ==1)
										{
											document.getElementById(div).innerHTML=''
											document.getElementById(div).innerHTML = tableheader;
											if (document.getElementById('container9101'))
											{
												$('#container9101').removeClass('disp_blk');
												$('#container9101').addClass('disp_none');
												$('.CommonContainer').addClass('disp_blk');
												$('#'+div).addClass('disp_blk');
											}
										}
										else{

											$('#container9101').removeClass('disp_none');
											$('#container9101').addClass('disp_blk');
											document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' + tableheader;
										}
									}
								} else {
									if (document.getElementById(div)) {
										document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' +'<div class="noRecDisp">No Records to Display</div>';
										$('#'+div).addClass('brd1_pad_5');
									}
								}
								if (dataset[0].length ==1)
									{
										$('#div_CTR_PRICEFACTORLOAD #' + tableids).bootstrapTable('load',newlist);
											$('#div_CTR_PRICEFACTORLOAD #' + tableids).after(data7[i]);
											if (document.getElementById(tableids + "_NumberofItem")) {
												document.getElementById(tableids + "_NumberofItem").innerHTML = data8[i];
											}
											if (document.getElementById(table_id + "_page_count")) {
												document.getElementById(table_id + "_page_count").innerHTML=parseInt(page_count) + 1}
									}
								else{
									$('#'+tableids).bootstrapTable('load',newlist );
									$('#' + tableids).after(data7[i]);
									if (document.getElementById(tableids+ "_NumberofItem")) {
										document.getElementById(tableids+ "_NumberofItem").innerHTML = data8[i];
									}
									if (document.getElementById(table_id + "_page_count")) {
										document.getElementById(table_id + "_page_count").innerHTML=parseInt(page_count) + 1}
								}
								if(localStorage.getItem("pricefactor_load")== "1" && CurrentRecordId == 'div_CTR_PRICEFACTORLOAD'){
									//$('.BTN_MA_ALL_REFRESH').click();
									localStorage.setItem("pricefactor_load", "0");
								}
								eval(dbl_clk_function);
								//eval(filter_control_function);
								//eval(data8);
								//$('#' + data1).after(data10);
								//eval(dataset[13]);

								$("#"+tableids+" tbody tr td").each(function(){
								var currentRow=$(this);
								if ($(this).text()=='-' )
								{
									$(this).text('0.00000')
								}
							});

							}
						}*/
					});

				} catch (e) {
					console.log(e);
				}
			} else if (tabname == 'EntriesRelated_list') {
				//10763 starts....
				TreeParentParam = ''
				TreeParam = localStorage.getItem('CommonTreeParam');
				//TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				if (TreeParam != 'Where Used') {
					$('.container_banner_inner_sec').css('display', 'none');
				}
				try {
					cpq.server.executeScript("PRLDMTRLGR", {

						"ACTION": 'PRLPBE_LOAD_FILTER',
						"PerPage": PerPage,
						"PageInform": PageInform,
						"ATTRIBUTE_VALUE": A_Values,
						"ATTRIBUTE_NAME": A_Keys,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"table_id": table_id
					},

						function (dataset) {

							datas = dataset[0];
							const arrayToList = arr => arr.length ? ({
								value: arr[0]
							}) : null;
							data = arrayToList(datas).value;
							$("#" + data[2] + " tbody").empty();

							if (document.getElementById(table_id + "_NumberofItem")) {
								document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
							}

							if (document.getElementById(table_id + "_totalItemCount")) {
								document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
							}

							if (document.getElementById(table_id + "_page_count")) {
								document.getElementById(table_id + "_page_count").innerHTML = parseInt(page_count) + 1
							}


							if (data[0].length != 0) {

								try {
									$('table#' + table_id).bootstrapTable('load', data[0]);
								} catch (e) {
									console.log(e);
								}
							}
							if (data[0].length == 0) {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
						});
				} catch (e) {
					console.log(e);
				}
			}
			// code refactoring pricing starts....
			else if (tabname == 'prcfvavalue') {
				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				RecordId = localStorage.getItem('CurrentRecordId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				var ACTION = '';
				if (table_id.indexOf('PRICEFACTOR_IN_PRICEBOOKS') !== -1) {
					ACTION = 'FILTER_VIEW'
				} else {
					ACTION = 'PRODUCT_FILTER_VIEW'
				}

				try {
					cpq.server.executeScript("PRLDMTRLGR", {
						"ACTION": ACTION,
						"TopSuperParentParam": TopSuperParentParam,
						"PerPage": PerPage,
						"PageInform": PageInform,
						'ATTRIBUTE_NAME': A_Keys,
						'ATTRIBUTE_VALUE': A_Values,
						"TreeSuperParentParam": TreeSuperParentParam,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"CurrentRecordId": RecordId
					},
						function (dataset) {

							data1 = dataset[2];
							data2 = dataset[0];
							data10 = dataset[3];
							if (data[0].length != 0) {
								$('#' + data1).bootstrapTable('load', data2);

							} else {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data10;
							}
							if (document.getElementById(data1 + "_page_count")) {
								document.getElementById(data1 + "_page_count").innerHTML = parseInt(page_count) + 1;
							}

						});
				} catch (e) {
					console.log(e);
				}

			} //code refactoring pricing ends...
			else if (tabname == 'LISTPRICEBOOKSINPRICEMODEL') {

				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				//6304 -JIRA ID	starts...
				var ACTION = '';
				if (TreeParam.toLowerCase().indexOf("sor") >= 0) {
					RecordId = 'SYOBJR-70085';
					ACTION = 'CHILDLOAD'
				} else {
					RecordId = 'SYOBJR-30114';
					ACTION = 'LOAD'
				}
				cpq.server.executeScript("PRPMTREVEW", {
					'Record_id': RecordId,
					'TreeView': 'TreeGridRight',
					'TreeParam': TreeParam,
					'TreeParentParam': TreeParentParam,
					'TreeSuperParentParam': TreeSuperParentParam,
					'TopSuperParentParam': TopSuperParentParam,
					'ACTION': ACTION,
					'PerPage': PerPage,
					'PageInform': PageInform
				},
					function (dataset) {

						data1 = dataset[2];
						data2 = dataset[1];
						data10 = dataset[10];

						$('#' + data1).bootstrapTable('load', data2);
						$(".listContStyle").css("display", "none");
						$('#' + data1).after(data10);

						//6304 -JIRA ID	ends....


					});
			} else if (tabname == 'Grid_Copart') {

				cpq.server.executeScript("SYPOPUPMOD", {
					'REC_ID': '',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'ACTION': "PRODUCT_LOAD",
				},
					function (dataset) {
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data5 = dataset[5];
						data4 = dataset[4];

						$('#' + data2).bootstrapTable('load', data3);
						//$('#' + data2).after(data5);
						if (document.getElementById("coppart_popup_model_NumberofItem")) {
							document.getElementById("coppart_popup_model_NumberofItem").innerHTML = data4;
						}
					});
			}

		}

	}

}

function LastPageLoad_paginationChild(tabname, rec, table_id) {
	TreeParentParam = localStorage.getItem('CommonTreeParentParam');
	var NumberofItem = '';
	var end = '';
	if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'EntriesRelated_list' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {

		var totalItemCount = document.getElementById(table_id + "_totalItemCount").innerHTML;
		var page_count = document.getElementById(table_id + "_page_count").innerHTML;
		var PerPage = $("#" + table_id + "_PageCountValue").val();
		NumberofItem = document.getElementById(table_id + "_NumberofItem").innerHTML;
		end = NumberofItem.trim().split(' ')[2]

	}
	else if (tabname == 'Quote' || tabname == 'Quotes' || tabname == "Contracts") {

		var totalItemCount = document.getElementById(table_id + "___totalItemCount").innerHTML;
		var page_count = document.getElementById(table_id + "___page_count").innerHTML;
		var PerPage = $("#" + table_id + "___PageCountValue").val();

	}
	else {

		var totalItemCount = document.getElementById("totalItemCount").innerHTML;
		var page_count = document.getElementById("page_count").innerHTML;
		var PerPage = $("#PageCountValue").val();

	}
	var page_count = parseInt(totalItemCount) / parseInt(PerPage);

	if (page_count.toString().indexOf('.') != -1) {
		page_count = parseInt(page_count) + 1;
	}
	if (parseInt(page_count) > 1) {
		var Firstrecord = ((parseInt(page_count) - 1) * parseInt(PerPage)) + 1
	} else {
		Firstrecord = 1
	}
	var Lastrecord = parseInt(PerPage) * parseInt(page_count)
	if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'EntriesRelated_list' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'Price_factors' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {
		document.getElementById(table_id + "_NumberofItem").innerHTML = Firstrecord + ' - ' + totalItemCount + ' of '
		document.getElementById(table_id + "_page_count").innerHTML = Math.round(page_count)
	}
	else if (tabname == 'Quote' || tabname == 'Quotes' || tabname == 'Contract') {

		NumberofItem = document.getElementById(table_id + "___NumberofItem").innerHTML;
		end = NumberofItem.trim().split(' ')[2]
		document.getElementById(table_id + "___NumberofItem").innerHTML = Firstrecord + ' - ' + totalItemCount + ' of '
		document.getElementById(table_id + "___page_count").innerHTML = Math.round(page_count)

	}
	else {

		document.getElementById("NumberofItem").innerHTML = Firstrecord + ' - ' + totalItemCount + ' of '
		document.getElementById("page_count").innerHTML = Math.round(page_count)

	}
	var PageInform = Firstrecord + '___' + Lastrecord + '___' + Math.round(page_count)

	var A_Keys = [];
	var A_Values = [];
	if ((end == '') || (end != '' && (end < totalItemCount))) {
		if (tabname == 'Categories') {

			var A_Keys = ["CATEGORY_RECORD_ID", "CATEGORY_NAME", "CATEGORY_ID", "RANK"]

			var CATEGORY_NAME = $("#catTreeTable_CATEGORY_NAME_InputFilter").val();
			var CATEGORY_ID = $("#catTreeTable_CATEGORY_ID_InputFilter").val();
			var RANK = $("#catTreeTable_RANK_InputFilter").val();

			A_Values.push('');
			A_Values.push(CATEGORY_NAME);
			A_Values.push(CATEGORY_ID);
			A_Values.push(RANK);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'CategoriesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});

			});

		} else if (tabname == 'Price Classes') {


			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'PriceClassesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#table_price_class').bootstrapTable('load', data1);
				if (document.getElementById("NumberofItem")) {
					document.getElementById("NumberofItem").innerHTML = data11;
				}

			});
		}
		/////////////A055S000P01-3263 start
		else if (tabname == 'Quote' && table_id.includes("WithBundleParentTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId");
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'WITH BUNLDLE PARENT TABLE',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		/////////////A055S000P01-3263 end
		//Equipment Master starts..
		else if ((tabname == 'Quote' && TreeParentParam != "Complementary Products" && table_id.includes("table_equipment_parent")) && (TreeParam != "Sending Equipment" && TreeParam != "Receiving Equipment" && TreeParentParam != "Sending Equipment" && TreeParentParam != "Receiving Equipment") && (TreeSuperParentParam != "Sending Equipment" && TreeSuperParentParam != "Receiving Equipment")) {
			if (end != '' && (parseInt(end) < parseInt(totalItemCount))) {
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;
					if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
						x = values.split(' ')[2];
						y = x.split("-").slice(-1)[0];
						xyz = $('.' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}
					if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
						x = values.split(' ')[1];
						y = x.split("-").slice(-1)[0];
						xyz = $('.' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}

				});

				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Equipment Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {

					data1 = datas[1];
					data11 = datas[11];
					$('#table_equipment_parent').bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}

				});
			}
		}
		//Equipment Master ends..
		else if (tabname == 'Quote' && table_id.includes("table_events_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Events Child filter',
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		else if (tabname == 'Quote' && table_id.includes("table_event_parent")) {
			if (end != '' && (parseInt(end) < parseInt(totalItemCount))) {
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;
					if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
						x = values.split(' ')[2];
						y = x.split("-").slice(-1)[0];
						xyz = $('.' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}
					if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
						x = values.split(' ')[1];
						y = x.split("-").slice(-1)[0];
						xyz = $('.' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}

				});

				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Event Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {

					data1 = datas[1];
					data2 = datas[2];
					data11 = datas[11];
					data14 = datas[14];
					$('#table_event_parent').bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}

					if (data14 != "True") {
						$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').removeAttr('disabled')
						$('#' + data2 + ' #INCLUDED').closest('tr').find('td:nth-child(3) input').attr("onclick", "OnclickAssemblyEdit(this,'TKM')");
					}


				});
			}
		}
		else if (tabname == 'Quote' && table_id.includes("table_equipment_parent") && (TreeParentParam == "Sending Equipment" || TreeParentParam == "Receiving Equipment" || TreeParentParam == "Complementary Products" || TreeSuperParentParam == "Sending Equipment" || TreeSuperParentParam == "Receiving Equipment" || TreeParam == "Sending Equipment")) {
			if (end != '' && (parseInt(end) < parseInt(totalItemCount))) {
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;
					if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
						x = values.split(' ')[2];
						y = x.split("-").slice(-1)[0];
						xyz = $('.' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}
					if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
						x = values.split(' ')[1];
						y = x.split("-").slice(-1)[0];
						xyz = $('.' + x).val();
						if ($.inArray(y, A_Keys) === -1) {
							A_Keys.push(y);
							A_Values.push(xyz)
						};
					}

				});
				if (TreeParentParam == "Complementary Products" && localStorage.getItem("currentSubTab") == "Receiving Equipment") {
					var curr_tabname = 'CovObj Master Pagination'
				}
				else {
					var curr_tabname = 'Sending Equipment Parent Pagination'
				}
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': curr_tabname,
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {

					data1 = datas[1];
					data11 = datas[11];
					data2 = datas[2];
					$('#' + data2).bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}

				});
			}
		}

		//Equipment Child starts...
		else if (tabname == 'Quote' && table_id.includes("table_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			ChildEquipcpId = localStorage.getItem("ChildEquipcpId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Equipment Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CHILDEQUIPMENT': ChildEquipmentId,
					'CPQ_TAB_ID': ChildEquipcpId
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Equipment Child ends...
		else if (tabname == 'Quote' && table_id.includes("table_sending_equipment_child")) {
			ChildEquipmentId = localStorage.getItem("ChildEquipmentId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Sendingequp Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'EQUIPMENTID': ChildEquipmentId,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//quote items node nested grid starts...
		else if (tabname == 'Quote' && table_id.includes("CommonChildTable")) {
			REC_ID = localStorage.getItem("ChildEquipmentId")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ');
					x = x[x.length - 1]
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'pagination_flag': 'yes',
					'REC_ID': REC_ID,
					'TABNAME': 'Common Child',
					'ACTION': 'CHILDLOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform,
				}, function (datas) {
					data1 = datas[1];
					data2 = data[2]; //table id dynamic
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		////quote items node nested grid ends...
		//Contract Equipment Master starts..
		else if (tabname == 'Contract' && table_id.includes("table_Contract_equipment_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'Contract Equipment Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}

			});
		}
		//Contract Equipment Master ends..

		//Covered object Master starts..
		else if (tabname == 'Quote' && table_id.includes("table_covered_obj_parent")) {
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}

			});

			cpq.server.executeScript("CQNESTGRID", {
				'TABNAME': 'CovObj Master Pagination',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				data1 = datas[1];
				data11 = datas[11];
				$('#' + table_id).bootstrapTable('load', data1);
				if (document.getElementById(table_id + "___NumberofItem")) {
					document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
				}
			});
		}
		//Covered object Master ends..
		//Covered object Child starts..
		else if (tabname == 'Quote' && table_id.includes("covered_obj_child")) {
			CoveredobjectEquipmentId = localStorage.getItem("CoveredobjectchildEquipmentId")
			CPQ_TAB_ID = localStorage.getItem("CoveredobjectchildEquipmentcpId")
			$('#' + table_id + ' .filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'CoveredObj Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'EQUIPMENTID': CoveredobjectEquipmentId,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'CPQ_TAB_ID': CPQ_TAB_ID
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
					if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
						$("#" + table_id + " #INCLUDED").attr('disabled', 'disabled');
					}
					else {
						$("#" + table_id + " #INCLUDED").removeAttr('disabled');
						$("#" + table_id + " #INCLUDED").attr("onclick", "OnclickAssemblyEdit(this)");
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Covered object Child ends..
		// Contract Covered object Master starts...
		else if (tabname == 'Contract' && table_id.includes("table_contract_covered_obj_parent")) {
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Contract CovObj Master Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		// Contract Covered object Master ends...
		//Events Master pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_Preventive_Maintainence_parent")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			sort_column = localStorage.getItem(table_id + '_SortColumn');
			sort_order = localStorage.getItem(table_id + '_SortColumnOrder');
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					values = values.split(' ');
					index = values.indexOf(values.find(ele => ele.includes('bootstrap-table-filter-control')))
					x = values[index];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Parent Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'PerPage': PerPage,
					'PageInform': PageInform,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById("NumberofItem")) {
						document.getElementById("NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events Master pagination ends...
		//Events child pagination starts..
		else if (tabname == 'Quote' && table_id.includes("table_preventive_maintainence_child")) {
			Assembly_Id = localStorage.getItem("AssemblyIdValue")
			Equipment_Id = localStorage.getItem("EquipmentIdValue")
			PM_Id = localStorage.getItem("PM_ID")
			Kit_Id = localStorage.getItem("KIT_ID")
			Kit_Number = localStorage.getItem("KIT_NUMBER")
			$('.filter-control').each(function () {
				values = this.firstElementChild.className;
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('.' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
			});
			try {
				cpq.server.executeScript("CQNESTGRID", {
					'TABNAME': 'Preventive Maintainence Child Pagination',
					'ACTION': 'LOAD',
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ASSEMBLYID': Assembly_Id,
					'EQUIPMENTID': Equipment_Id,
					'KITID': Kit_Id,
					'KITNUMBER': Kit_Number,
					'PM_ID': PM_Id,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (datas) {
					data1 = datas[1];
					data11 = datas[11];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "___NumberofItem")) {
						document.getElementById(table_id + "___NumberofItem").innerHTML = data11;
					}
				});
			} catch (e) {
				console.log(e);
			}
		}
		//Events child pagination ends...
		// A043S001P01-10888 START
		else if (tabname == 'Roles') {

			var A_Keys = ["ROLE_RECORD_ID", "ROLE_NAME", "ROLE_ID", "ROLE_DESCRIPTION", "PAR_ROLE_RECORD_ID", "PAR_ROLE_ID", "START_PAGE"]


			//$('.e-filtertext').each(function() {

			//values = this.name;

			//A_Keys.push(values);

			//});
			var ROLE_NAME = $("#RolesTreeTable_ROLE_NAME_InputFilter").val();
			var ROLE_ID = $("#RolesTreeTable_ROLE_ID_InputFilter").val();
			var ROLE_DESCRIPTION = $("#RolesTreeTable_ROLE_DESCRIPTION_InputFilter").val();
			var PAR_ROLE_ID = $("#RolesTreeTable_PAR_ROLE_ID_InputFilter").val();
			var START_PAGE = $("#RolesTreeTable_START_PAGE_InputFilter").val();

			A_Values.push('');
			A_Values.push(ROLE_NAME);
			A_Values.push(ROLE_ID);
			A_Values.push(ROLE_DESCRIPTION);
			A_Values.push(PAR_ROLE_ID);
			A_Values.push(START_PAGE);

			cpq.server.executeScript("SYCATTREVW", {
				'TABNAME': 'RolesFilter',
				'ACTION': 'LOAD',
				'ATTRIBUTE_NAME': A_Keys,
				'ATTRIBUTE_VALUE': A_Values,
				'PerPage': PerPage,
				'PageInform': PageInform
			}, function (datas) {

				var employees = datas[0];
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: '500px'
					}
				});
				$("#catTreeTable").ejTreeGrid({
					dataSource: employees,
				});
				var treegridObj = $("#catTreeTable").data("ejTreeGrid");
				if (treegridObj != null && treegridObj != undefined) {
					treegridObj.collapseAll();
				}
				$("#catTreeTable").ejTreeGrid({
					sizeSettings: {
						height: 'auto'
					}
				});

			});

		}
		// A043S001P01-10888 END
		else if (tabname == 'MaterialTreeView' || tabname == 'RelatedList' || tabname == 'AtrrPivot_RelatedList' || tabname == 'PLANT_RelatedList' || tabname == 'Pricefactor' || tabname == 'EntriesRelated_list' || tabname == 'Price_factors' || tabname == 'cartFields' || tabname == 'LISTPRICEBOOKSINPRICEMODEL' || tabname == 'Grid_Copart' || tabname == 'prcfvavalue') {

			A_Keys = [];
			A_Values = [];
			PR_CURR = $(".segment_part_number_text").text();
			var TP = localStorage.getItem('CommonTreeParam');
			var table_divid = '';
			if ($('table#' + table_id).closest('div[id]').attr('id') && ($('table#' + table_id).closest('div[id]').attr('id')).indexOf('div_') == -1) {
				table_divid = 'div#' + $('table#' + table_id).closest('div[id]').attr('id');
			}
			//table_list = ['prbkmaterial','prcfvavalue','EntriesRelated_list']
			/*if(jQuery.inArray(tabname, table_list)){
				$('#' + table_id + ' .filter-control').each(function () {
					values = this.firstElementChild.className;

					//if ((values.split(' ').length) == 2) {
						if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
							x = values.split(' ')[1];console.log(x);
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}
						if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
							x = values.split(' ')[2];
							y = x.split("-").slice(-1)[0];
							xyz = $('#' + table_id + ' .' + x).val();
							if($.inArray(y, A_Keys) === -1){ A_Keys.push(y); A_Values.push(xyz)};
						}

					console.log(A_Keys,A_Values)
				});
			}
			else{*/
			$(table_divid + ' table#' + table_id + ' .filter-control').each(function () {

				values = this.firstElementChild.className;

				//if ((values.split(' ').length) == 2) {
				if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
					x = values.split(' ')[2];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}
				if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
					x = values.split(' ')[1];
					y = x.split("-").slice(-1)[0];
					xyz = $('#' + table_id + ' .' + x).val();
					if ($.inArray(y, A_Keys) === -1) {
						A_Keys.push(y);
						A_Values.push(xyz)
					};
				}



			});
			//}


			if (tabname == 'RelatedList') {
				//Code to remain sorting after pagination change -- start
				sort_order = '';
				sort_column = '';
				$('#' + table_id + ' > thead > tr > th').each(function () {
					if ($(this).find('div').attr('class').includes('asc')) {
						sort_order = 'asc';
						sort_column = $(this).attr('data-field');
					}
					if ($(this).find('div').attr('class').includes('desc')) {
						sort_order = 'desc';
						sort_column = $(this).attr('data-field');
					}
				});
				if (table_id == 'SYOBJR_98868_367DD2FA_9FE9_4DB9_906E_BD4ACB096E6F') {
					cpq_tab_id = localStorage.getItem('CurrentRecordId');
				}
				else {
					cpq_tab_id = ""
				}
				//Code to remain sorting after pagination change -- end
				cpq.server.executeScript("SYLDRTLIST", {
					'REC_ID': table_id,
					'ATTRIBUTE_NAME': A_Keys,
					'ATTRIBUTE_VALUE': A_Values,
					'ACTION': 'PRODUCT_ONLOAD_FILTER',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'PR_CURR': PR_CURR,
					'TP': TP,
					'SortColumn': sort_column,
					'SortColumnOrder': sort_order,
					'SUBTAB': localStorage.getItem("currentSubTab"),
					'equipment_id': localStorage.getItem('openedKit'),
					'CPQ_TAB_ID': cpq_tab_id
				}, function (dataset) {



					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (table_id == "SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161") {
						if ($('.segment_revision_sale_id_text').text() != 'CFG-CONFIGURING') {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("disabled", "disabled");
						}
						else {
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").remove("disabled");
							$("#SYOBJR_98882_ACE2CB08_73E0_4295_AC8C_78845C297161 #INCLUDED").attr("onclick", "OnclickNsoEdit(this)");
						}
					}
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}
					//A055S000P01-682 Start To hide the key column
					//if (TreeParam == "Quote Preview"){
					//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 thead tr th:first").hide()
					//$("#SYOBJR_98792_3F435A71_A620_4F6A_AA5F_932100742526 tbody tr td:nth-child(1)").hide()
					//}
					//A055S000P01-682 end To hide the key column
					if (RecId == 'SYOBJR-00009') {
						annualgrid_show()
					}

				});
			}

			if (tabname == 'MaterialTreeView') {
				RECORD_ID = localStorage.getItem('MtrlPaginationRecId');
				TreeParam = localStorage.getItem('MtrlPaginationTreeParam');
				ACTION = localStorage.getItem('MtrlPaginationAction');
				if (ACTION == 'LOAD') {
					ACTION_ONCHANGE = 'PRODUCT_ONCHNAGE';
				} else {
					ACTION_ONCHANGE = 'CHILD_PRODUCT_ONCHNAGE';
				}
				cpq.server.executeScript("MATREEVIEW", {
					"TreeView": "TreeGridRight",
					"RelatedRecId": rec,
					"RECORD_ID": RECORD_ID,
					"TreeParam": TreeParam,
					"ATTRIBUTE_NAME": A_Keys,
					"ATTRIBUTE_VALUE": A_Values,
					"ACTION": ACTION_ONCHANGE,
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {



					data2 = dataset[1];
					data1 = dataset[0];
					data13 = dataset[2];
					$('#' + table_id).bootstrapTable('load', data1);
					if (document.getElementById(table_id + "_totalItemCount")) {
						document.getElementById(table_id + "_totalItemCount").innerHTML = data2;
					}
					if (document.getElementById(table_id + "_NumberofItem")) {
						document.getElementById(table_id + "_NumberofItem").innerHTML = data13;
					}

				});
			} else if (tabname == 'AtrrPivot_RelatedList') {

				cpq.server.executeScript("MAATLOPIVT", {
					'Preview': 'True',
					'ACTION': '',
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {




					data2 = dataset[2];
					data1 = dataset[1];
					data10 = dataset[10];
					$('#' + data2).bootstrapTable('load', data1);
					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data10;
					}

				});

			} else if (tabname == 'PLANT_RelatedList') {

				cpq.server.executeScript("SYLDCTNPTL", {
					'ContainerType': 'DYNAMIC ROWS',
					'Row_Count': 'ButtonName',
					'New_CtrName': 'PLANT_AND_MATERIAL_ATTRIBUTES',
					'Column_Count': '0',
					'SQL_Expression': 'SYSEFL-MA-00469',
					'Column_Names_List': "[{'FIELD_NAME': 'KEY', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PERSONALIZATION_NAME'}, {'FIELD_NAME': 'PERSONALIZATION NAME', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_ID'}, {'FIELD_NAME': 'PERSONALIZATION TYPE', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'PLANT_NAME'}, {'FIELD_NAME': 'SAP PART NUMBER', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SAP_PART_NUMBER'}]",
					'PerPage': PerPage,
					'PageInform': PageInform
				}, function (dataset) {
					data2 = dataset[2];
					data1 = dataset[1];
					data7 = dataset[7];

					$('#' + data2).bootstrapTable('load', data1);

					if (document.getElementById(data2 + "_NumberofItem")) {
						document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
					}

				});

			} else if (tabname == 'cartFields') {


				try {
					cpq.server.executeScript("SYLDCTFLDS", {
						'PerPage': PerPage,
						'PageInform': PageInform
					}, function (dataset) {
						data2 = dataset[2];
						data1 = dataset[1];
						data7 = dataset[7];

						$('#' + data2).bootstrapTable('load', data1);

						if (document.getElementById(data2 + "_NumberofItem")) {
							document.getElementById(data2 + "_NumberofItem").innerHTML = data7;
						}

					});
				} catch (e) {
					console.log(e);
				}

			} else if (tabname == 'Pricefactor') {

				ParentNodeRecId = localStorage.getItem('CurrentRecordId');
				var QSt_id = '';
				var columns = '';
				var New_CtrName = '';

				TreeParam = localStorage.getItem('PrcTreeParam');
				if (table_id == 'SALES_ORG_LEVEL_DEFAULT_FACTORS_PageCountValue') {
					var QSt_id = 'SYSEFL-PB-00437';
					var columns = "[{'FIELD_NAME': 'SALES ORG ID', 'DATA_TYPE': 'NVARCHAR', 'API_METHOD': 'SALESORG_ID'}]"
					var New_CtrName = 'GLOBAL SALESORG LIST PRICBOOK SET FACTORS';
					cpq.server.executeScript("SYLDCTNPTL", {
						'ParentNodeRecId': ParentNodeRecId,
						'ContainerType': 'DYNAMIC ROWS',
						'Row_Count': '',
						'New_CtrName': New_CtrName,
						'Column_Count': '2',
						'SQL_Expression': QSt_id,
						'Column_Names_List': columns,
						'PerPage': PerPage,
						'PageInform': PageInform
					},
						function (dataset) {

							data1 = dataset[1];
							data2 = dataset[2];
							data11 = dataset[11];

							$('#' + data1).bootstrapTable('load', data2);

							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
							}

						});
				} else if (table_id == 'PRICE_CLASS_LEVEL_FACTORS') {
					var QSt_id = 'SYSEFL-PB-00438';
					var allow = 0
					for (var i = 0; i < A_Values.length; i++) {
						if (A_Values[i] != "") {
							allow = 1
						}
					}
					if (allow == 1) {

						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': 'PRICE_CLASS_LEVEL_FACTORS',
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': A_Keys,
							'ATTRIBUTE_VALUE': A_Values,
							'ACTION': 'PRODUCT_ONLOAD',
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[0];

								$('#PRICE_CLASS_LEVEL_FACTORS').bootstrapTable('load', data1);

							});

					} else {
						var columns = "[{'FIELD_NAME':'SALES ORG ID','DATA_TYPE':'NVARCHAR','API_METHOD': 'SALESORG_ID'},{'FIELD_NAME':'PRICE CLASS ID','DATA_TYPE':'NVARCHAR','API_METHOD':'PRICECLASS_ID'}]"
						var New_CtrName = 'G_SALESMODEL_CLS_PRBSET_FACTORS';
						cpq.server.executeScript("SYLDCTNPTL", {
							'ParentNodeRecId': ParentNodeRecId,
							'ContainerType': 'DYNAMIC ROWS',
							'Row_Count': '',
							'New_CtrName': New_CtrName,
							'Column_Count': '2',
							'SQL_Expression': QSt_id,
							'Column_Names_List': columns,
							'PerPage': PerPage,
							'PageInform': PageInform
						},
							function (dataset) {

								data1 = dataset[1];
								data2 = dataset[2];
								data11 = dataset[11];

								$('#' + data1).bootstrapTable('load', data2);

								if (document.getElementById(data1 + "_NumberofItem")) {
									document.getElementById(data1 + "_NumberofItem").innerHTML = data11;
								}

							});

					}
				}

			} else if (tabname == 'Price_factors') {
				/*var uniqueNames = [];
				var uniqueNames = []; var pageinform=[];
				var dict_new={};var pageinform_dict ={};
				var num =1;var div='div_CTR_PRICEFACTORLOAD';
				if (localStorage.getItem("CurrentRecordId") == ''){
					div='div_G_SALESMODEL_CLS_PRBSET_FACTORS';
					num=5;
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS select").each(function(){
						if($.inArray($(this).attr("id"), uniqueNames) === -1) uniqueNames.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					uniqueNames.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							dict_new[ele] = PerPage;
						}else{
							dict_new[ele] = String($('#'+ele).val());
						}
					});
					$("#div_G_SALESMODEL_CLS_PRBSET_FACTORS span").each(function(){
						if($.inArray($(this).attr("id"), pageinform) === -1) pageinform.push($(this).attr("id"));
					});
					//console.log(uniqueNames);
					pageinform.forEach(function(ele){
						if(ele !== undefined && ele.indexOf(table_id) === 0){
							//dict_new[ele] = PerPage;
							console.log('dddd');
						}else{
							pageinform_dict[ele] = String($('#'+ele).text());
						}
					});
					document.getElementById(div).innerHTML='';
				}*/


				//console.log(dict_new);
				Record_id = localStorage.getItem("CurrentRecordId");
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				try {
					cpq.server.executeScript("PRPRFALOAD", {
						'TreeView': 'TreeGridRight',
						'Record_id': Record_id,
						'TreeParam': TreeParam,
						'TreeParentParam': TreeParentParam,
						'TreeSuperParentParam': TreeSuperParentParam,
						'PerPage': PerPage,
						'PageInform': PageInform,
						"Action": "Filter_load",
						"AttributeName": A_Keys,
						"AttributeValue": A_Values,
						"table_id": table_id
						//'tableperpage':dict_new,
						//'tables_pageinform':pageinform_dict
					}, function (dataset) {
						datas = dataset[0];
						const arrayToList = arr => arr.length ? ({
							value: arr[0]
						}) : null;
						data = arrayToList(datas).value;
						$("#" + data[2] + " tbody").empty();
						if (document.getElementById(table_id + "_NumberofItem")) {
							document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
						}

						if (document.getElementById(table_id + "_totalItemCount")) {
							document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
						}

						if (document.getElementById(table_id + "_page_count")) {
							document.getElementById(table_id + "_page_count").innerHTML = Math.round(page_count)
						}

						if (data[0].length != 0) {
							try {
								$("table#" + table_id).bootstrapTable("load", data[0]);
							} catch (e) {
								setTimeout(function () {
									$("table#" + table_id).bootstrapTable("load", data[0]);
								}, 1000);
							}
						}
						if (data[0].length == 0) {
							var count_val = $("#" + table_id + " thead tr th").length;
							$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
						}

						/*datas = dataset[0];
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data4 = dataset[4];
						data5 = dataset[5];
						data6 = dataset[6];
						data7 = dataset[7];
						data8 = dataset[8];
						if (dataset[0].length > 0){
							for(i=0; i < num;i++){
								tableheader=datas[i];
								tableids=data1[i];
								newlist=data2[i];
								dbl_clk_function=data3[i];
								filter_control_function =data4[i];
								filter_values =data5[i];
								NOrecords = data6[i];

								$('.CommonContainer').addClass('disp_blk');
								$('#'+div).addClass('disp_blk');
								if (NOrecords != 'NORECORDS') {
									if (document.getElementById(div)) {
										if (dataset[0].length ==1)
										{
											document.getElementById(div).innerHTML=''
											document.getElementById(div).innerHTML = tableheader;
											if (document.getElementById('container9101'))
											{
												$('#container9101').removeClass('disp_blk');
												$('#container9101').addClass('disp_none');
												$('.CommonContainer').addClass('disp_blk');
												$('#'+div).addClass('disp_blk');
											}
										}
										else{

											$('#container9101').removeClass('disp_none');
											$('#container9101').addClass('disp_blk');
											document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' + tableheader;
										}
									}
								} else {
									if (document.getElementById(div)) {
										document.getElementById(div).innerHTML += '<div class="container_banner_inner_sec">'+tableids.replace('_prlpbk_factors_load', "").replace(/_/g, " ").toUpperCase()+'</div>' +'<div class="noRecDisp">No Records to Display</div>';
										$('#'+div).addClass('brd1_pad_5');
									}
								}
								if (dataset[0].length ==1)
									{
										$('#div_CTR_PRICEFACTORLOAD #' + tableids).bootstrapTable('load',newlist);
											$('#div_CTR_PRICEFACTORLOAD #' + tableids).after(data7[i]);
											if (document.getElementById(tableids + "_NumberofItem")) {
												document.getElementById(tableids + "_NumberofItem").innerHTML = data8[i];
											}
											if (document.getElementById(table_id + "_page_count")) {
												document.getElementById(table_id + "_page_count").innerHTML = Math.round(page_count)}
									}
								else{
									$('#'+tableids).bootstrapTable('load',newlist );
									$('#' + tableids).after(data7[i]);
									if (document.getElementById(tableids+ "_NumberofItem")) {
										document.getElementById(tableids+ "_NumberofItem").innerHTML = data8[i];
									}
									if (document.getElementById(table_id + "_page_count")) {
										document.getElementById(table_id + "_page_count").innerHTML = Math.round(page_count)}
								}
								if(localStorage.getItem("pricefactor_load")== "1" && CurrentRecordId == 'div_CTR_PRICEFACTORLOAD'){
									//$('.BTN_MA_ALL_REFRESH').click();
									localStorage.setItem("pricefactor_load", "0");
								}
								eval(dbl_clk_function);
								//eval(filter_control_function);
								//eval(data8);
								//$('#' + data1).after(data10);
								//eval(dataset[13]);

								$("#"+tableids+" tbody tr td").each(function(){
								var currentRow=$(this);
								if ($(this).text()=='-' )
								{
									$(this).text('0.00000')
								}
							});

							}
						}*/
					});

				} catch (e) {
					console.log(e);
				}
			} else if (tabname == 'EntriesRelated_list') {
				//10763 starts....
				TreeParentParam = ''
				TreeParam = localStorage.getItem('CommonTreeParam');
				//TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				if (TreeParam != 'Where Used') {
					$('.container_banner_inner_sec').css('display', 'none');
				}
				try {
					cpq.server.executeScript("PRLDMTRLGR", {

						"ACTION": 'PRLPBE_LOAD_FILTER',
						"PerPage": PerPage,
						"PageInform": PageInform,
						"ATTRIBUTE_VALUE": A_Values,
						"ATTRIBUTE_NAME": A_Keys,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"table_id": table_id
					},

						function (dataset) {

							datas = dataset[0];
							const arrayToList = arr => arr.length ? ({
								value: arr[0]
							}) : null;
							data = arrayToList(datas).value;
							$("#" + data[2] + " tbody").empty();

							if (document.getElementById(table_id + "_NumberofItem")) {
								document.getElementById(table_id + "_NumberofItem").innerHTML = data[3];
							}

							if (document.getElementById(table_id + "_totalItemCount")) {
								document.getElementById(table_id + "_totalItemCount").innerHTML = data[1];
							}

							if (document.getElementById(table_id + "_page_count")) {
								document.getElementById(table_id + "_page_count").innerHTML = Math.round(page_count);
							}


							if (data[0].length != 0) {

								try {
									$('table#' + table_id).bootstrapTable('load', data[0]);
								} catch (e) {
									console.log(e);
								}
							}
							if (data[0].length == 0) {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
						});
				} catch (e) {
					console.log(e);
				}
			}
			// code refactoring pricing starts....
			else if (tabname == 'prcfvavalue') {
				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				RecordId = localStorage.getItem('CurrentRecordId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				var ACTION = '';
				if (table_id.indexOf('PRICEFACTOR_IN_PRICEBOOKS') !== -1) {
					ACTION = 'FILTER_VIEW'
				} else {
					ACTION = 'PRODUCT_FILTER_VIEW'
				}

				try {
					cpq.server.executeScript("PRLDMTRLGR", {
						"ACTION": ACTION,
						"TopSuperParentParam": TopSuperParentParam,
						"PerPage": PerPage,
						"PageInform": PageInform,
						'ATTRIBUTE_NAME': A_Keys,
						'ATTRIBUTE_VALUE': A_Values,
						"TreeSuperParentParam": TreeSuperParentParam,
						"TreeParentParam": TreeParentParam,
						"TreeParam": TreeParam,
						"CurrentRecordId": RecordId
					},
						function (dataset) {

							data1 = dataset[2];
							data2 = dataset[0];
							data10 = dataset[3];
							if (data[0].length != 0) {
								$('#' + data1).bootstrapTable('load', data2);

							} else {
								var count_val = $("#" + table_id + " thead tr th").length;
								$("#" + table_id + " tbody").html("<tr class=\'noRecordFound\'><td colspan=" + parseInt(count_val) + " class=\'noRecord\'>No Records to Display</td></tr>");
							}
							if (document.getElementById(data1 + "_NumberofItem")) {
								document.getElementById(data1 + "_NumberofItem").innerHTML = data10;
							}
							if (document.getElementById(data1 + "_page_count")) {
								document.getElementById(data1 + "_page_count").innerHTML = Math.round(page_count);
							}

						});
				} catch (e) {
					console.log(e);
				}

			} //code refactoring pricing ends...
			else if (tabname == 'LISTPRICEBOOKSINPRICEMODEL') {

				ParentNodeRecId = localStorage.getItem('PrcParentNodeRecId');
				TreeParam = localStorage.getItem('PrcTreeParam');
				TreeParentParam = localStorage.getItem('PrcTreeParentParam');
				TreeSuperParentParam = localStorage.getItem('PrcNodeTreeSuperParentParam');
				TopSuperParentParam = localStorage.getItem('PrcTopSuperParentParam');
				//6304 -JIRA ID	starts...
				var ACTION = '';
				if (TreeParam.toLowerCase().indexOf("sor") >= 0) {
					RecordId = 'SYOBJR-70085';
					ACTION = 'CHILDLOAD'
				} else {
					RecordId = 'SYOBJR-30114';
					ACTION = 'LOAD'
				}
				cpq.server.executeScript("PRPMTREVEW", {
					'Record_id': RecordId,
					'TreeView': 'TreeGridRight',
					'TreeParam': TreeParam,
					'TreeParentParam': TreeParentParam,
					'TreeSuperParentParam': TreeSuperParentParam,
					'TopSuperParentParam': TopSuperParentParam,
					'ACTION': ACTION,
					'PerPage': PerPage,
					'PageInform': PageInform
				},
					function (dataset) {

						data1 = dataset[2];
						data2 = dataset[1];
						data10 = dataset[10];

						$('#' + data1).bootstrapTable('load', data2);
						$(".listContStyle").css("display", "none");
						$('#' + data1).after(data10);

						//6304 -JIRA ID	ends....


					});
			} else if (tabname == 'Grid_Copart') {

				cpq.server.executeScript("SYPOPUPMOD", {
					'REC_ID': '',
					'PerPage': PerPage,
					'PageInform': PageInform,
					'ACTION': "PRODUCT_LOAD",
				},
					function (dataset) {
						data1 = dataset[1];
						data2 = dataset[2];
						data3 = dataset[3];
						data5 = dataset[5];
						data4 = dataset[4];

						$('#' + data2).bootstrapTable('load', data3);
						//$('#' + data2).after(data5);
						if (document.getElementById("coppart_popup_model_NumberofItem")) {
							document.getElementById("coppart_popup_model_NumberofItem").innerHTML = data4;
						}
					});
			}

		}
	}

}

function FullContainerSorting(field, value) {
	var active_subtab = $('.subtab_inner li.active').attr('id');
	if (active_subtab == 'subtab_list1') {
		flag = 0
	} else if (active_subtab == "subtab_list3") {
		flag = 3
	} else {
		flag = 1
	}

	NumberofItem = document.getElementById("NumberofItem").innerHTML
	page_count = document.getElementById("page_count").innerHTML

	start = NumberofItem.split(' ')[0]
	end = NumberofItem.split(' ')[2]

	var PerPage = $("#PageCountValue").val();
	var PageInform = start + '___' + end + '___' + page_count

	var A_Keys = [];
	var A_Values = [];
	$('.filter-control').each(function () {
		values = this.firstElementChild.className;
		/*if ((values.split(' ').length) == 2) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];

			xyz = $('.' + x).val();

			A_Keys.push(y);
			A_Values.push(xyz);
		} else {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];

			xyz = $('.' + x).val();

			A_Keys.push(y);
			A_Values.push(xyz);
		}*/


		if (values.indexOf('control') !== -1 && values.indexOf('RelatedMutipleCheckBoxDrop_') === -1) {
			x = values.split(' ')[2];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
		if (values.indexOf('RelatedMutipleCheckBoxDrop_') !== -1) {
			x = values.split(' ')[1];
			y = x.split("-").slice(-1)[0];
			xyz = $('.' + x).val();
			if ($.inArray(y, A_Keys) === -1) {
				A_Keys.push(y);
				A_Values.push(xyz)
			};
		}
	});
	//8930---start
	$(".filter-control").keyup(function (event) {
		if (event.keyCode === 13) {
			$(".searched_button").click();
		}
	});
	//8930---end
	cpq.server.executeScript("SYMCTABSGD", {
		'ACTION': 'TABLESORTING',
		'PerPage': PerPage,
		'PageInform': PageInform,
		'A_Keys': A_Keys,
		'A_Values': A_Values,
		'SortColumn': field,
		'SortColumnOrder': value,
		'FLAG': flag,
		'CurrentTab': $("ul#carttabs_head li.active a span").text()
	}, function (data) {

		data2 = data[2];
		data1 = data[1];
		data5 = data[5];

		$('#' + data2).bootstrapTable('load', data1);
		eval(data5);

		if (document.getElementById('totalItemCount')) {
			document.getElementById('totalItemCount').innerHTML = data[6];
		}
		if (document.getElementById('NumberofItem')) {
			document.getElementById('NumberofItem').innerHTML = data[11];
		}
		if (document.getElementById('page_count')) {
			document.getElementById('page_count').innerHTML = '1';
		}
		$("#PageCountValue").val(data[12]);

	});

}

function sec_cancel_tab(ele) {
	var collapse_id_local = localStorage.getItem('collapse_id');

	$(ele).parent().siblings('div[id^=dyn]').attr('data-toggle', 'collapse');
	$(ele).parent().siblings('div[id^=dyn]').attr('data-target', collapse_id_local);


	localStorage.setItem('section_fields_editable', '0');
	localStorage.setItem('attr_type_cont', '0');


	idd = $(ele).attr('id')
	if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {
		localStorage.setItem('factorid', '1');
	}
	if (idd == undefined || idd == "") {
		idd = localStorage.getItem('SECTION_EDIT');
	}
	div_id = localStorage.getItem('div_id');
	localStorage.setItem("SECTION_EDIT", '');
	cpq.server.executeScript("SYSECTACTN", {
		'ACTION': 'CANCEL',
		'SECTION_REC_ID': idd
	}, function (data) {
		$('#' + div_id + ' #ctr_drop').show()
		//A043S001P01-6661 Start
		$('.sec_attr_get #EMBLEM_EDIT').show();
		// A043S001P01-6661 End
		if ($('#ModuleName1').text() == "Contract Quotes") {
			// $('#BTN_MA_ALL_REFRESH').click();
			var getvaliddat = $('#1584').val();
			var getvaliddatto = $('#1583').val();
			$('#1583').attr('disabled', 'disabled');
			$('#datePickerDisabled_1583').attr('disabled', 'disabled');
			$('#1584').attr('disabled', 'disabled');
			$('#datePickerDisabled_1584').attr('disabled', 'disabled');
			$('#lk3177').css('display', 'none');
			$('#QSTN_SYSEFL_QT_01124').removeClass('lookupBg');
			$('.segment_revision_text').text(getvaliddat);
			$('.order_mgmt_date_text abbr').text(getvaliddatto);
		}
		else if ((ele == undefined || ele == "") && localStorage.getItem('secEditMode') == 1) {
			localStorage.setItem('secEditMode', 0);
		}
		else {
			$('#BTN_MA_ALL_REFRESH').click();
		}

		localStorage.setItem("RelatedEdit", '0');
		localStorage.setItem("related_page_load", '');

		localStorage.setItem("Action_Text", 'VIEW');
		localStorage.setItem("testloop", '0');
		var editingSection = $('.header_section_div')

		editingSection.find("[id^='QSTN_SYSEFL_QT']").each(function () {
			$(this).attr('disabled', 'disabled');
		});
		try {
			editingSection.find("[id^='QSTN_SYSEFL_SY']").each(function () {
				$(this).attr('disabled', 'disabled');
			});
		}
		catch (e) { console.log(e); }
		editingSection.find('textarea').each(function () {
			$(this).attr('readonly', true)
		});

		$('.dyn_main_head').find('div#ctr_drop').each(function () {
			$(this).css('display', 'block');
		})

		editingSection.find('div.sec_edit_sty').remove();

		editingSection.removeClass();

	});

	setTimeout(function () {
		localStorage.setItem("TextAreaReadOnlyMode", "1");
		textAreaAccess();
	}, 2000);
	localStorage.setItem('sec_edit_to_rel_tab', '0');

}

function sec_edit_tab(ele) {
	$(ele).closest('#ctr_drop').closest('div[id^=dyn]').removeAttr('data-toggle');
	$(ele).closest('#ctr_drop').closest('div[id^=dyn]').removeAttr('data-target');
	localStorage.setItem('attr_type_cont', '1');
	localStorage.setItem('section_fields_editable', '2');
	localStorage.setItem("RelatedEdit", "1");
	localStorage.setItem('testloop', '1');
	localStorage.setItem("Action_Text", 'ATTR_TRIGGER')
	//hide edit dropdown when in edit mode start in system admin starts A055S000P01-3351
	localStorage.setItem("sect_edit_flag", '1')
	//hide edit dropdown when in edit mode start in system admin ends A055S000P01-3351
	idd = $(ele).attr('id');
	localStorage.setItem("secEditMode", 1);
	//A043S001P01-11265 start
	var options1_SYSEFL_PB_01935 = [];
	var options1_SYSEFL_PB_00431 = [];
	var options1_SYSEFL_PB_01919 = [];
	//A043S001P01-8512 start

	//A043S001P01-8512 end
	if (idd == '9A4F82FC-CB1D-43CB-81B2-1BD651D530C8') {
		localStorage.setItem("TextAreaReadOnlyMode", '1');
	}
	if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {
		localStorage.setItem("TextAreaReadOnlyMode", '1');
		localStorage.setItem('factorid', '1');
		$("#options1_SYSEFL_PB_01935 option").each(function () {
			options1_SYSEFL_PB_01935.push($(this).text());
		});

		$("#options1_SYSEFL_PB_00431 option").each(function () {
			options1_SYSEFL_PB_00431.push($(this).text());
		});

		$("#options1_SYSEFL_PB_01919 option").each(function () {
			options1_SYSEFL_PB_01919.push($(this).text());
		});
		localStorage.setItem('options1_SYSEFL_PB_01935', JSON.stringify(options1_SYSEFL_PB_01935))
		localStorage.setItem('options1_SYSEFL_PB_00431', JSON.stringify(options1_SYSEFL_PB_00431))
		localStorage.setItem('options1_SYSEFL_PB_01919', JSON.stringify(options1_SYSEFL_PB_01919))

	}
	//A043S001P01-11265 end

	var del = $(ele).closest(".master_manufac").attr("id");
	if (del) {
		var col_id_val = del.split('dyn');
		localStorage.setItem('collapse_id', col_id_val[1]);
	}
	localStorage.setItem('SECTION_EDIT', idd);
	localStorage.setItem('div_id', del);
	localStorage.setItem("Action_Text", 'SEC_EDIT');

	cpq.server.executeScript("SYSECTACTN", {
		'ACTION': 'EDIT',
		'SECTION_REC_ID': idd
	}, function (data) {
		var current_active_tab = $('#attributesContainer div.tabsmenu ul#carttabs_head li.active a span').text();
		$('#BTN_MA_ALL_REFRESH').click();

		setTimeout(function () {
			$('div[id^=dyn] div#ctr_drop').css('display', 'none');
		}, 3000);
		//A043S001P01-11265 start
		if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {
			options1_SYSEFL_PB_01935 = JSON.parse(localStorage.getItem('options1_SYSEFL_PB_01935'));
			options1_SYSEFL_PB_00431 = JSON.parse(localStorage.getItem('options1_SYSEFL_PB_00431'));
			options1_SYSEFL_PB_01919 = JSON.parse(localStorage.getItem('options1_SYSEFL_PB_01919'))
			$('#options1_SYSEFL_PB_01935').empty()
			$('#options1_SYSEFL_PB_00431').empty()
			$('#options1_SYSEFL_PB_01919').empty()
			if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {
				$(".options_SYSEFL_PB_01935").prop("disabled", false);
				$("#options1_SYSEFL_PB_01935").prop("disabled", false);
				$(".leftbutton").prop("disabled", false);
				$(".rightbutton").prop("disabled", false);
				$(".options_SYSEFL_PB_00431").prop("disabled", false);
				$("#options1_SYSEFL_PB_00431").prop("disabled", false);
				$(".options_SYSEFL_PB_01919").prop("disabled", false);
				$("#options1_SYSEFL_PB_01919").prop("disabled", false);
				// $(".leftbutton").css("display", "block");
				// $(".rightbutton").css("display", "block");
				// $(".topbutton").css("display", "block");
				// $(".btmbutton").css("display", "block");
			}
			// 	setTimeout(function () {
			// 	if (options1_SYSEFL_PB_01935.length>0)
			// 	{
			// 		for(i=0;i<options1_SYSEFL_PB_01935.length;i++){
			// 		$("#options1_SYSEFL_PB_01935").append( '<option value="'+options1_SYSEFL_PB_01935[i]+'">'+options1_SYSEFL_PB_01935[i]+'</option>'+ "\n");
			// 		}

			// 		$(".options_SYSEFL_PB_01935 option").filter(function () {
			// 			return $.inArray(this.value, options1_SYSEFL_PB_01935) !== -1
			// 		 }).remove();
			// 	}
			// 	if (options1_SYSEFL_PB_00431.length>0)
			// 	{
			// 		for(i=0;i<options1_SYSEFL_PB_00431.length;i++){
			// 		$("#options1_SYSEFL_PB_00431").append( '<option value="'+options1_SYSEFL_PB_00431[i]+'">'+options1_SYSEFL_PB_00431[i]+'</option>'+ "\n");
			// 		}
			// 		$(".options_SYSEFL_PB_00431 option").filter(function () {
			// 			return $.inArray(this.value, options1_SYSEFL_PB_00431) !== -1
			// 		 }).remove();
			// 	}
			// 	if (options1_SYSEFL_PB_01919.length>0)
			// 	{
			// 		for(i=0;i<options1_SYSEFL_PB_01919.length;i++){
			// 			$("#options1_SYSEFL_PB_01919").append( '<option value="'+options1_SYSEFL_PB_01919[i]+'">'+options1_SYSEFL_PB_01919[i]+'</option>'+ "\n");
			// 		}
			// 		$(".options_SYSEFL_PB_01919").filter(function () {
			// 			return $.inArray(this.value, options1_SYSEFL_PB_01919) !== -1
			// 		 }).remove();
			// 	}
			// }, 2000);
			//A043S001P01-11265 end
			// var value = ['SYSEFL_PB_01919','SYSEFL_PB_01935','SYSEFL_PB_00431'];
			// for(i=0;i<value.length;i++){
			// 	//console.log(value[i],'ddddddddddddd',localStorage.getItem('selected_items_'+value[i]));
			// 	$('#options1_'+value[i]).append('<option value='+$("#options1_"+value[i]).text().trim().split("\n")+'>'+$("#options1_"+value[i]).text().trim().split("\n")+'</option>'+ "\n")
			// 	$(".leftbutton").prop('disabled', false);$(".rightbutton").prop('disabled', false);
			// 	$(".options_"+value[i]).prop('disabled', false); $("#options1_"+value[i]).prop('disabled', false);
			// }
		}


		setTimeout(function () {
			if (idd == 'SYSECT-PB-00070') {
				$('input:checkbox').removeAttr('disabled');
			}
			if (idd == 'SYSECT-PB-00428') {
				var getval = $("#QSTN_SYSEFL_PB_01607 option:selected").text();
				localStorage.setItem('factDataType', getval);
				$('#QSTN_SYSEFL_PB_01607').attr('onchange', 'factdatatypechnage()');

			}
		}, 2000)


	});

	localStorage.setItem('related_tab_edit_click', '1');
	localStorage.setItem('sec_edit_to_rel_tab', '1');
	$('.Related').css('display', 'none');
	$('#seginner_relbnr').css('display', 'none');
	//Add Section ID which has Text Areas

	localStorage.setItem("TextAreaReadOnlyMode", "0");
	setTimeout(function () {
		if (String(localStorage.getItem("SECTION_EDIT"))) {
			textAreaAccess();
			if (data != "TRUE") {
				$(".header_section_div").append(data[1]);
				$(".sec_edit_sty_btn").attr("name", "CANCEL");
				$(".sec_edit_sty_btn_inh").attr("name", "SAVE");
			}

			// $(".header_section_div").append('<div class="g4  except_sec removeHorLine iconhvr sec_edit_sty"><button id="SEC_DIS_CLOSE" style="display: none;"  ></button><button   id="' + SECTION_EDIT + '" class="btnconfig btnMainBanner sec_edit_sty_btn" onclick="sec_cancel_tab(this)">CANCEL</button><button id="' + SECTION_EDIT + '" class="btnconfig btnMainBanner sec_edit_sty_btn_inh" onclick="sec_save_tab(this)">SAVE</button></div>');
		}
	}, 3000);
}

function compareArrays(arr1, arr2) {
	if ($(arr1).not(arr2).length != 0 && $(arr2).not(arr1).length != 0) {
		$('#processing_modal').modal('show');
	}
};

function sec_save_tab(ele) {

	var collapse_id_local = localStorage.getItem('collapse_id');

	$(ele).parent().siblings('div[id^=dyn]').attr('data-toggle', 'collapse');
	$(ele).parent().siblings('div[id^=dyn]').attr('data-target', collapse_id_local);

	localStorage.setItem('section_fields_editable', '0');
	localStorage.setItem('secEditMode', 0);
	localStorage.setItem('checkboxfirst', '')
	array_list = localStorage.getItem('selected_items');

	idd = $(ele).attr('id')

	div_id = localStorage.getItem('div_id');
	attr_val = ''
	if (document.getElementById("Attr_Jqxdropdown")) {
		attr_val = $('#Attr_Jqxdropdown').val()
	}

	var array_list = {}
	var optionsvalue = []
	var value = ['SYSEFL_PB_01919', 'SYSEFL_PB_01935', 'SYSEFL_PB_00431'];
	if (idd == '9A4F82FC-CB1D-43CB-81B2-1BD651D530C8') {
		$('#processing_modal').modal('show');
	}
	var options1_SYSEFL_PB_01935 = [];
	var options1_SYSEFL_PB_01935check = [];
	if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {
		localStorage.setItem('factorid', '1');
		// $("#options1_SYSEFL_PB_01935 option").each(function(){
		// 	options1_SYSEFL_PB_01935.push($(this).text());
		// });
		// options1_SYSEFL_PB_01935check=localStorage.getItem('options1_SYSEFL_PB_01935')
		// compareArrays(options1_SYSEFL_PB_01935,options1_SYSEFL_PB_01935check)
		$('#processing_modal').modal('show');
		for (i = 0; i < value.length; i++) {
			//array_list[value[i]] = localStorage.getItem('selected_items_'+value[i])
			if ($("#options1_" + value[i]).text().trim() != '' || $("#options1_" + value[i]).text().trim() != null) {
				array_list[value[i]] = $("#options1_" + value[i]).text().trim().split("\n").toString()
			}
		}
	}

	//console.log(JSON.stringify(array_list))
	cpq.server.executeScript("SYSECTACTN", {
		'ACTION': 'SAVE',
		'SECTION_REC_ID': idd,
		'ATTR_VAL': attr_val,
		'Picklist_array': array_list
	}, function (datas) {
		data = datas[0]
		//data2 = datas[2]
		data2 = eval(datas[2])
		data1 = String(datas[1])
		data3 = (datas[3])
		localStorage.setItem("RelatedEdit", '0');
		localStorage.setItem("related_page_load", '');
		$('#processing_modal').modal('hide');
		if (data1 == 'TRUE') {
			$('#SEC_DIS_CLOSE').click();
		}
		if (data == 'FALSE') {
			localStorage.setItem('attr_type_cont', '0');
			localStorage.setItem('SECTION_EDIT', '');
			if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {
				for (i = 0; i < value.length; i++) {
					$('#options1_' + value[i]).append('<option value=' + $("#options1_" + value[i]).text().trim().split("\n") + '>' + $("#options1_" + value[i]).text().trim().split("\n") + '</option>' + "\n")
					$(".leftbutton").prop('disabled', true);
					$(".rightbutton").prop('disabled', true);
					$(".topbutton").prop('disabled', true);
					$(".btmbutton").prop('disabled', true);
					$(".options_" + value[i]).prop('disabled', true);
					$("#options1_" + value[i]).prop('disabled', true);
					if (value[i] == 'SYSEFL_PB_01919') {
						optionsvalue = (data3.SYSEFL_PB_01919)
						optionsvalue = optionsvalue.split(",")
						localStorage.setItem('options1_SYSEFL_PB_01919', JSON.stringify(optionsvalue))
					}
					if (value[i] == 'SYSEFL_PB_01935') {
						optionsvalue = (data3.SYSEFL_PB_01935)
						optionsvalue = optionsvalue.split(",")
						localStorage.setItem('options1_SYSEFL_PB_01935', JSON.stringify(optionsvalue))
					}
					if (value[i] == 'SYSEFL_PB_00431') {
						optionsvalue = (data3.SYSEFL_PB_00431)
						optionsvalue = optionsvalue.split(",")
						localStorage.setItem('options1_SYSEFL_PB_00431', JSON.stringify(optionsvalue))
					}
				}
			}
			$('#BTN_MA_ALL_REFRESH').click();
			localStorage.setItem('SECTION_EDIT', idd);
			//A043S001P01-7103 START

			cpq.events.sub("API:configurator:updated", function (data) {
				if (data2 != '' && data2 != undefined && data2 != null && data2 != 'FULLTABLELOAD' && data2 != 'coppart_popup_model' && data2.length > 0) {
					for (var i = 0; i < data2.length; i++) {
						Temp = data2[i].split('|')

						/*Temp[0] = Temp[0].replace("[",'');
						Temp[0] = Temp[0].replace("'",'');
						Temp[0] = Temp[0].replace('"','');
						Temp[1] = Temp[1].replace("]",'');
						Temp[1] = Temp[1].replace("'",'');
						Temp[1] = Temp[1].replace('"',''); */

						if (Temp[0] == 'QSTN_SYSEFL_TQ_00115') {
							if ((Temp[1]).toUpperCase() == "COMMISSION END DATE IS A REQUIRED FIELD") {
								$('span#' + Temp[0]).html('<abbr title="' + Temp[1] + '" class="ps_ab_pad_tp3_cl_rd">' + Temp[1] + '</abbr>')
								$('span#' + Temp[0]).closest('div').css('display', 'block');
							} else {
								date_val = "Select a date that is greater than or equal to today's date"
								$('span#' + Temp[0]).html('<abbr title="' + date_val + '" class="cl_disp_wd">' + date_val + '</abbr>')
								//$('span#' + Temp[0]).closest('div').css('display', 'block');
								$('span#' + Temp[0]).closest('div').css({
									"display": "inline-block",
									"margin-top": "4px",
									"margin-left": "-8px"
								})
							}
						} else {
							$('span#' + Temp[0]).html('<abbr title="' + Temp[1] + '">' + Temp[1] + '</abbr>')
							//$('span#' + Temp[0]).closest('div').css('display', 'block');
							$('span#' + Temp[0]).closest('div').css({
								display: "inline-block",
								color: "red",
								paddingTop: "4px",
								paddingLeft: "43px"
							});
						}
					}
					$('div#ctr_drop').css('display', 'none');
				}
			});

			//A043S001P01-7103 END
		} else {

			localStorage.setItem('attr_type_cont', '0');
			localStorage.setItem('SECTION_EDIT', '');
			if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {

				for (i = 0; i < value.length; i++) {
					$('#options1_' + value[i]).append('<option value=' + $("#options1_" + value[i]).text().trim().split("\n") + '>' + $("#options1_" + value[i]).text().trim().split("\n") + '</option>' + "\n")
					$(".leftbutton").prop('disabled', true);
					$(".rightbutton").prop('disabled', true);
					$(".options_" + value[i]).prop('disabled', true);
					$("#options1_" + value[i]).prop('disabled', true);

					if (value[i] == 'SYSEFL_PB_01919') {
						optionsvalue = (data3.SYSEFL_PB_01919)
						optionsvalue = optionsvalue.split(",")
						localStorage.setItem('options1_SYSEFL_PB_01919', JSON.stringify(optionsvalue))
					}
					if (value[i] == 'SYSEFL_PB_01935') {
						optionsvalue = (data3.SYSEFL_PB_01935)
						optionsvalue = optionsvalue.split(",")
						localStorage.setItem('options1_SYSEFL_PB_01935', JSON.stringify(optionsvalue))
					}
					if (value[i] == 'SYSEFL_PB_00431') {
						optionsvalue = (data3.SYSEFL_PB_00431)
						optionsvalue = optionsvalue.split(",")
						localStorage.setItem('options1_SYSEFL_PB_00431', JSON.stringify(optionsvalue))
					}
				}
			}
			if ($('#ModuleName1').text() == "Contract Quotes") {
				if (localStorage.getItem('CommonTreeParam') == "Quote Information") {
					$('#BTN_MA_ALL_REFRESH').click();
				}

				var getvaliddat = $('#1584').val();
				var getvaliddatto = $('#1583').val();
				$('#1583').attr('disabled', 'disabled');
				$('#datePickerDisabled_1583').attr('disabled', 'disabled');
				$('#1584').attr('disabled', 'disabled');
				$('#datePickerDisabled_1584').attr('disabled', 'disabled');
				$('#lk3177').css('display', 'none');
				$('#QSTN_SYSEFL_QT_01124').removeClass('lookupBg');
				$('.segment_revision_text').text(getvaliddat);
				$('.order_mgmt_date_text abbr').text(getvaliddatto);
			}
			else {
				$('#BTN_MA_ALL_REFRESH').click();
			}
			//$('#BTN_MA_ALL_REFRESH').click();
			$('#' + div_id + ' #ctr_drop').show()
			// A043S001P01-6661 Start
			$('.sec_attr_get #EMBLEM_EDIT').show();
			// A043S001P01-6661 End
			localStorage.setItem("testloop", '0');
			localStorage.setItem("Action_Text", 'VIEW');
			var editingSection = $('.header_section_div')

			editingSection.find("[id^='QSTN_SYSEFL_QT']").each(function () {
				$(this).attr('disabled', 'disabled');
			});

			editingSection.find('textarea').each(function () {
				$(this).attr('readonly', true)
			});

			$('.dyn_main_head').find('div#ctr_drop').each(function () {
				$(this).css('display', 'block');
			})

			editingSection.find('div.sec_edit_sty').remove();

			editingSection.removeClass();
		}

		var material_active_tab = $('ul#carttabs_head li.active a span').text();

		if (idd != 'A7406EB8-0714-4461-97F8-9E04B05698E5' && material_active_tab == 'Calculation Factor') {
			factorload()
		}
		localStorage.setItem("RelatedEdit", '0');
		if (idd == 'A7406EB8-0714-4461-97F8-9E04B05698E5') {
			disablevalues();
		}


	});

	localStorage.setItem("TextAreaReadOnlyMode", "1");
	setTimeout(function () {
		if ($('.txtArea').length == 1) {
			$('.txtArea').siblings('.form-control').prop('disabled', 'disabled');
			$('.txtArea').attr('readonly', 'readonly');
			textAreaAccess();
		}
	}, 2000);
	localStorage.setItem('sec_edit_to_rel_tab', '0');
}

function filter_search_click() {
	setTimeout(function () {

		var form_second_to_first = [];
		//var full_second = $('#FULLTABLELOAD thead.fullHeadSecond').css('width');
		//form_second_to_first.push(full_second);
		$('#FULLTABLELOAD thead.fullHeadSecond tr th').each(function (index) {
			var a = $(this).css('width');

			form_second_to_first.push(a);
		});
		$('#FULLTABLELOAD thead.fullHeadFirst tr th').each(function (index) {
			var current_tab_name = $('ul#carttabs_head .active').text().trim();
			if (current_tab_name == 'countries' || current_tab_name == 'Personalizations' || current_tab_name == 'Emblem Findings' || current_tab_name == 'Languages' || current_tab_name == 'Box Families' || current_tab_name == 'Config Classes' || current_tab_name == 'Material Types' || current_tab_name == 'Item Category Groups' || current_tab_name == 'Calculation Factors' || current_tab_name == 'Currencies' || current_tab_name == 'Price Agreements' || current_tab_name == 'Program Types' || current_tab_name == 'Attributes' || current_tab_name == 'Programs') {
				var a = 'width:' + form_second_to_first[index] + ' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
				var d = 'width:' + form_second_to_first[index] + ';'
				$(this).css('cssText', a);
				$(this).children('div:first-child').css('cssText', a);

				$(this).children('div.fht-cell').css('cssText', d);
			} else {
				var num = form_second_to_first[index].split('px');
				var numsp = parseInt(num[0]);
				numsp = numsp - 1;
				var make_str = numsp + 'px';

				var a = '';
				var d = '';
				if (index == 0 || index == 1) {
					aa = 'width:60px !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;'

				} else {
					a = 'width:' + make_str + ' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
					var d = 'width:' + make_str + ';'
				}
				//var a = 'width:'+form_second_to_first[index]+' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
				$(this).css('cssText', a);
				$(this).children('div:first-child').css('cssText', a);
				$(this).children('div.fht-cell').css('cssText', d);
			}
		});
		setTimeout(function () {
			if ($('.product_txt_main_tab').text() == 'Currencies') {
				var selctval = $('#FULLTABLELOAD thead tr th:nth-child(6)').find('#dropdownlistContentRelatedMutipleCheckBoxDrop_3').text().split(',');
				var count = 0;
				var pagecount = 0;
				if (selctval != '') {
					$('#FULLTABLELOAD tbody tr ').each(function () {
						for (i = 0; i < selctval.length; i++) {
							if (selctval[i] == $(this).find('td:nth-child(6)').text()) {
								count = 1
							}
						}
						if (count == 0) {
							$(this).css('display', 'none')
							pagecount++
						}
						count = 0;
					})
					//A043S001P01-6524 start
					var totalpagecount = document.getElementById("totalItemCount").innerHTML;
					var totalcou = parseInt(totalpagecount - pagecount)
					document.getElementById("totalItemCount").innerHTML = totalcou;
					var pageof = $("#NumberofItem").text().split('-')[1].split(' ')[1]
					if (totalcou < (parseInt(pageof))) {
						var value1 = $("#NumberofItem").text().split('-')
						document.getElementById("NumberofItem").innerHTML = value1[0] + " - " + totalcou + " of"
					}
					//A043S001P01-6524 end
				}
			}
		}, 1000);
		var form_second_to_first_tree = [];
		$('#table_price_class thead.fullHeadSecond tr th').each(function (index) {
			var a = $(this).css('width');
			form_second_to_first_tree.push(a);
		});
		$('#table_price_class thead.fullHeadFirst tr th').each(function (index) {
			var current_tab_name = $('ul#carttabs_head .active').text().trim();
			if (current_tab_name == 'countries' || current_tab_name == 'Personalizations' || current_tab_name == 'Emblem Findings' || current_tab_name == 'Languages' || current_tab_name == 'Box Families' || current_tab_name == 'Config Classes' || current_tab_name == 'Material Types' || current_tab_name == 'Item Category Groups' || current_tab_name == 'Calculation Factors' || current_tab_name == 'Currencies' || current_tab_name == 'Price Agreements' || current_tab_name == 'Program Types' || current_tab_name == 'Attributes' || current_tab_name == 'Programs') {
				var a = 'width:' + form_second_to_first_tree[index] + ' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
				var d = 'width:' + form_second_to_first_tree[index] + ';';
				$(this).css('cssText', a);
				$(this).children('div:first-child').css('cssText', a);
				$(this).children('div.fht-cell').css('cssText', d);
			} else {
				var num = form_second_to_first_tree[index].split('px');
				var numsp = parseInt(num[0]);
				numsp = numsp - 1;
				var make_str = numsp + 'px';
				var a = '';
				var d = '';
				if (index == 0 || index == 1) {
					aa = 'width:60px !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
					d = 'width:60px;';
				} else {
					a = 'width:' + make_str + ' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
					d = 'width:' + make_str + ';'
				}
				$(this).css('cssText', a);
				$(this).children('div:first-child').css('cssText', a);
			}
		});

	}, 1500);
}

$(".JCLRgrip").mousedown(function () {

	$('thead.fullHeadFirst').css('cssText', 'z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;');
	$('.wrap-when-landing-C4C thead.fullHeadFirst').css('cssText', 'z-index: 2;border-top: 1px solid rgb(220, 220, 220);top: 58px;border-right: 0px !important;');
	$('thead.fullHeadSecond').css('display', 'none');
	$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
	$(".cart_page").parents('html').css("overflow", "hidden");
	//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');
});
var arr_value = [];
$(".JCLRgrip").mouseup(function () {
	$('table#FULLTABLELOAD thead.fullHeadFirst button#Act_FULLTABLELOAD').attr('onclick', 'list_grid_wid()');
	var th_width_resize = [];
	$('#FULLTABLELOAD thead.fullHeadFirst tr th').each(function (index) {
		var wid = $(this).css('width');

		if (index == 0 || index == 1) {
			th_width_resize.push('60px');
		} else {
			th_width_resize.push(wid);
		}
	});
	var txt_alg = []
	$('table#FULLTABLELOAD thead.fullHeadSecond tr th').each(function (index) {
		var a = $(this).css('text-align');
		txt_alg.push(a);
	});

	$('#FULLTABLELOAD thead.fullHeadFirst tr th').each(function (index) {
		var num = th_width_resize[index].split('px');
		var numsp = parseInt(num[0]);
		numsp = numsp - 1;
		var make_str = numsp + 'px';

		var c = 'width:' + make_str + ';white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
		var d = 'width:' + make_str + ';';

		//$(this).css('cssText', c);
		$(this).css({
			"width": make_str,
			"white-space": "nowrap",
			"overflow": "hidden",
			"text-overflow": "ellipsis",
			"text-align": txt_alg[index]
		});
		//$(this).children('div:first-child').css('cssText', c);
		$(this).children('div:first-child').css({
			"width": make_str,
			"white-space": "nowrap",
			"overflow": "hidden",
			"text-overflow": "ellipsis",
			"text-align": txt_alg[index]
		});
		//$(this).children('div.fht-cell').css('cssText', d);
		$(this).children('div.fht-cell').css({
			"width": make_str
		});
	});

	$('thead.fullHeadFirst').css('cssText', 'position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;');
	$('.wrap-when-landing-C4C thead.fullHeadFirst').css('cssText', 'position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220); top: 58px;border-right: 0px !important;');
	$('thead.fullHeadSecond').css('display', 'table-header-group');
	$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
	$(".cart_page").parents('html').css("overflow", "hidden");
	//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');

	$('div[id^=listBoxRelatedMutipleCheckBoxDrop_]').each(function (index) {

		var avoid_set = 0;
		var listdrop_disp = $(this).css('display');

		if (listdrop_disp == 'block') {
			var cur_grid = $(this).attr('id');

			var get_id = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').attr('id');

			var insert_data = cur_grid + '|' + get_id;

			if (arr_value.indexOf(insert_data) !== -1) {
				//arr_value.remove(insert_data);
				delete arr_value[insert_data];
				const index = arr_value.indexOf(insert_data);
				if (index > -1) {
					arr_value.splice(index, 1);
				}

				avoid_set = 1;
			} else {
				arr_value.push(insert_data);
			}

			if (avoid_set == 0) {
				var left_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left');

				if (left_drop) {
					left_drop = left_drop.split('px');
					left_drop = parseInt(left_drop[0]) - 1;

				}

				left_drop = left_drop + 'px';

				$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left', left_drop);


				var width_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').width();

				width_drop = width_drop + 1;

				width_drop = width_drop + 'px';

				$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').css('width', width_drop);
			}

		}
	});


});

function Roles_View(ele) {

	localStorage.setItem("CurrentNodeId", 0)
	var table_id = $(ele).closest('table').attr('id');
	currentRecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
	localStorage.setItem("RoleRecId", currentRecordId)
	var Role_ID = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
	localStorage.setItem("RoleId", Role_ID);
	ids = $(ele).closest('tr').attr('id');
	try {
		//A043S001P01-9518 Start

		cpq.server.executeScript("SYUROLESTN", {
			'LOAD': 'RoleTreeload',
			'Role_id': Role_ID
		}, function () {
			//$("#MM_ALL_REFRESH").click();
			$('#BTN_MA_ALL_REFRESH').click();
		});
	} catch (e) {
		console.log(e);
	}
}
// A043S001P01-10888 START
function RoleContainerDelete(ele) {
	localStorage.setItem('Role_ACTION', 'DELETE');
	ids = $(ele).closest('tr').attr('id');
	Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
	try {

		cpq.server.executeScript("SYPRCTRDEL", {
			'Primary_Data': Primary_Data,
			'Object_Name': 'SYROMA',
			'ACTION': 'DELETE',
		}, function () {
			$("#BTN_MA_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}

}
// A043S001P01-10888 END
// Thiyagu -Profile tab operations
function Profileviewcreate(ele) {

	/* JIRA-ID: A043S001P01-9029 - 'Begin'*/
	localStorage.setItem('profileFirstTime', '1');
	/* JIRA-ID: A043S001P01-9029 - 'End'*/

	var table_id = $(ele).closest('table').attr('id');


	currentRecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();


	localStorage.setItem("Profile_ACTION", "VIEW");
	localStorage.setItem("Profile_EDITACTION", "");
	localStorage.setItem("PROFILE_VIEW_REFRESH", "TRUE");
	ids = $(ele).closest('tr').attr('id');
	Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()
	id_primarydata = $("#" + ids + " td:nth-child(3)").text().trim()

	localStorage.setItem("id_primarydata", currentRecordId);
	Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')

	// BANNER_CONTENT VALUES STARTS
	/*Profile_Record_ID = $("#" + ids + " td:nth-child(3)").text().trim()
	Profile_ID = $("#" + ids + " td:nth-child(4)").text().trim()
	Profile_Name = $("#" + ids + " td:nth-child(5)").text().trim()*/
	var Profile_Record_ID = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
	var Profile_ID = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
	var Profile_Name = $(ele).closest('tr').children('td:nth-child(5)').text().trim();
	var profile_banner = Profile_Record_ID + ',' + Profile_ID + ',' + Profile_Name
	localStorage.setItem("PROFILE_BANNER", profile_banner);

	// BANNER_CONTENT VALUES ENDS

	// TO REFRESH THE PAGE WHEN THE USER LANDED ON BASIC INFO PAGE IN PROFILES TAB.

	localStorage.setItem("REFRESH", "TRUE")
	//A043S001P01-9518 Start
	localStorage.setItem("Profile_Name", Profile_Name)
	//A043S001P01-9518 End
	if (Primary_Data_list.length > 1) {
		Primary_Data = Primary_Data_list[0]
	} else {
		Primary_Data = Primary_Data_list[0];
	}

	try {
		//A043S001P01-9518 Start

		cpq.server.executeScript("SYPRFLOPTN", {
			'Primary_Data': currentRecordId,
			'TabNAME': 'Profile',
			'ACTION': 'VIEW',
			'LOAD': 'Treeload',
			'Profile_Name': Profile_Name
		}, function () {
			//$("#MM_ALL_REFRESH").click();
			$('#BTN_MA_ALL_REFRESH').click();
		});
	} catch (e) {
		console.log(e);
	}
	//A043S001P01-9518 End
}
// end


function ProfilesAddNew(ele) {
	localStorage.setItem("Profile_ACTION", "ADD NEW");

	localStorage.setItem("REFRESH", "TRUE");
	try {
		cpq.server.executeScript("SYPRADDNEW", {
			'TabNAME': 'Profiles',
			'ACTION': 'ADD NEW',
		}, function () {
			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}

}

function ProfileContainerDelete(ele) {
	localStorage.setItem("Profile_ACTION", "DELETE");
	ids = $(ele).closest('tr').attr('id');
	//Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()
	Primary_Data = $(ele).closest('tr').children('td:nth-child(3)').text().trim();

	try {

		cpq.server.executeScript("SYPRCTRDEL", {
			'Primary_Data': Primary_Data,
			'Object_Name': 'SYPRFL',
			'ACTION': 'DELETE',
		}, function () {
			$("#BTN_MA_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}
}

function Profile_Basic_info_delete(ele) {
	Primary_Data = localStorage.getItem("id_primarydata");
	Record_ID = $("#PROFILE_RECORD_ID input").val()
	try {

		cpq.server.executeScript("SYPRCTRDEL", {
			'Primary_Data': Record_ID,
			'Object_Name': 'SYPRFL',
			'ACTION': 'VIEW_DELETE',
		}, function () {
			$("#MM_ALL_REFRESH").click();
			$("#BTN_PROFILE_BACK_TO_LIST").click();
		});
	} catch (e) {
		console.log(e);
	}
}

function Profile_BacktoList() {
	mode = localStorage.getItem("Profile_ACTION")
	if (mode != '' && mode != null && mode == 'EDIT') {


		try {
			localStorage.setItem("Profile_ACTION", "GRID_EDIT")
			RecordId = $("input#PROFILE_RECORD_ID").val()
			localStorage.setItem("PROFILE_RECORD_ID_BACK_TO_LIST", RecordId)
			cpq.server.executeScript("SYPROFVIEW", {
				'RECORD_ID': RecordId,
				'TableId': 'SYPRFL',
				'MODE': 'VIEW',
				'SECTION_EDIT': ''
			}, function (dataset) {
				datas = dataset[0];
				if (document.getElementById("Profile_Detail")) {
					document.getElementById("Profile_Detail").innerHTML = datas;
				}
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}

	} else {
		try {
			cpq.server.executeScript("SYPROBAKTL", {}, function () {
				$("#MM_ALL_REFRESH").click();
			});
		} catch (e) {
			console.log(e);
		}
	}
}
/* JIRA-ID : A043S001P01-7185 'Begin' */
function closepopup_scrl(ele) {
	$('#header_label > ul.breadcrumb > li:last-child').remove();// To remove add new in breadcrumb
	pop_id = $(ele).attr('id');
	$("html").css("cssText", "overflow-y", "auto !important");
	localStorage.removeItem('TOOL_TYPE');
	$("#cont_viewModalSection").css('display', 'none');
	if (pop_id == 'involved_parties_equipment') {
		Subbaner('Equipment', CurrentNodeId, 'SYOBJR-98858', 'SAQSTE')
	}
	else if (pop_id == 'add_source_fab') {
		Subbaner('Source Fab Location', CurrentNodeId, 'SYOBJR-98857', 'SAQSCF');
	}
}
/* JIRA-ID : A043S001P01-7185 'End' */


function Scriptviewcreate(ele) {
	localStorage.setItem('objectFirstTime', '1');

	var table_id = $(ele).closest('table').attr('id');

	currentRecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();


	localStorage.setItem("Object_ACTION", "VIEW");
	localStorage.setItem("Object_EDITACTION", "");
	localStorage.setItem("Object_VIEW_REFRESH", "TRUE");
	ids = $(ele).closest('tr').attr('id');
	Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()
	id_primarydata = $("#" + ids + " td:nth-child(3)").text().trim()

	localStorage.setItem("id_primarydata", currentRecordId);
	Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')

	localStorage.setItem("REFRESH", "TRUE")

	if (Primary_Data_list.length > 1) {
		Primary_Data = Primary_Data_list[0]
	} else {
		Primary_Data = Primary_Data_list[0];
	}

	try {

		cpq.server.executeScript("SYSCRIPADD", {
			'Primary_Data': currentRecordId,
			'TabNAME': 'Script',
			'ACTION': 'VIEW',

		}, function () {
			$("#MM_ALL_REFRESH").click();
			//$('#BTN_MA_ALL_REFRESH').click();
		});
	} catch (e) {
		console.log(e);
	}

}



/* JIRA-ID : A043S001P01-7218 'strat' */
function ErrorLog_View(ele) {

	var table_id = $(ele).closest('table').attr('id');


	ELcurrentRecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();


	localStorage.setItem("ErrLog_ACTION", "VIEW");
	localStorage.setItem("ErrLog_EDITACTION", "");
	ids = $(ele).closest('tr').attr('id');
	EL_Primary_Data = $("#" + ids + " td:nth-child(3)").text().trim()
	Error_log_id_primarydata = $("#" + ids + " td:nth-child(3)").text().trim()

	localStorage.setItem("Error_log_id_primarydata", ELcurrentRecordId);
	EL_Primary_Data_list = $("#" + ids + " td:nth-child(3)").text().trim().replace(/\s+/, " ").split(' ')

	// BANNER_CONTENT ERROR LOG VALUES STARTS
	ERRORLOG_Record_ID = $("#" + ids + " td:nth-child(3)").text().trim()
	ERRORLOG_ID = $("#" + ids + " td:nth-child(4)").text().trim()
	ERRORLOG_Name = $("#" + ids + " td:nth-child(5)").text().trim()
	var ERRORLOG_banner = ERRORLOG_Record_ID + ',' + ERRORLOG_ID + ',' + ERRORLOG_Name
	localStorage.setItem("ERRORLOG_banner", errorLog_banner);

	// BANNER_CONTENT ERROR LOG  VALUES ENDS

	// TO REFRESH THE PAGE WHEN THE USER LANDED ON BASIC INFO PAGE IN ERROR LOG  TAB.

	localStorage.setItem("REFRESH", "TRUE")

	if (EL_Primary_Data_list.length > 1) {
		EL_Primary_Data = EL_Primary_Data_list[0]
	} else {
		EL_Primary_Data = EL_Primary_Data_list[0];
	}

	try {

		cpq.server.executeScript("SYERLOOPTN", {
			'Primary_Data': ELcurrentRecordId,
			'TabNAME': 'Error Log',
			'ACTION': 'VIEW',
			'LOAD': 'Treeload'
		}, function () {
			$("#MM_ALL_REFRESH").click();
		});
	} catch (e) {
		console.log(e);
	}

}
/* JIRA-ID : A043S001P01-7218 'End' */

/* JIRA-ID : A043S001P01-7076 - Current User Name - Tooltip 'Begin' */
function activeUser() {
	var user_name = $('span.user-name').text();
	$('.iconhvr label').each(function (index) {
		var label_txt = $(this).text();
		if (label_txt == 'Last Modified By' || label_txt == 'Added By') {
			$(this).closest('.iconhvr').children('div:nth-child(2)').children('input').attr('title', user_name);
			$(this).closest('.iconhvr').children('td:nth-child(3)').children('input').attr('title', user_name);
		}
	});

}
//A043S001P01-10023 start
function norcordsget() {
	if ($('#totalItemCount').text() == '0') {
		if (document.getElementById("noRecDisp")) {
			$('#noRecDisp').remove();
			$('#FULLTABLELOAD').after('<div id="noRecDisp" class="noRecord">No Records to Display</div>')
		} else {
			$('#FULLTABLELOAD').after('<div id="noRecDisp" class="noRecord">No Records to Display</div>')
		}
	} else {
		$('#noRecDisp').remove();
	}
}
//A043S001P01-10023 end

function textAreaAccess() {
	var TextAreaReadOnlyMode = localStorage.getItem("TextAreaReadOnlyMode");
	var tab_name = localStorage.getItem('tab_name');
	var actiontext = localStorage.getItem('Action_Text');
	if (actiontext == "ATTR_TRIGGER") {
		selector_text = ".header_section_div .txtArea"
	} else {
		selector_text = ".txtArea"
	}
	if (TextAreaReadOnlyMode == "1") {
		//console.log('TextAreaReadOnlyMode---')
		if ($(selector_text).length >= 1) {
			//console.log('TextAreaReadOnlyMode---')
			if (actiontext == "EDIT") {
				$(".txtArea").removeAttr('readonly');
			}
			else {
				$(selector_text).attr('readonly', 'readonly');
			}
		}
	} else {
		// if ($(selector_text).length >= 1) {
		// 	if ($(selector_text).siblings('.form-control').prop('disabled') == true) {
		// 		$(".txtArea").prop('readonly', 'readonly');
		// 		$(selector_text).removeAttr('readonly');
		// 	} else {
		// 		$(".txtArea").prop('readonly', 'readonly');
		// 		$(selector_text).removeAttr('readonly');
		// 		//$('.txtArea').css('cssText', 'background-color:lightyellow !important');
		// 	}
		// }
		// else{
		// 	$(selector_text).prop('readonly', 'readonly');
		// 	$(".txtArea").removeAttr('readonly');
		// }
		if ($(".txtArea").length >= 1) {
			if ($(".txtArea").siblings('.form-control').prop('disabled') == false) {
				$(".txtArea").prop('readonly', 'readonly');
				$(selector_text).prop('readonly', 'readonly');
			} else {
				$(".txtArea").prop('readonly', 'readonly');
				$(selector_text).prop('readonly', 'readonly');
				//$('.txtArea').css('cssText', 'background-color:lightyellow !important');
			}
		}
		else {
			$(selector_text).prop('readonly', 'readonly');
			$(".txtArea").removeAttr('readonly');
		}
	}
	//Added to make long text area fields as readonly after saving - start
	var sa_drf = localStorage.getItem("saveDraft");
	if (sa_drf == "SAVE") {
		CANCEL_DISPLAY = $('button[name="CANCEL"]').css('display')
		SAVE_DISPLAY = $('button[name="SAVE"]').css('display')
		if ((CANCEL_DISPLAY == 'block') && (SAVE_DISPLAY == 'block')) {
			if (sa_drf == "SAVE") {
				localStorage.getItem('Action_Text', 'ADD NEW');
			}
		}
		else {
			localStorage.setItem('Action_Text', 'VIEW');
		}
	}
	//Added to make long text area fields as readonly after saving - end
	if (actiontext == "VIEW") {
		$('.txtArea').attr('readonly', 'readonly');
	}
	if (actiontext == "VIEW" && (tab_name == "Profiles" || tab_name == "Actions")) {
		$(selector_text).prop('disabled', 'disabled');
	}
	else if (actiontext == "ADD NEW" || actiontext == "EDIT") {
		$(selector_text).removeAttr('readonly');
	}
	else {
		if (actiontext == "VIEW") {
			$(selector_text).prop('disabled', 'disabled');
		}
	}
	//Added to restrict long text area fields editability issue in other sections while editing a section - start
	$('.header_section_div').find('.txtArea').each(function () {
		currentmode = $(this).closest('.iconhvr').find('.editiconright a i').attr('class')
		if (currentmode == 'fa fa-pencil') {
			$('.header_section_div').find('.txtArea').removeAttr('readonly')
		}
	})
	//Added to restrict long text area fields editability issue in other sections while editing a section - end
}



/* JIRA-ID : A043S001P01-7076 - Current User Name - Tooltip 'End' */
/* A043S001P01-7841 - start */
$('#cont_viewModalSection').on('hidden.bs.modal', function () {

	$('#VIEW_DIV_ID').html("");
})

$('#cont_viewModalSection').on('show.bs.modal', function () {

	$("#VIEW_DIV_ID").html("");
});
/* A043S001P01-7841 - End */

setInterval(function () {
	$('.bootstrap-table table').each(function (index) {
		$(this).attr('onmouseup', 'relatedmouseup(this)')
	});
}, 100);
var arr_value = [];

function relatedmouseup(ele) {
	var tab_id = $(ele).attr('id');
	var a = "div[id^=listBox" + tab_id + "_RelatedMutipleCheckBoxDrop";
	$(a).each(function (index) {
		var avoid_set = 0;
		var listdrop_disp = $(this).css('display');

		if (listdrop_disp == 'block') {
			var cur_grid = $(this).attr('id');

			var get_id = $(this).children('div[id^=innerList]').attr('id');

			//var insert_data = cur_grid+'|'+get_id;
			var insert_data = cur_grid;

			if (arr_value.indexOf(insert_data) !== -1) {
				//arr_value.remove(insert_data);
				delete arr_value[insert_data];

				const index = arr_value.indexOf(insert_data);
				if (index > -1) {
					arr_value.splice(index, 1);
				}

				avoid_set = 1;
			} else {
				arr_value.push(insert_data);
			}

			if (avoid_set == 0) {
				var left_drop = $(this).children('div[id^=innerList]').parent().css('left');

				if (left_drop) {
					left_drop = left_drop.split('px');

					left_drop = parseInt(left_drop[0]) - 1;


				}

				left_drop = left_drop + 'px';

				$(this).children('div[id^=innerList]').parent().css('left', left_drop);


				var width_drop = $(this).find('div[id^=innerList]').width();

				width_drop = width_drop + 1;


				width_drop = width_drop + 'px';

				$(this).children('div[id^=innerList]').css('width', width_drop);
			}
		}
	});
	setTimeout(function () {
		var [rel_tab_id, cont_ck] = [$(ele).attr('id'), 0];
		$('table#' + rel_tab_id + ' tr .bs-checkbox input.custom').each(function (index) {
			var len_tab = $('table#' + rel_tab_id + ' tr .bs-checkbox input.custom').length;
			var ckc = $(this).prop("checked");
			if (ckc)
				cont_ck += 1;
			if (index == (len_tab - 1)) {
				if (cont_ck > 0) {
					$('.cmUnAssign').removeClass("hidden");
					//$('.cmAddNew').prop( "disabled", true );
				} else {
					$('.cmUnAssign').addClass("hidden")
					//$('.cmAddNew').removeAttr("disabled");
				}
			}
		});
	}, 100);
}


$(window).resize(function () {
	var tab_nm = $('ul#carttabs_head .active a span').text();
	if (tab_nm == 'Material') {
		mat_srl();
	}
	else if (tab_nm == 'Price Model') {
		pr_srl();
	}
	else if (tab_nm == 'Quote') {
		qu_srl();
	}
	//else if (tab_nm == 'Quotes') {
	//	qu_srl1();
	//}
	else if (tab_nm == '' || tab_nm == 'Quotes' || tab_nm == 'Contracts' || tab_nm == "") {
		quot_srl();
	}

	else if (tab_nm == 'Team Approval Queue') {
		tq_srl1();
	}
	else {
		ot_srl();
	}
});

function tq_srl1() {

	//	$('thead.fullHeadFirst').css('top' , '169px !important');
	$('table#FULLTABLELOAD').css('top', '34px !important');

}

function qu_srl1() {

	$('thead.fullHeadFirst').css('top', '185px !important');
	$('table#FULLTABLELOAD').css('top', '45px !important');

}
window.addEventListener("load", function () {
	mat_srl();
});
mat_srl();
function mat_srl() {

	var window_ht = $(window).height();
	var top_header_ht = $('div#headerContainer > .collapse.navbar-collapse1.navbar-collapse.cald_header_menubar').height();
	var main_tab_ht = $('div#attributesContainer > .row.attr_section > .row.tabsfiled').height();
	var primary_ban_ht = $('.material_btn > .material_btn_bg').height();
	var secondary_disp = 'block';
	var rgt_cnt_ht = $('div#righttreeview').height();
	//var lft_cnt_ht = $('div#lefttreepan div#treeview').height();
	var lft_cnt_ht = $('div#lefttreepan div#matriltreeview').height();
	var other_ht = 80;
	var find_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + other_ht);
	var set_tree_ht = find_ht + 'px';
	if (rgt_cnt_ht) {
		$('html').css('overflow-y', 'hidden');
	}
	$('div#righttreeview').css('max-height', set_tree_ht);
	$('div#righttreeview').css('min-height', set_tree_ht);

	$('div#lefttreepan div#matriltreeview').css('max-height', set_tree_ht);
	$('div#lefttreepan div#matriltreeview').css('min-height', set_tree_ht);

}
window.addEventListener("load", function () {
	pr_srl();
});
pr_srl();
function pr_srl() {
	var window_ht = $(window).height();
	var top_header_ht = $('div#headerContainer > .collapse.navbar-collapse1.navbar-collapse.cald_header_menubar').height();
	var main_tab_ht = $('div#attributesContainer > .row.attr_section > .row.tabsfiled').height();
	var primary_ban_ht = $('.material_btn > .material_btn_bg').height();
	var secondary_disp = $('div#content12345 > .price_inner_ban_details ').css('display');
	var subTabs_disp = $('div#PM_TABS').css('display');
	var rgt_cnt_ht = $('div#righttreeview').height();
	var lft_cnt_ht = $('div#lefttreepan div#prcmdltreeview').height();
	var notifi_alert_disp = $("div#PageAlert").css('display');

	var secondary_ht = subTabs_ht = notifi_alert = 0;
	if (secondary_disp != 'none') {
		secondary_ht = $('div#content12345 > .price_inner_ban_details').height();
	}


	if (subTabs_disp == 'block') {
		subTabs_ht = $('div#PM_TABS > ul.nav.nav-subtabs').height();
	}
	if (notifi_alert_disp == 'block') {
		notifi_alert = $("div#PageAlert").height();
	}
	var for_right_ht = 0;
	if (subTabs_disp == 'block' || secondary_disp == 'block' || notifi_alert_disp == 'block') {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + secondary_ht + subTabs_ht + notifi_alert + 100);
	}
	else {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + secondary_ht + subTabs_ht + notifi_alert + 80);
	}

	var for_left_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + 80);

	if (rgt_cnt_ht) {
		$('html').css('overflow-y', 'hidden');
	}
	if ((rgt_cnt_ht > for_right_ht) && (rgt_cnt_ht > lft_cnt_ht)) {
		for_left_ht = for_right_ht + secondary_ht + subTabs_ht;
	}

	var lft_dyn_ht = for_left_ht + 'px';

	$('div#righttreeview').css('cssText', 'max-height:unset;min-height:unset;');

	var right_dyn_ht = 'max-height:' + for_right_ht + 'px !important;overflow-y: auto !important;overflow-x: hidden !important;';
	var right_dyn_ht_1 = 'min-height:' + for_right_ht + 'px !important;max-height:' + for_right_ht + 'px !important;overflow-y: auto !important;overflow-x: hidden !important;';

	$('div#PM_TABS > .row.tab-content.bg_wt').css('cssText', right_dyn_ht);
	$('div#righttreeview > .right_side_price_cnt').css('cssText', right_dyn_ht_1);

	$('div#lefttreepan div#prcmdltreeview').css('max-height', lft_dyn_ht);
	$('div#lefttreepan div#prcmdltreeview').css('min-height', lft_dyn_ht);

}

window.addEventListener("load", function () {
	qu_srl();
});
qu_srl();
function qu_srl() {
	var window_ht = $(window).height();
	var top_header_ht = $('div#headerContainer > .collapse.navbar-collapse1.navbar-collapse.cald_header_menubar').height();
	var main_tab_ht = $('div#attributesContainer > .row.attr_section > .row.tabsfiled').height();
	var primary_ban_ht = $('.material_btn > .progress_bar_header').height();
	//var secondary_disp = $('div#content12345 > .Segment_inner_ban_details').css('display');
	var secondary_disp = $('div#content12345 > .Segment_inner_ban_details').height();
	//var subTabs_disp = $('div#COMMON_TABS').css('display');
	var subTabs_disp = 33;
	var subTabs_disp = $('div#COMMON_TABS').height();
	var rgt_cnt_ht = $('div#righttreeview > .segment_table').height();
	var lft_cnt_ht = $('div#lefttreepan div#commontreeview').height();
	var notifi_alert_disp = $("div#SegAlert").css('display');
	var notifi_alert_disp1 = $("div#PageAlert").css('display');
	var secondary_ht = subTabs_ht = notifi_alert = 0;
	//if (secondary_disp != 'none') {
	//secondary_ht = $('div#content12345 > .Segment_inner_ban_details').height();
	//}

	if (subTabs_disp == 'block') {
		subTabs_ht = $('div#COMMON_TABS > ul.nav.nav-tabs').height();
	}
	if (notifi_alert_disp == 'block') {
		notifi_alert = $("div#SegAlert").height();
	}
	if (notifi_alert_disp1 == 'block') {
		//notifi_alert = 50;
		notifi_alert = $("div#PageAlert").height();
	}
	var for_right_ht = 0;
	if (subTabs_disp == 'block' || secondary_disp == 'block' || notifi_alert_disp == 'block' || notifi_alert_disp1 == 'block') {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + secondary_disp + subTabs_disp + subTabs_ht + notifi_alert + 100);

	}
	else {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + secondary_disp + subTabs_disp + notifi_alert + 80);

	}
	if (rgt_cnt_ht) {
		$('html').css('overflow-y', 'hidden');
	}
	var for_left_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + notifi_alert + 50);

	if ((rgt_cnt_ht > for_right_ht) && (rgt_cnt_ht > lft_cnt_ht)) {
		for_left_ht = for_right_ht + secondary_disp + subTabs_disp;
	}

	var lft_dyn_ht = for_left_ht + 'px';

	$('div#righttreeview').css('cssText', 'max-height:unset;min-height:unset;');

	var right_dyn_ht = 'max-height:' + for_right_ht + 'px !important;overflow-y: auto !important;overflow-x: hidden !important;';
	var right_dyn_ht_1 = 'min-height:' + for_right_ht + 'px !important;max-height:' + for_right_ht + 'px !important;overflow-y: auto !important;overflow-x: hidden !important;';

	$('div#COMMON_TABS > .row.tab-content.bg_wt').css('cssText', right_dyn_ht);
	$('div#righttreeview > .segment_table').css('cssText', right_dyn_ht_1);
	$('div#lefttreepan div#commontreeview').css('max-height', lft_dyn_ht);
	$('div#lefttreepan div#commontreeview').css('min-height', lft_dyn_ht);
	window.onload = qu_srl;

}

function call_vertical_scrl() {
	setTimeout(function () {
		qu_srl();
	}, 1000);
}

function quot_srl() {
	$('thead.fullHeadFirst').css('top', '185px !important');
	$('table#FULLTABLELOAD').css('top', '45px !important');
	var window_ht = $(window).height();
	var top_header_ht = $('div#headerContainer > .collapse.navbar-collapse1.navbar-collapse.cald_header_menubar').height();
	var main_tab_ht = $('.materialMainBan.cart_page > .row.tabsfiled').height();
	var primary_ban_ht = $('.material_btn > .material_btn_bg').height();
	var primary_ban_ht_1 = $('.progress-bar-outer').height();
	var secondary_disp = $('div#content12345 > .Segment_inner_ban_details').css('display');
	var subTabs_disp = $('div#COMMON_TABS').css('display');
	//var secondary_disp = $('div#content12345 > .Segment_inner_ban_details').height();
	//var subTabs_disp = $('div#COMMON_TABS').css('display');
	//var subTabs_disp = $('div#COMMON_TABS').height();
	//var subTabs_disp = 45;
	var rgt_cnt_ht = $('.segment_table_outer ').height();
	var lft_cnt_ht = $('div#commontreeview').height();
	var notifi_alert_disp = $("div#SegAlert").css('display');
	var notifi_alert_disp1 = $("div#PageAlert").css('display');
	var secondary_ht = subTabs_ht = notifi_alert = 0;
	if (secondary_disp != 'none') {
		secondary_ht = $('div#content12345 > .Segment_inner_ban_details').height();
	}
	if (subTabs_disp == 'block') {
		subTabs_ht = $('div#COMMON_TABS > ul.nav.nav-tabs').height();
	}
	if (notifi_alert_disp == 'block') {
		notifi_alert = $("div#SegAlert").height();
	}
	if (notifi_alert_disp1 == 'block') {
		notifi_alert = $("div#PageAlert").height();
	}
	var for_right_ht = 0;
	if (subTabs_disp == 'block' || secondary_disp == 'block' || notifi_alert_disp == 'block' || notifi_alert_disp1 == 'block') {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + primary_ban_ht_1 + secondary_ht + subTabs_ht + notifi_alert + 130);
	}
	else {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + primary_ban_ht_1 + secondary_ht + subTabs_ht + notifi_alert + 110);
	}
	if (rgt_cnt_ht) {
		$('html').css('overflow-y', 'hidden');
	}
	var for_left_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + primary_ban_ht_1 - secondary_ht - subTabs_ht - notifi_alert + 120);
	if ((rgt_cnt_ht > for_right_ht) && (rgt_cnt_ht > lft_cnt_ht)) {
		for_left_ht = for_right_ht + secondary_ht + subTabs_ht;
	}
	var lft_dyn_ht = for_left_ht + 'px';
	$('div.segment_table_outer').css('cssText', 'max-height:unset;min-height:unset;');
	var right_dyn_ht = 'max-height:' + for_right_ht + 'px !important;overflow-y: auto !important;overflow-x: hidden !important;';
	var right_dyn_ht_1 = 'min-height:' + for_right_ht + 'px !important;max-height:' + for_right_ht + 'px !important;overflow-y: auto ;overflow-x: hidden ';
	$('div#COMMON_TABS > .row.tab-content.bg_wt').css('cssText', right_dyn_ht);
	$('.segment_table_outer ').css('cssText', right_dyn_ht_1);
	$('div#lefttreepan div#commontreeview').css('max-height', lft_dyn_ht);
	$('div#lefttreepan div#commontreeview').css('min-height', lft_dyn_ht);
	if ($(window).height() == 657) {
		var right_dyn_ht_2 = "min-height: 415px !important; max-height: 415px !important; overflow: hidden auto !important;"
		$('#righttreeview > div.col-md-12.col-lg-12.a2.segment_table').css('cssText', right_dyn_ht_2);
	}
}
function call_vertical_scrl() {
	setTimeout(function () {
		quot_srl();
	}, 500);
}
function ot_srl() {
	var window_ht = $(window).height();
	var top_header_ht = $('div#headerContainer > .collapse.navbar-collapse1.navbar-collapse.cald_header_menubar').height();
	var main_tab_ht = $('div#attributesContainer > .row.attr_section > .row.tabsfiled').height();
	var primary_ban_ht = $('.material_btn > .material_btn_bg').height();
	var secondary_disp = $('div#content12345 > .Segment_inner_ban_details').css('display');
	var subTabs_disp = $('div#COMMON_TABS').css('display');
	//var secondary_disp = $('div#content12345 > .Segment_inner_ban_details').height();
	//var subTabs_disp = $('div#COMMON_TABS').css('display');
	//var subTabs_disp = $('div#COMMON_TABS').height();
	//var subTabs_disp = 45;
	var rgt_cnt_ht = $('div#righttreeview > .segment_table').height();
	var lft_cnt_ht = $('div#lefttreepan div#commontreeview').height();
	var notifi_alert_disp = $("div#SegAlert").css('display');
	var notifi_alert_disp1 = $("div#PageAlert").css('display');
	var secondary_ht = subTabs_ht = notifi_alert = 0;
	if (secondary_disp != 'none') {
		secondary_ht = $('div#content12345 > .Segment_inner_ban_details').height();
	}
	if (subTabs_disp == 'block') {
		subTabs_ht = $('div#COMMON_TABS > ul.nav.nav-tabs').height();
	}
	if (notifi_alert_disp == 'block') {
		notifi_alert = $("div#SegAlert").height();
	}
	if (notifi_alert_disp1 == 'block') {
		notifi_alert = $("div#PageAlert").height();
	}
	var for_right_ht = 0;
	if (subTabs_disp == 'block' || secondary_disp == 'block' || notifi_alert_disp == 'block' || notifi_alert_disp1 == 'block') {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + secondary_ht + subTabs_ht + notifi_alert + 120);
	}
	else {
		for_right_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + secondary_ht + subTabs_ht + notifi_alert + 100);
	}
	if (rgt_cnt_ht) {
		$('html').css('overflow-y', 'hidden');
	}
	var for_left_ht = window_ht - (top_header_ht + main_tab_ht + primary_ban_ht + 80);
	if ((rgt_cnt_ht > for_right_ht) && (rgt_cnt_ht > lft_cnt_ht)) {
		for_left_ht = for_right_ht + secondary_ht + subTabs_ht;
	}
	var lft_dyn_ht = for_left_ht + 'px';
	$('div#righttreeview').css('cssText', 'max-height:unset;min-height:unset;');
	var right_dyn_ht = 'max-height:' + for_right_ht + 'px !important;overflow-y: auto !important;overflow-x: hidden !important;';
	var right_dyn_ht_1 = 'min-height:' + for_right_ht + 'px !important;max-height:' + for_right_ht + 'px !important;overflow-y: auto !important;overflow-x: hidden !important;';
	$('div#COMMON_TABS > .row.tab-content.bg_wt').css('cssText', right_dyn_ht);
	$('div#righttreeview > .segment_table').css('cssText', right_dyn_ht_1);
	$('div#lefttreepan div#commontreeview').css('max-height', lft_dyn_ht);
	$('div#lefttreepan div#commontreeview').css('min-height', lft_dyn_ht);
	if ($(window).height() == 657) {
		var right_dyn_ht_2 = "min-height: 415px !important; max-height: 415px !important; overflow: hidden auto !important;"
		$('#righttreeview > div.col-md-12.col-lg-12.a2.segment_table').css('cssText', right_dyn_ht_2);
	}
}
function call_vertical_scrl() {
	setTimeout(function () {
		ot_srl();
	}, 500);
}


function list_grid_wid() {
	$(".JCLRgrip").mouseup();
	setTimeout(function () {
		$("thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;");
		$(".wrap-when-landing-C4C thead.fullHeadFirst").css("cssText", "z-index: 2;border-top: 1px solid rgb(220, 220, 220);top: 58px;border-right: 0px !important;");
		$("thead.fullHeadSecond").css("display", "none");
		$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
		$(".cart_page").parents('html').css("overflow", "hidden");
		//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');
		var th_width_resize = [];
		$("#FULLTABLELOAD thead.fullHeadFirst tr th").each(function (index) {
			var wid = $(this).css("width");

			if (index == 0 || index == 1) {
				th_width_resize.push("50px");
			} else {
				th_width_resize.push(wid);
			}
		});
		$("thead.fullHeadFirst").css("cssText", "position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220);border-right: 0px !important;");
		$(".wrap-when-landing-C4C thead.fullHeadFirst").css("cssText", "position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220); top: 58px;border-right: 0px !important;");
		$("thead.fullHeadSecond").css("display", "table-header-group");
		$(".wrap-when-landing-C4C .cart_page").parents('html').css("overflow", "hidden");
		$(".cart_page").parents('html').css("overflow", "hidden");
		//$('.modal-dialog').wrap('<div class="custom-vertical-align-center-out-modal"></div>');
		var txt_alg = []
		$('table#FULLTABLELOAD thead.fullHeadSecond tr th').each(function (index) {
			var a = $(this).css('text-align');
			txt_alg.push(a);
		});
		$("#FULLTABLELOAD thead.fullHeadFirst tr th").each(function (index) {
			var num = th_width_resize[index].split("px");
			var numsp = parseInt(num[0]);
			numsp = numsp - 1;
			var make_str = numsp + "px";

			var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
			var d = "width:" + make_str + ";";

			//$(this).css("cssText", c);
			$(this).css({
				"width": make_str,
				"white-space": "nowrap",
				"overflow": "hidden",
				"text-overflow": "ellipsis",
				"text-align": txt_alg[index]
			});
			//$(this).children("div:first-child").css("cssText", c);
			$(this).children("div:first-child").css({
				"width": make_str,
				"white-space": "nowrap",
				"overflow": "hidden",
				"text-overflow": "ellipsis",
				"text-align": txt_alg[index]
			});
			//$(this).children("div.fht-cell").css("cssText", d);
			$(this).children("div.fht-cell").css({
				"width": make_str
			});
		});

		$("#FULLTABLELOAD thead.fullHeadSecond tr th").each(function (index) {
			var num = th_width_resize[index].split("px");
			var numsp = parseInt(num[0]);
			numsp = numsp - 1;
			var make_str = numsp + "px";

			var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
			var d = "width:" + make_str + ";";

			//$(this).css("cssText", c);
			$(this).css({
				"width": make_str,
				"white-space": "nowrap",
				"overflow": "hidden",
				"text-overflow": "ellipsis"
			});
			//$(this).children("div:first-child").css("cssText", c);
			$(this).children("div:first-child").css({
				"width": make_str,
				"white-space": "nowrap",
				"overflow": "hidden",
				"text-overflow": "ellipsis"
			});
			//$(this).children("div.fht-cell").css("cssText", d);
			$(this).children("div.fht-cell").css({
				"width": make_str
			});
		});



		$('div[id^=listBoxRelatedMutipleCheckBoxDrop_]').each(function (index) {

			var avoid_set = 0;
			var listdrop_disp = $(this).css('display');

			if (listdrop_disp == 'block') {
				var cur_grid = $(this).attr('id');

				var get_id = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').attr('id');

				var insert_data = cur_grid + '|' + get_id;

				if (arr_value.indexOf(insert_data) !== -1) {
					//arr_value.remove(insert_data);
					delete arr_value[insert_data];
					const index = arr_value.indexOf(insert_data);
					if (index > -1) {
						arr_value.splice(index, 1);
					}

					avoid_set = 1;
				} else {
					arr_value.push(insert_data);
				}

				if (avoid_set == 0) {
					var left_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left');

					if (left_drop) {
						left_drop = left_drop.split('px');
						left_drop = parseInt(left_drop[0]) - 1;

					}

					left_drop = left_drop + 'px';

					$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').parent().css('left', left_drop);


					var width_drop = $(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').width();

					width_drop = width_drop + 1;

					width_drop = width_drop + 'px';

					$(this).find('div[id^=innerListBoxRelatedMutipleCheckBoxDrop_]').css('width', width_drop);
				}

			}
		});
		$(".JCLRgrip").mouseup();
	}, 2000);
	fullTableListGridWidth();
}

function fullTableListGridWidth() {
	var th_width_resize = [];
	$("#FULLTABLELOAD thead.fullHeadFirst tr th").each(function (index) {
		var wid = $(this).css("width");

		if (index == 0 || index == 1) {
			th_width_resize.push("50px");
		} else {
			th_width_resize.push(wid);
		}
	});

	//$("thead.fullHeadFirst").css("cssText", "position: fixed;z-index: 2;border-top: 1px solid rgb(220, 220, 220); top: 155px;border-right: 0px !important;");
	//$("thead.fullHeadSecond").css("display", "table-header-group");

	var txt_alg = []
	$('table#FULLTABLELOAD thead.fullHeadSecond tr th').each(function (index) {
		var a = $(this).css('text-align');
		txt_alg.push(a);
	});
	$("#FULLTABLELOAD thead.fullHeadFirst tr th").each(function (index) {
		var num = th_width_resize[index].split("px");
		var numsp = parseInt(num[0]);
		numsp = numsp - 1;
		var make_str = numsp + "px";

		var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
		var d = "width:" + make_str + ";";

		//$(this).css("cssText", c);
		$(this).css({
			"width": make_str,
			"white-space": "nowrap",
			"overflow": "hidden",
			"text-overflow": "ellipsis",
			"text-align": txt_alg[index]
		});
		//$(this).children("div:first-child").css("cssText", c);
		$(this).children("div:first-child").css({
			"width": make_str,
			"white-space": "nowrap",
			"overflow": "hidden",
			"text-overflow": "ellipsis",
			"text-align": txt_alg[index]
		});
		//$(this).children("div.fht-cell").css("cssText", d);
		$(this).children("div.fht-cell").css({
			"width": make_str
		});
	});
	$("#FULLTABLELOAD thead.fullHeadSecond tr th").each(function (index) {
		var num = th_width_resize[index].split("px");
		var numsp = parseInt(num[0]);
		numsp = numsp - 1;
		var make_str = numsp + "px";

		var c = "width:" + make_str + ";white-space: nowrap;overflow: hidden;text-overflow: ellipsis;";
		var d = "width:" + make_str + ";";

		//$(this).css("cssText", c);
		$(this).css({
			"width": make_str,
			"white-space": "nowrap",
			"overflow": "hidden",
			"text-overflow": "ellipsis"
		});
		//$(this).children("div:first-child").css("cssText", c);
		$(this).children("div:first-child").css({
			"width": make_str,
			"white-space": "nowrap",
			"overflow": "hidden",
			"text-overflow": "ellipsis"
		});
		//$(this).children("div.fht-cell").css("cssText", d);
		$(this).children("div.fht-cell").css({
			"width": make_str
		});
	});
	var form_second_to_first = [];
	//var full_second = $('#FULLTABLELOAD thead.fullHeadSecond').css('width');
	//form_second_to_first.push(full_second);
	$('#FULLTABLELOAD thead.fullHeadSecond tr th').each(function (index) {
		var a = $(this).css('width');

		form_second_to_first.push(a);
	});
	$('#FULLTABLELOAD thead.fullHeadFirst tr th').each(function (index) {
		var current_tab_name = $('ul#carttabs_head .active').text().trim();
		if (current_tab_name == 'countries' || current_tab_name == 'Personalizations' || current_tab_name == 'Emblem Findings' || current_tab_name == 'Languages' || current_tab_name == 'Box Families' || current_tab_name == 'Config Classes' || current_tab_name == 'Material Types' || current_tab_name == 'Item Category Groups' || current_tab_name == 'Calculation Factors' || current_tab_name == 'Currencies' || current_tab_name == 'Price Agreements' || current_tab_name == 'Program Types' || current_tab_name == 'Attributes' || current_tab_name == 'Programs') {
			var a = 'width:' + form_second_to_first[index] + ' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
			var d = 'width:' + form_second_to_first[index] + ';'
			$(this).css('cssText', a);
			$(this).children('div:first-child').css('cssText', a);

			$(this).children('div.fht-cell').css('cssText', d);
		} else {
			var num = form_second_to_first[index].split('px');
			var numsp = parseInt(num[0]);
			numsp = numsp - 1;
			var make_str = numsp + 'px';

			var a = '';
			var d = '';
			if (index == 0 || index == 1) {
				aa = 'width:60px !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;'

			} else {
				a = 'width:' + make_str + ' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
				var d = 'width:' + make_str + ';'
			}
			//var a = 'width:'+form_second_to_first[index]+' !Important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;';
			$(this).css('cssText', a);
			$(this).children('div:first-child').css('cssText', a);
			$(this).children('div.fht-cell').css('cssText', d);
		}
	});
}

/* Common Delete Function Start */
function CommonDelete(ele, ObjName, MsgType, PageType = '') {
	try {
		if (PageType == 'Page') {
			RecordId = $(".CommonTreeDetail #TREE_div>#container table tr td input").val()
			RecordValue = ""

		} else {
			RecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
			if (ObjName.startsWith('QTQFCA')) {
				RecordValue = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
				RecordValue += "#" + $(ele).closest('tr').children('td:nth-child(6)').text().trim();
				RecordValue += "#" + ObjName
			} else if (ObjName.startsWith('SYOBJC')) {
				RecordValue = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
				RecordValue += "#" + $(ele).closest('tr').children('td:nth-child(6)').text().trim();
				RecordValue += "#" + ObjName
				localStorage.setItem('cont_value', RecordValue)
			}
			else if (ObjName.startsWith('SYOBJX')) {
				RecordValue = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
				RecordValue += "#" + $(ele).closest('tr').children('td:nth-child(6)').text().trim();
				RecordValue += "#" + ObjName
				localStorage.setItem('cont_value', RecordValue)
			}
			else if (ObjName.startsWith('SAQSPT')) {
				RecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
				RecordValue = $(ele).closest('tr').children('td:nth-child(7)').text().trim();

			}
			else if (ObjName.startsWith('SAQRSP')) {
				RecordId = $(ele).closest('tr').children('td:nth-child(3)').text().trim();
				RecordValue = $(ele).closest('tr').children('td:nth-child(5)').text().trim();

			}
			else if (ObjName.startsWith('SAQSCN')) {
				RecordId = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
				RecordValue = $(ele).closest('tr').children('td:nth-child(4)').text().trim();

			}
			else if (ObjName.startsWith('SAQSCO')) {
				RecordValue = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
				RecordValue += "#" + $(ele).closest('tr').children('td:nth-child(5)').text().trim();
				RecordValue += "#" + $(ele).closest('tr').children('td:nth-child(6)').text().trim();
				RecordValue += "#" + ObjName
			} else if ((ObjName.startsWith('ACACSA')) || (ObjName.startsWith('ACACST'))) {
				RecordValue = $(ele).closest('tr').children('td:nth-child(5)').text().trim();
			}
			// INC08632845 - Start - A
			else if (ObjName.startsWith('SAQFEA')) {
				RecordId = ObjName.replace("SAQFEA#", "");
				ObjName = "SAQFEQ"
				RecordValue = ""
			}
			// INC08632845 - End - A
			else {
				RecordValue = $(ele).closest('tr').children('td:nth-child(4)').text().trim();
			}
		}
		cpq.server.executeScript("SYDELCNMSG", {
			'Record_Id': RecordId,
			'Grid_Id': ObjName,
			'Action': 'new',
			'Message': MsgType,
			'RecordValue': RecordValue
		}, function (dataset) {
			if (dataset != "") {
				if (document.getElementById("COMMON_DELETE_MODAL")) {
					$("#cont_CommonModalDelete #COMMON_DELETE_MODAL").html(dataset);
				}
			}
		});
	} catch (e) {
		console.log('eeeeeee ', e);
	}
}

function CommonDeleteRecord(RecordId, ObjName) {
	try {
		cpq.server.executeScript("SYDELCNMSG", {
			'Record_Id': RecordId,
			'Grid_Id': ObjName,
			//INC08737172 Start - A
			'Action': 'delete',
			'SUBTAB': $('#COMMON_TABS ul li.active').text().trim(),
			'TreeParam': TreeParam
			//INC08737172 End - A
		}, function (dataset) {
			if (ObjName == 'ACACSA' || ObjName == 'ACAPTF' || ObjName == 'SAQSPT') {
				eval($('#COMMON_TABS li.active ').attr('onclick'));
			}
			else if (ObjName == 'SAQRSP') {
				loadRelatedList("SYOBJR-00029", "div_CTR_related_list");
			}
			else if (ObjName == 'SAQRCV') {
				loadRelatedList("SYOBJR-98880", "div_CTR_related_list");
			} else if (ObjName == 'SAQSCN') {
				loadRelatedList("SYOBJR-98882", "div_CTR_nso_catalogs");;
			}
			else if (ObjName == 'SAQTSV') {
				loadRelatedList("SYOBJR-98788", "div_CTR_related_list");
				localStorage.setItem("add_new_functionality", "TRUE");
				CommonLeftView();
			} else if (ObjName == 'SAQSAO') {
				loadRelatedList("SYOBJR-98859", "div_CTR_related_list");
				localStorage.setItem("add_new_functionality", "TRUE");
				CommonLeftView();
			}
			else if (ObjName == 'SAQICT') {
				loadRelatedList("SYOBJR-98871", "div_CTR_Involved_Parties");
			}

			else if (ObjName == 'SAQSCF') {
				loadRelatedList("SYOBJR-98857", "div_CTR_Source_Fab_Locations");
			}
			else if (ObjName == 'SAQTIP') {
				loadRelatedList("SYOBJR-98798", "div_CTR_Involved_Parties");
			}
			else if (ObjName == 'SAQDLT') {
				loadRelatedList("SYOBJR-00643", "div_CTR_related_list");
				Subbaner('', CurrentNodeId, CurrentRecordId, 'SAQDLT');
			}
			else if (ObjName.includes('SAQSCO')) {
				if (dataset[1] == true) {
					localStorage.setItem("AfterDelete", "YES");
					localStorage.setItem("AfterDeleteEquipment", "YES");
					localStorage.setItem("add_new_functionality", "TRUE");
					CommonLeftView();
				}
				subTabDetails('Equipment', 'Related', 'SAQSCO', localStorage.getItem("EntCurrentId"))
			} else if (ObjName.includes("SAQFEA")) {
				subtabClick = $('#COMMON_TABS > ul > li.active').attr('onclick');
				if (dataset[1] == true) {
					localStorage.setItem("add_new_functionality", "TRUE");
					CommonLeftView();
				}

				eval(subtabClick);
			} else if (ObjName == 'SAQSGB') {
				localStorage.setItem("add_new_functionality", "TRUE");
				CommonLeftView();
				subTabDetails('Equipment', 'Related', 'SAQSGB', 'undefined');
			}
			else if (ObjName == "SAQFBL") {
				//loadRelatedList("SYOBJR-98789","div_CTR_related_list");
				//CommonLeftView()
				cpq.server.executeScript("CQCRUDOPTN", {
					'Opertion': 'GET',
					'ActionType': 'SHOW_PRICING_BENCHMARKING_NOTIFICATION',
					'NodeType': 'QUOTE LEVEL NOTIFICATION'
				}, function (data) {
					if (data != "") {

						config_change_noty = data[4]
						if (config_change_noty) {
							$(".emp_notifiy").css('display', 'block');
							$("#PageAlert ").css('display', 'block');
							$("#alertnotify").html(config_change_noty);
							$(".alert-warning").css('display', 'block');
						}

					}
					localStorage.setItem("add_new_functionality", "TRUE");
					// INC08632845 - Start - M
					localStorage.setItem("left_tree_refresh", "yes");
					CommonLeftView();
					loadRelatedList('SYOBJR-00038', 'div_CTR_Fab_Locations');
					$('#COMMON_TABS > ul > li').removeClass('active');
					$('div#COMMON_TABS').find("li a:contains('Receiving Fab Locations')").parent().addClass('active');
					// INC08632845 - End - M
				});
			}
			// INC08632845 - Start - A
			else if (ObjName == "SAQFEQ" && $('#COMMON_TABS ul li.active').text().trim() == 'Receiving Equipment') {
				subTabDetails('Receiving Equipment', 'Related', 'SAQTIP', 'SYOBJR-00038')
			}
			// INC08632845 - End - A
			// INC08928004
			else if (ObjName == "SAQFEQ" && $('#COMMON_TABS ul li.active').text().trim() == 'Equipment') {
				if (dataset[1] == true) {
					localStorage.setItem("add_new_functionality", "TRUE");
					CommonLeftView();
				} else {
					EquipmentTreeTable();
				}
			}
			// INC08928004
			else {
				$('.BTN_MA_ALL_REFRESH').click();
			}
			$('#commontreeview').treeview('revealNode', [parseInt(CurrentNodeId), {
				silent: true
			}]);
			$('#commontreeview').treeview('selectNode', [parseInt(CurrentNodeId), {
				silent: true
			}]);
		});
	} catch (e) {
		console.log('eeeeeee ', e);
	}
}
/* Common Delete Function End */

function edit_entitlement(ele) {
	var btn_id = $(ele).attr('id');
	var subtabName = localStorage.getItem("currentSubTab")
	var EquipmentId = ''
	if (subtabName == 'Equipment Entitlements') {
		EquipmentId = localStorage.getItem("Ent_EquipmentId")
	}
	TreeParam = localStorage.getItem('CommonTreeParam');
	$('#' + btn_id).closest('#ctr_drop').css('display', 'none');
	$('#sec_' + btn_id).closest("#container").wrapAll('<div class="header_section_div header_section_div_pad_bt10 col-md-12" />');
	$('select').addClass('light_yellow');
	$('#sec_' + btn_id + ' tr').each(function () {
		$(this).closest("tr").find('td select').prop("disabled", false);
		$(this).closest("tr").find('td input').prop("disabled", false);
	});
	$('div#sec_' + btn_id).append('<div id="Entlsave" class="g4 sec_' + btn_id + ' collapse in removeHorLine iconhvr sec_edit_sty"><button id=' + btn_id + ' class="btnconfig btnMainBanner sec_edit_sty_btn" onclick="save_entitlement(this)">SAVE</button><button id=' + btn_id + ' class="btnconfig btnMainBanner sec_edit_sty_btn" onclick="cancel_entitlement(this)">CANCEL</button></div>')
	$('#' + btn_id).closest('[data-toggle=collapse]').prop('disabled', true);
	disallowlist = [];
	readonlylist = [];
	editlist = [];
	allowlist = [];
	var tableid = '#sec_' + btn_id
	var dict_new = {};
	$(tableid + " tbody tr td:nth-child(3) select").each(function () {
		dict_new[$(this).attr('id')] = $(this).children(":selected").val();
	});
	$(tableid + " tbody tr td:nth-child(3) input").each(function () {
		if ($(this).attr('type') == 'CHECKBOX') {
			if ($(this).attr('id')) {
				dict_new[$(this).attr('id')] = String($(this).prop("checked"));
			}
		} else {
			if ($(this).attr('id')) {
				dict_new[$(this).attr('id')] = $(this).val();
			}
		}
	});
	GetEditdict = JSON.stringify(dict_new);
	localStorage.setItem('GetEditdict', GetEditdict);
	$("select").on('focus', function () {
		//console.log("Saving value " + $(this).val());
		$(this).data('val', $(this).val());
		var getid = $(this).find('option:selected').attr('id');
		//console.log("Saving getid " ,getid);

	}).change(function () {
		var prev = $(this).data('val');

		var current = $(this).val();
		//console.log("Prev value " + prev);
		//console.log("New value " + current);
		var attId = $(this).attr('id');

		var attvalcode = $(this).attr('data-content');
		var getid = $(this).find('option:selected').attr('id');
		//console.log("Saving getid -----" ,getid);
		try {
			cpq.server.executeScript("CQENTLMENT", {
				'attributeId': attId,
				'attvalcode': getid,
				'subtabName': subtabName,
				'SectionRecordId': btn_id,
				'prev': prev,
				'getprevdict': JSON.stringify(dict_new),
				'EquipmentId': EquipmentId,
				'current': current
			}, function (datas) {
				disallowlist = datas[0];
				allowlist = datas[1];
				readonlylist = datas[3];
				editlis = datas[4];

				disallowlist.forEach(function (ele) {

					$('#' + ele).closest("tr").css('display', 'none');

				});
				allowlist.forEach(function (ele) {

					$('#' + ele).closest("tr").removeAttr('style');

				});


				readonlylist.forEach(function (ele) {

					$('#' + ele).closest("tr").attr('disabled', 'disabled');
				});
			});
		} catch (e) {
			console.log(e);
		}

	});
	$("input").on('focus', function () {

		$(this).data('val', $(this).val());

	}).change(function () {
		var prev = $(this).data('val');
		var current = $(this).val();
		//console.log("Prev value " + prev);
		//console.log("New value " + current);
		var attId = $(this).attr('id');
		try {
			cpq.server.executeScript("CQENTLMENT", {
				'attributeId': attId,
				'subtabName': subtabName,
				'prev': prev,
				'SectionRecordId': btn_id,
				'getprevdict': JSON.stringify(dict_new),
				'current': current,
				'EquipmentId': EquipmentId,
				'EntitlementType': 'Text'
			}, function (datas) {
				disallowlist = datas[0];
				allowlist = datas[1];
				readonlylist = datas[3];
				editlis = datas[4];

				disallowlist.forEach(function (ele) {

					$('#' + ele).closest("tr").css('display', 'none');
					// $(ele).css('display','none');
				});
				allowlist.forEach(function (ele) {

					//$('#'+ele).closest("tr").css('display','block');
					$('#' + ele).closest("tr").removeAttr('style');
					//$(ele).css('display','block');
				});


				readonlylist.forEach(function (ele) {
					//console.log('readonlylist-----------',ele)
					//$(ele).attr('disabled', 'disabled');
					$('#' + ele).closest("tr").attr('disabled', 'disabled');
				});

			});
		} catch (e) {
			console.log(e);
		}

	});

}
localStorage.setItem("Entitlementdict", JSON.stringify([]))
localStorage.setItem("EntPrevdict", JSON.stringify([]))
function editent_bt(ele) {
	//conflict message
	try {
		notification_div = document.querySelectorAll('#TREE_div .emp_notifiy');
		notification_div.forEach(notifi => {
			notifi.remove();
		});
	}
	catch {
		console.log("error---")
	}
	// $("#TREE_div .emp_notifiy").css('display','none');
	// $("#TREE_div #PageAlert ").css('display','none');
	// $("#TREE_div #alertnotify").html('')
	localStorage.setItem("edit_call_flag", "true")
	gettabeleid = ele.id;
	gettabelevalue = ele.value;
	//$("#"+gettabeleid).addClass('light_yellow');
	if (gettabeleid == 'T0') {
		$('#T0_imt').removeAttr("disabled");
		$('#T0_primp').removeAttr("disabled");
		$("#T0_imt").removeClass('remove_yellow ').addClass('light_yellow');
		$("#T0_primp").removeClass('remove_yellow ').addClass('light_yellow');
	}
	if (gettabeleid == 'T1') {
		$("#T1_imt").removeClass('remove_yellow ').addClass('light_yellow');
		$("#T1_primp").removeClass('remove_yellow ').addClass('light_yellow');
	}
	if (gettabeleid == 'T2') {
		$("#T2_imt").removeClass('remove_yellow ').addClass('light_yellow');
		$("#T2_primp").removeClass('remove_yellow ').addClass('light_yellow');
	}
	if (gettabelevalue.toUpperCase() == "MANUAL INPUT") {
		$('#ADDL_PERF_GUARANTEE_91_1_imt').removeAttr("disabled");
		$("#ADDL_PERF_GUARANTEE_91_1_imt").removeClass('remove_yellow ').addClass('light_yellow');
	}

	var subtabName = localStorage.getItem("currentSubTab")
	var gecurrenttatbleid = $('#' + gettabeleid).closest('table').attr('id');
	var EquipmentId = ''
	var calcFactor = ''
	var newentValues = []
	if (subtabName == 'Equipment Entitlements') {
		EquipmentId = localStorage.getItem("Ent_EquipmentId")
	}
	var Prevdict = JSON.parse(localStorage.getItem("EntPrevdict"));
	Prevdict.push({
		key: gettabeleid,
		value: gettabelevalue
	});
	var Oldvalues = Prevdict
	localStorage.setItem("EntPrevdict", JSON.stringify(Oldvalues))
	localStorage.setItem('gecurrenttatbleid', gecurrenttatbleid);
	var newentdict = JSON.parse(localStorage.getItem("Entitlementdict"));
	var tableid = gecurrenttatbleid
	var tableids = '#' + tableid
	$(tableids + "tbody tr td:nth-child(6) input").removeClass('light_yellow').addClass('remove_yellow');
	$(tableids + "tbody tr td:nth-child(4) input").removeClass('light_yellow').addClass('remove_yellow');
	$(tableids + "tbody tr td:nth-child(7) input").removeClass('light_yellow').addClass('remove_yellow');
	$(tableids + "tbody tr td:nth-child(8) input").removeClass('light_yellow').addClass('remove_yellow');
	$(tableids + "tbody tr td:nth-child(4) input").attr('disabled', 'disabled');
	$(tableids + "tbody tr td:nth-child(5) input").attr('disabled', 'disabled');

	var dict_new = {};
	$(tableids + " tbody tr td select").each(function () {
		dict_new[$(this).attr('id')] = $(this).children(":selected").val();
	});
	$(tableids + " tbody tr td input").each(function () {
		if ($(this).attr('type') == 'CHECKBOX') {
			if ($(this).attr('id')) {
				dict_new[$(this).attr('id')] = String($(this).prop("checked"));
			}
		} else {
			if ($(this).attr('id')) {
				dict_new[$(this).attr('id')] = $(this).val();
			}
		}
	});

	var ent_dict_new = {};
	$(".getentdata  tbody tr:visible").each(function () {

		if ($(this).find('td:nth-child(3) select')) {

			var getsecval = $(this).find('td:nth-child(2)').text();
			var entselectval = $(this).find('td:nth-child(5) select').children(":selected").val();
			var entselectid = $(this).find('td:nth-child(5) select').children(":selected").attr('id');
			var getcalcfac = $(this).find('td:nth-child(7) input').val();
			var getcostimpact = $(this).find('td:nth-child(8) input').val();
			var getpriceimpact = $(this).find('td:nth-child(9) input').val();

			if (entselectid == "FIXED_PRICE") { entselectid = 'FIXED PRICE' }

			ent_dict_new[$(this).find('td:nth-child(5) select').attr('id')] = entselectval + '||' + entselectid + '||' + 'DropDown' + '||' + getsecval + '||' + getcalcfac + '||' + getcostimpact + '||' + getpriceimpact;

		}

	});

	$(".getentdata  tbody tr:visible").each(function () {

		if ($(this).find('td:nth-child(5) input')) {

			var getsecval = $(this).find('td:nth-child(2)').text();
			var getcalcfac = $(this).find('td:nth-child(7) input').val();
			var getcostimpact = $(this).find('td:nth-child(8) input').val();
			var getpriceimpact = $(this).find('td:nth-child(9) input').val();


			ent_dict_new[$(this).find('td:nth-child(5) input').attr('id')] = $(this).find('td:nth-child(5) input').val() + '||' + $(this).find('td:nth-child(5) input').attr('id') + '||' + 'FreeInputNoMatching' + '||' + getsecval + '||' + getcalcfac + '||' + getcostimpact + '||' + getpriceimpact;


		}

	});




	//console.log('dict new----',JSON.stringify(dict_new))
	GetEditdict = JSON.stringify(dict_new);
	localStorage.setItem('GetEditdict', GetEditdict);
	var getentedict = {};
	var newentList = ""
	//$(document).on('change','#'+gettabeleid,function(){
	var entchanged = ele.value;
	if (gettabeleid == 'T0') {
		$('#T0_imt').removeAttr("disabled");
		$('#T0_primp').removeAttr("disabled");
		$("#T0_imt").removeClass('remove_yellow ').addClass('light_yellow');
		$("#T0_primp").removeClass('remove_yellow ').addClass('light_yellow');
	}
	if (gettabeleid == 'T1') {
		$("#T1_imt").removeClass('remove_yellow ').addClass('light_yellow');
		$("#T1_primp").removeClass('remove_yellow ').addClass('light_yellow');
	}
	if (gettabeleid == 'T2') {
		$("#T2_imt").removeClass('remove_yellow ').addClass('light_yellow');
		$("#T2_primp").removeClass('remove_yellow ').addClass('light_yellow');
	}
	//  if(entchanged.toUpperCase() == "MANUAL INPUT"){	$('#ADDL_PERF_GUARANTEE_91_1_T').css('display','block');
	//  $('#ADDL_PERF_GUARANTEE_91_1_imt').removeAttr("disabled");
	//  $("#ADDL_PERF_GUARANTEE_91_1_imt").removeClass('remove_yellow ').addClass('light_yellow');
	//  $('#ADDL_PERF_GUARANTEE_91_1_primp').removeAttr("disabled");
	//  $("#ADDL_PERF_GUARANTEE_91_1_primp").removeClass('remove_yellow ').addClass('light_yellow');
	// }
	else {
		var getmanualip = $('#ADDL_PERF_GUARANTEE_91_1').find(":selected").text();
		if (getmanualip.toUpperCase() == "MANUAL INPUT") {
			$('#ADDL_PERF_GUARANTEE_91_1_T').css('display', 'block');
			$('#ADDL_PERF_GUARANTEE_91_1_imt').removeAttr("disabled");
			$("#ADDL_PERF_GUARANTEE_91_1_imt").removeClass('remove_yellow ').addClass('light_yellow');
			$('#ADDL_PERF_GUARANTEE_91_1_primp').removeAttr("disabled");
			$("#ADDL_PERF_GUARANTEE_91_1_primp").removeClass('remove_yellow ').addClass('light_yellow');
		}
		else {
			$('#ADDL_PERF_GUARANTEE_91_1_imt').attr('disabled', 'disabled');
			$('#ADDL_PERF_GUARANTEE_91_1_primp').attr('disabled', 'disabled');
			$('#T0_imt').attr('disabled', 'disabled');
			$('#T0_primp').attr('disabled', 'disabled');
		}
	}
	var getatbleid = $(ele).closest('table').attr('id');
	localStorage.setItem('getatbleid', getatbleid);
	if ($(ele).is("select")) {
		var EntitlementType = 'Dropdown'
	}
	else {
		var EntitlementType = 'Text'
		if ($('#' + gettabeleid + ':contains("calc")')) {
			var calcFactor = ele.value
		}
	}
	//getting current section dict starts
	section_dict = {}
	$("#" + getatbleid + " tbody tr:visible").each(function () {
		var getcostimpact = $(ele).find('td:nth-child(8) ').text();
		var getpriceimpact = $(ele).find('td:nth-child(9) ').text();
		var attr_type = 'DropDown'
		section_dict[$(this).find('td:nth-child(5) select').attr('id')] = $(this).find('td:nth-child(5) select').children(':selected').val() + '||' + attr_type + '||' + getcostimpact + '||' + getpriceimpact;
	});
	var arr = [];
	$("#" + getatbleid + " tbody tr:visible").each(function () {
		if ($(this).find('td:nth-child(5) input') && !($(this).find('td:nth-child(5) input').attr('type') == 'checkbox')) {
			var getcostimpact = $(ele).find('td:nth-child(8) ').text();
			var getpriceimpact = $(ele).find('td:nth-child(9) ').text();
			var attr_type = 'FreeInputNoMatching'
			section_dict[$(this).find('td:nth-child(5) input').attr('id')] = $(this).find('td:nth-child(5) input').val() + '||' + attr_type + '||' + getcostimpact + '||' + getpriceimpact;
		}
		else if ($(ele).find('td:nth-child(5) input').attr('type') == 'checkbox') {
			var getcostimpact = $(ele).find('td:nth-child(8) ').text();
			var getpriceimpact = $(ele).find('td:nth-child(9) ').text();
			var attr_type = 'Check Box'
			var arr = [];
			$(ele).find('.mulinput:checked').each(function () {
				arr.push($(ele).val());
			});
			section_dict[$(this).find('td:nth-child(5) select').attr('id')] = arr + '||' + attr_type + '||' + getcostimpact + '||' + getpriceimpact;
		};
	});
	var sectional_current_dict = JSON.stringify(section_dict)
	//getting current section dict ends

	var getseltabledesc = ele.id;
	if (entchanged == 'Excluded' && getseltabledesc.startsWith("FAB_VANTAGE")) { localStorage.setItem('getfabvantage', 'Excluded') }
	if (getseltabledesc) {
		newentValues.push(getseltabledesc);
		newentList = JSON.stringify(newentValues);
		newentdict.push(getseltabledesc);
		var Changedvalues = newentdict
		localStorage.setItem("Entitlementdict", JSON.stringify(Changedvalues))
	}

	$(ele).data('old', $(ele).val());
	var previousval = $(ele).data('val');
	var concate_data = getatbleid + '=' + previousval + '=' + getseltabledesc + '=' + entchanged;
	var new_configid_flag = localStorage.getItem('editfirst');
	var getprevdict = localStorage.getItem("prventdict");
	$("#" + gettabeleid).addClass('light_yellow');
	Assembly_id_value = localStorage.getItem("AssemblyIdValue")
	EquipmentId = localStorage.getItem("EquipmentIdValue")
	CurrentRecordId = localStorage.getItem('CurrentRecordId');
	localStorage.setItem("Entitlement_edit_value", getseltabledesc)
	try {
		cpq.server.executeScript("CQENTLMENT", {
			'attributeId': getseltabledesc,
			'subtabName': subtabName,
			'prev': previousval,
			'SectionRecordId': getatbleid,
			'current': entchanged,
			'EquipmentId': EquipmentId,
			'EntitlementType': EntitlementType,
			'calc_factor': calcFactor,
			'ENT_IP_DICT': ent_dict_new,
			'new_configid_flag': new_configid_flag,
			'getprevdict': getprevdict,
			'sectional_current_dict': sectional_current_dict,
			'AssemblyId': Assembly_id_value,
			'RECORD_ID': CurrentRecordId
		}, function (datas) {
			disallowlist = datas[0];
			allowlist = datas[1];
			readonlylist = datas[3];
			editlis = datas[4];
			getdatatype = datas[6];
			getcurrency = datas[5];
			attrLevlPricing = datas[7]
			dropdown_allowlist = datas[8];
			dropdown_disallowlist = datas[9];
			non_default_attrlist = datas[10];
			drop_select_attrlist = datas[11];
			droptext_select_attrlist = datas[12];
			allowtab_attrlist = datas[14];
			disallowtab_sattrlist = datas[15];
			disrequired_sattrlist = datas[18];
			required_attr_list = datas[19];
			cps_error = datas[20];
			conflict_message = datas[21];
			drop_unselect_attrlist = datas[22];
			localStorage.setItem('editfirst', 'false');
			required_attr_list.forEach(function (ele) {
				$('#' + ele).closest("tr").find('td:nth-child(4)').html("*")
			});
			//handling cps conflict / validations

			if (conflict_message.length != 0) {
				$('#TREE_div').prepend(conflict_message);
				$("#TREE_div .emp_notifiy").css('display', 'block');
				$("#TREE_div #PageAlert ").css('display', 'block');
				//console.log(conflict_message)
			}
			disallowlist.forEach(function (ele) {
				$('#' + ele).closest("tr").css('display', 'none');
			});
			disrequired_sattrlist.forEach(function (ele) {
				//console.log('ele----',ele)
				$('#' + ele).closest("tr").find('td:nth-child(4)').html('');
			});

			dropdown_allowlist.forEach(function (ele) {
				try {
					ele = ele.replace("%", "\\%")
					$('#' + ele).css('display', 'block');
					//$('#'+ele).selected();
				}
				catch {
					console.log("error")
				}
			});
			//arr_list = {"AGS_Z0091_KPI_TGTKPI":"True","AGS_Z0091_KPI_BPTKPI":"False", "AGS_Z0091_KPI_BPTKPI": "False" }
			//img =
			for (const [key, value] of Object.entries(datas[17])) {
				if (value == "True") {
					$('#' + key).closest("tr").find('td:first').html("<img title=Acquired src=/mt/APPLIEDMATERIALS_PRD/Additionalfiles/clock_exe.svg>")
				}
				else {
					$('#' + key).closest("tr").find('td:first').html('')
				}
			};

			allowtab_attrlist.forEach(function (ele) {
				try {

					$('#sec_' + ele).css('display', 'inline-table');
					$('#sc_' + ele).css('display', 'inline-table');
					$('#' + ele).css('display', 'inline-table');
					//$('#'+ele).selected();
				}
				catch {
					console.log("error")
				}
			});
			disallowtab_sattrlist.forEach(function (ele) {
				try {

					$('#sec_' + ele).css('display', 'none');
					$('#sc_' + ele).css('display', 'none');
					$('#' + ele).css('display', 'none');
					//$('#'+ele).selected();
				}
				catch {
					console.log("error")
				}
			});
			drop_select_attrlist.forEach(function (ele) {
				try {
					ele = ele.replace(".", "\\.").replace(" ", "\\ ").replace("(", "\\(").replace(")", "\\)").replace("%", "\\%")
					$('#' + ele).css('display', 'block');
					$('#' + ele).selected();
				}
				catch {
					console.log("error")
				}
			});
			try {
				drop_unselect_attrlist.forEach(function (ele) {
					$('#' + ele + '_select').selected();
				});
			}
			catch {
				console.log("error")
			}
			editlis.forEach(function (ele) {
				try {

					$('#' + gecurrenttatbleid + ' #' + ele).removeClass('remove_yellow ').addClass('light_yellow');
					$('#' + gecurrenttatbleid + ' #' + ele).prop('disabled', false);
					//$('#'+ele).removeClass('remove_yellow ').addClass('light_yellow');
				}
				catch {
					console.log("error")
				}

			});
			droptext_select_attrlist.forEach(function (ele) {
				try {
					x = ele.split('%#')[0];

					y = ele.split('%#')[1];
					$('#' + x).val(y);
				}
				catch {
					console.log("error")
				}
			});
			non_default_attrlist.forEach(function (ele) {
				try {
					$('#' + ele).css('color', '#1B78D2');
				}
				catch {
					console.log("error")
				}
			});
			dropdown_disallowlist.forEach(function (ele) {
				try {
					ele = ele.replace(".", "\\.").replace(" ", "\\ ").replace("(", "\\(").replace(")", "\\)")
					$('#' + ele).css('display', 'none');
				}
				catch {
					console.log("error")
				}
			});
			allowlist.forEach(function (ele) {
				$('#' + ele).closest("tr").removeAttr('style');
				$('#' + ele).css('display', 'block');;
			});
			readonlylist.forEach(function (ele) {
				$('#' + ele).closest("tr").attr('disabled', 'disabled');
			});
			//empty the value if conflict comes
			if (cps_error.length != 0 || conflict_message.length != 0) {
				ele.value = ''
				//console.log(ele.value)
			}
			attrLevlPricing.forEach(function (attr) {
				//$('#'+attr.key).val(attr.factor)
				$('#' + attr.key).closest("tr").find('td:nth-last-child(3)').html(attr.factor)
				$('#' + attr.key).closest("tr").find('td:last').html(attr.total_price)
				$('#' + attr.key).closest("tr").find('td:nth-last-child(2)').html(attr.price)
			})
			if (gettabelevalue.toUpperCase() == "MANUAL INPUT") {
				$('#ADDL_PERF_GUARANTEE_91_1_dt').val(getdatatype);
				$('#ADDL_PERF_GUARANTEE_91_1_fc').val(getcurrency);
			}
			var getmanualip = $('#ADDL_PERF_GUARANTEE_91_1').find(":selected").text();
			if (getmanualip.toUpperCase() == "MANUAL INPUT") {
				$('#ADDL_PERF_GUARANTEE_91_1_T').css('display', 'block');
				$('#ADDL_PERF_GUARANTEE_91_1_imt').removeAttr("disabled");
				$("#ADDL_PERF_GUARANTEE_91_1_imt").removeClass('remove_yellow ').addClass('light_yellow');
				$('#ADDL_PERF_GUARANTEE_91_1_primp').removeAttr("disabled");
				$("#ADDL_PERF_GUARANTEE_91_1_primp").removeClass('remove_yellow ').addClass('light_yellow');
			}
			if (getseltabledesc == "ADDL_PERF_GUARANTEE_91_1" && entchanged == "D: Excluded") {
				$('#ADDL_PERF_GUARANTEE_91_1_dt').val('');
				$('#ADDL_PERF_GUARANTEE_91_1_fc').val(''); $('#ADDL_PERF_GUARANTEE_91_1_calc').val('');
				$('#ADDL_PERF_GUARANTEE_91_1_imt').val('');
				$('#ADDL_PERF_GUARANTEE_91_1_primp').val('');
			}

		});
	} catch (e) {
		console.log(e);
	}
	localStorage.setItem("newentList", newentList);


}

function Entitlement_multiselect(ele, arr) {
	//$("#"+gettabeleid).addClass('light_yellow');
	var getseltabledesc = $(ele).attr('id')
	var EquipmentId = ''
	var subtabName = localStorage.getItem("currentSubTab")
	if (subtabName == 'Equipment Entitlements') {
		EquipmentId = localStorage.getItem("Ent_EquipmentId")
	}
	var previousval = localStorage.getItem('previousval');
	var getatbleid = $(ele).closest('table').attr('id');
	var entchanged = arr
	var new_configid_flag = localStorage.getItem('editfirst');
	var EntitlementType = 'Dropdown'


	var getprevdict = localStorage.getItem("prventdict");
	dict_new = {}
	$("#" + getatbleid + " tbody tr:visible").each(function () {
		var getcostimpact = $(ele).find('td:nth-child(8) ').text();
		var getpriceimpact = $(ele).find('td:nth-child(9) ').text();
		var attr_type = 'DropDown'
		dict_new[$(ele).find('td:nth-child(5) select').attr('id')] = $(ele).find('td:nth-child(5) select').children(':selected').val() + '||' + attr_type + '||' + getcostimpact + '||' + getpriceimpact;
	});
	var arr = [];
	$("#" + getatbleid + " tbody tr:visible").each(function () {
		if ($(ele).find('td:nth-child(3) input') && !($(ele).find('td:nth-child(3) input').attr('type') == 'checkbox')) {
			var getcostimpact = $(ele).find('td:nth-child(8) ').text();
			var getpriceimpact = $(ele).find('td:nth-child(9) ').text();
			var attr_type = 'FreeInputNoMatching'
			dict_new[$(ele).find('td:nth-child(5) input').attr('id')] = $(ele).find('td:nth-child(5) input').val() + '||' + attr_type + '||' + getcostimpact + '||' + getpriceimpact;
		}
		else if ($(ele).find('td:nth-child(3) input').attr('type') == 'checkbox') {
			var getcostimpact = $(ele).find('td:nth-child(8) ').text();
			var getpriceimpact = $(ele).find('td:nth-child(9) ').text();
			var attr_type = 'Check Box'
			var arr = [];
			$(ele).find('.mulinput:checked').each(function () {
				arr.push($(ele).val());
				console.log('arr', arr)
			});
			dict_new[$(ele).find('td:nth-child(5) select').attr('id')] = arr + '||' + attr_type + '||' + getcostimpact + '||' + getpriceimpact;
		};
	});
	var sectional_current_dict = JSON.stringify(dict_new)
	CurrentRecordId = localStorage.getItem('CurrentRecordId');
	try {
		cpq.server.executeScript("CQENTLMENT", {
			'attributeId': getseltabledesc,
			'subtabName': subtabName,
			'prev': previousval,
			'SectionRecordId': getatbleid,
			'current': entchanged,
			'EquipmentId': EquipmentId,
			'EntitlementType': EntitlementType,
			'calc_factor': '',
			'ENT_IP_DICT': '',
			'multiselect_flag': 'true',
			'new_configid_flag': new_configid_flag,
			'getprevdict': getprevdict,
			'sectional_current_dict': sectional_current_dict,
			'RECORD_ID': CurrentRecordId
		}, function (datas) {
			disallowlist = datas[0];
			allowlist = datas[1];
			readonlylist = datas[3];
			editlis = datas[4];
			getdatatype = datas[6];
			getcurrency = datas[5];
			attrLevlPricing = datas[7]
			dropdown_allowlist = datas[8];
			dropdown_disallowlist = datas[9];
			non_default_attrlist = datas[10];
			drop_select_attrlist = datas[11];
			droptext_select_attrlist = datas[12];
			allowtab_attrlist = datas[14];
			disallowtab_sattrlist = datas[15];
			disrequired_sattrlist = datas[18];
			required_attr_list = datas[19];
			cps_error = datas[20];
			conflict_message = datas[21];
			drop_unselect_attrlist = datas[22];
			localStorage.setItem('editfirst', 'false');
			required_attr_list.forEach(function (ele) {
				$('#' + ele).closest("tr").find('td:nth-child(4)').html("*")
			});
			localStorage.setItem('editfirst', 'false');
			var gecurrenttatbleid = $('#' + getatbleid).closest('table').attr('id');
			disallowlist.forEach(function (ele) {
				$('#' + ele).closest("tr").css('display', 'none');
				$('#' + ele).val(0)
				$('#' + ele).closest("tr").find('td:nth-last-child(3)').html("")
				$('#' + ele).closest("tr").find('td:last').html("")
				$('#' + ele).closest("tr").find('td:nth-last-child(2)').html("")
				//$('#'+ele).closest("tr").find('td:nth-last-child(4)').html("")
			});
			required_attr_list.forEach(function (ele) {
				$('#' + ele).closest("tr").find('td:nth-child(4)').html("*")
			});
			allowlist.forEach(function (ele) {
				$('#' + ele).closest("tr").removeAttr('style');
				$('#' + ele).css('display', 'block');
			});
			readonlylist.forEach(function (ele) {
				$('#' + ele).closest("tr").attr('disabled', 'disabled');
			});
			attrLevlPricing.forEach(function (attr) {
				$('#' + attr.key).val(attr.factor)
				$('#' + attr.key).closest("tr").find('td:nth-last-child(3)').html(attr.factor)
				$('#' + attr.key).closest("tr").find('td:last').html(attr.total_price)
				$('#' + attr.key).closest("tr").find('td:nth-last-child(2)').html(attr.price)
				//$('#'+attr.key).closest("tr").find('td:nth-last-child(4)').html(attr.currency)
			});
			editlis.forEach(function (ele) {
				try {
					//console.log("edittt",ele)
					$('#' + gecurrenttatbleid + ' #' + ele).removeClass('remove_yellow ').addClass('light_yellow');
					$('#' + gecurrenttatbleid + ' #' + ele).prop('disabled', false);
					//$('#'+ele).removeClass('remove_yellow ').addClass('light_yellow');
				}
				catch {
					console.log("error")
				}

			});
			try {
				drop_unselect_attrlist.forEach(function (ele) {
					$('#' + ele + '_select').selected();
				});
			}
			catch {
				console.log("error")
			}
			drop_select_attrlist.forEach(function (ele) {
				try {
					ele = ele.replace(".", "\\.").replace(" ", "\\ ").replace("(", "\\(").replace(")", "\\)").replace("%", "\\%")
					$('#' + ele).css('display', 'block');
					$('#' + ele).selected();
				}
				catch {
					console.log("error")
				}
			});
			droptext_select_attrlist.forEach(function (ele) {
				try {
					x = ele.split('%#')[0];

					y = ele.split('%#')[1];
					$('#' + x).val(y);
				}
				catch {
					console.log("error")
				}
			});
			dropdown_disallowlist.forEach(function (ele) {
				ele = ele.replace("%", "\\%").replace(" ", "\\ ").replace("(", "\\(").replace(")", "\\)")
				$('#' + ele).css('display', 'none');
			});


		});
	} catch (e) {
		console.log(e);
	}
}
function save_entitlement(ele) {
	var btn_id = $(ele).attr('id');
	Entitlement_popup();
	$('#' + btn_id).closest('#ctr_drop').css('display', 'block');
	$('#sec_' + btn_id).closest("#container").unwrap();
	$('#sec_' + btn_id + ' tr').find('td select').prop("disabled", true);
	$('#sec_' + btn_id + ' tr').find('td input').prop("disabled", true);
	$('div#Entlsave').remove();
	$('#' + btn_id).closest('[data-toggle=collapse]').prop('disabled', false);

}

function Entitlement_popup() {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');
	$('.CommonTreeDetail').css('display', 'block');
	try {
		cpq.server.executeScript("CQENTLMENT", {
			'ACTION': 'POPUP',
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#kpirolldowndiv').html(data);
				$('#kpirolldowndiv #container_service').css('display', 'block');
				var subtabName = localStorage.getItem("currentSubTab")
				var currentObject = localStorage.getItem("CurrentObject");
				var getcurrentrecord_id = localStorage.getItem('EntCurrentId');

				setTimeout(function () {
					//subTabDetails(subtabName, 'Detail', currentObject, getcurrentrecord_id);
					$('#kpirolldowndiv #container_service').css('display', 'none');
				}, 5000);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('opacity', '0');
			}

		});
	} catch (e) {
		console.log(e);
	}
}

function Driver_popup(level) {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');

	try {
		cpq.server.executeScript("CQPREVWDTL", {
			'ACTION': 'POPUPS', 'params': level
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#kpirolldowndiv').html(data);
				$('.overlay').css('z-index', '0');
				$('.drop-boxe').css('display', 'block');
				setTimeout(function () {
					$('.drop-boxe').css('display', 'none');
				}, 5000);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('opacity', '0');
			}

		});
	} catch (e) {
		console.log(e);
	}
}

function SerDriver_popup(levels) {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');

	try {
		cpq.server.executeScript("CQPREVWDTL", {
			'ACTION': 'POPUPSER', 'params': levels
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#kpirolldowndiv').html(data);
				$('.overlay').css('z-index', '0');
				$('.drop-boxess').css('display', 'block');
				setTimeout(function () {
					$('.drop-boxess').css('display', 'none');
				}, 5000);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('opacity', '0');
			}

		});
	} catch (e) {
		console.log(e);
	}
}

function QIDriver_popup() {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');

	try {
		cpq.server.executeScript("CQPREVWDTL", {
			'ACTION': 'QIPOPUPSER',
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#kpirolldowndiv').html(data);
				$('.overlay').css('z-index', '0');
				$('.drop-boxess').css('display', 'block');
				setTimeout(function () {
					$('.drop-boxess').css('display', 'none');
				}, 5000);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('opacity', '0');
			}

		});
	} catch (e) {
		console.log(e);
	}
}
// Commented the below code (Approvals node functionality in QUotes explorer) -start

function Submitpopup() {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');

	try {
		cpq.server.executeScript("CQPREVWDTL", {
			'ACTION': 'SUBMITQUOTE',
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#kpirolldowndiv').html(data);
				$('.overlay').css('z-index', '0');
				$('.drop-boxess').css('display', 'block');
				setTimeout(function () {
					$('.drop-boxess').css('display', 'none');
				}, 9500);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('visibility', 'hidden');
			}

		});
	} catch (e) {
		console.log(e);
	}
}

function Approvepopup() {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');

	try {
		cpq.server.executeScript("CQPREVWDTL", {
			'ACTION': 'QTAPPROVE',
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#kpirolldowndiv').html(data);
				$('.overlay').css('z-index', '0');
				$('.drop-boxess').css('display', 'block');
				setTimeout(function () {
					$('.drop-boxess').css('display', 'none');
				}, 9500);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('opacity', '0');
			}

		});
	} catch (e) {
		console.log(e);
	}
}

function Rejectpopup() {
	$('.fd-spinner').css('display', 'none');
	$('.overlay').css('opacity', '0');

	try {
		cpq.server.executeScript("CQPREVWDTL", {
			'ACTION': 'QTREJECT',
		}, function (datachild) {

			data = datachild;
			if (data != '') {
				$('#kpirolldowndiv').html(data);
				$('.overlay').css('z-index', '0');
				$('.drop-boxess').css('display', 'block');
				setTimeout(function () {
					$('.drop-boxess').css('display', 'none');
				}, 9500);
				$('.fd-spinner').css('display', 'none');
				$('.overlay').css('visibility', 'hidden');
			}

		});
	} catch (e) {
		console.log(e);
	}
}

// Commented the below code (Approvals node functionality in QUotes explorer) -start
function cancel_entitlement(ele) {

	var btn_id = $(ele).attr('id');
	$('#' + btn_id).closest('#ctr_drop').css('display', 'block');
	$('#sec_' + btn_id).closest("#container").unwrap();
	GetEditdict = JSON.parse(localStorage.getItem('GetEditdict'));
	$('#' + btn_id).closest('[data-toggle=collapse]').prop('disabled', false);
	var subtabName = localStorage.getItem("currentSubTab")
	var EquipmentId = ''
	if (subtabName == 'Equipment Entitlements') {
		EquipmentId = localStorage.getItem("Ent_EquipmentId")
	}

	try {
		cpq.server.executeScript("CQENTLMENT", {

			'ENT_CANCEL': 'CANCEL',
			'SectionRecordId': btn_id,
			'getprevdict': GetEditdict,
			'subtabName': subtabName,
			'EquipmentId': EquipmentId

		}, function (datas) {
			//attrval = datas[0];
			//aatrid = datas[1];
			disallowlist = datas[0];
			allowlist = datas[1];
			readonlylist = datas[3];
			editlis = datas[4];

			disallowlist.forEach(function (ele) {
				$('#' + ele).closest("tr").css('display', 'none');
				// $(ele).css('display','none');
			});
			allowlist.forEach(function (ele) {
				$('#' + ele).closest("tr").removeAttr('style');
				//$('#'+ele).closest("tr").css('display','block');
				//$(ele).css('display','block');
			});
			readonlylist.forEach(function (ele) {
				//console.log('readonlylist-----------',ele)
				//$(ele).attr('disabled', 'disabled');
				$('#' + ele).closest("tr").attr('disabled', 'disabled');
			});
			$.each(GetEditdict, function (key, value) {
				$('#' + key).val(value);
				$('#sec_' + btn_id + ' tr').each(function () {
					$(ele).closest("tr").find('td select').prop("disabled", true);
					$(ele).closest("tr").find('td input').prop("disabled", true);
				});
				$('div#Entlsave').remove();

			});
		});
	} catch (e) {
		console.log(e);
	}

}

function btn_banner_redirct_tab(ele) {

	var getclickedid = ele;
	ProductId = cpq.models.configurator.productId();
	if (ele == 'Approvals') {
		localStorage.setItem("approvalsClicked", "yes");
		getclickedid = 'Quotes'
		location.href = "/Configurator.aspx?pid=710";
	}
	else if (ele == 'Teamapprovalqueue') {
		getclickedid = 'Teamapprovalqueue'

		location.href = "/Configurator.aspx?pid=710";
		$("#tab_Team_Approval_Queue").click();
		// setTimeout(function(){
		// 	location.href = "/Configurator.aspx?pid=710";
		// },1000);

	}
	else if (ele == 'Approvalsettings') {
		getclickedid = 'Approval Chains'

		location.href = "/Configurator.aspx?pid=710";

	}
	// else if (ele == 'Contracts'){
	// 	getclickedid = 'Contracts'
	// 	if(ProductId != '273'){
	// 		location.href = "/Configurator.aspx?pid=273";
	// 	}
	// 	}
	else if (ele == 'Quotes' || ele == 'Contracts') {
		if (ele == 'Quotes') {
			location.href = "/Configurator.aspx?pid=273";
		}
		else if (ele == 'Contracts') {
			contract_tab = document.getElementById("tab_Contracts");
			if (contract_tab) {
				$("#tab_Contracts").click();

			}
			else {
				getclickedid = 'Contracts'
				localStorage.setItem("contract_tab", "true");
				location.href = "/Configurator.aspx?pid=273";

				//setTimeout(function(){
				//$("#tab_Contracts").click();
				//},10000);
			}
		}
	}
	cpq.server.executeScript("CQTBMULIST", {
		'GETCLICKID': getclickedid

	}, function () {
		console.log('clicked elemet----')
	});
	if (getclickedid == 'Teamapprovalqueue') {

		$("#tab_Team_Approval_Queue").click();
		// setTimeout(function(){
		// 	location.href = "/Configurator.aspx?pid=710";
		// },1000);

	}
	$('#BTN_MA_ALL_REFRESH').click();

	if (ele == 'Approvals') {
		$("#subtab_list3").removeClass('active');
		$("#subtab_list2").removeClass('active');
		$("#subtab_list1").addClass('active');
		//	$('div.material_subtab_inner ul.nav-tabs').find("li a:contains('Waiting on My Approval')").parent().addClass('active');
		//$('div.material_subtab_inner ul.nav-tabs').find("li a:contains('My Quotes')").parent().removeClass('active');
		//$('div.material_subtab_inner ul.nav-tabs').find("li a:contains('Approval History')").parent().removeClass('active');
	}
	if (ele == 'Teamapprovalqueue') {

		$("#subtab_list2").removeClass('active');
		$("#subtab_list1").addClass('active');
		//	$('div.material_subtab_inner ul.nav-tabs').find("li a:contains('Waiting on My Approval')").parent().addClass('active');
		//$('div.material_subtab_inner ul.nav-tabs').find("li a:contains('My Quotes')").parent().removeClass('active');
		//$('div.material_subtab_inner ul.nav-tabs').find("li a:contains('Approval History')").parent().removeClass('active');
	}

}

function onFieldChanges(ele) {
	val = $(ele).val()
	if (val == undefined || val == '') {
		val = $('select#DATA_TYPE').val();
	}
	if (val == 'CHECKBOX' || val == 'DATE' || val == 'DATE/TIME' || val == 'IMAGE' || val == 'LOOKUP') {
		$('#LENGTH').closest('tr').hide();
		$('#DECIMALS').closest('tr').hide();
		$('#PICKLIST_VALUES').closest('tr').hide();
		$('#FORMULA_LOGIC').closest('tr').hide();
	}
	if (val == 'NUMBER' || val == 'CURRENCY' || val == 'PERCENT' || val == 'TEXT') {
		$('#LENGTH').closest('tr').show();
		$('#DECIMALS').closest('tr').show();
		$('#PICKLIST_VALUES').closest('tr').hide();
		$('#FORMULA_LOGIC').closest('tr').hide();
	}
	if (val == 'FORMULA') {
		$('#LENGTH').closest('tr').show();
		$('#DECIMALS').closest('tr').show();
		$('#PICKLIST_VALUES').closest('tr').hide();
		$('#FORMULA_LOGIC').closest('tr').show();
	}
	if (val == 'PICKLIST' || val == 'PICKLIST (MULTI-SELECT)') {
		$('#LENGTH').closest('tr').hide();
		$('#DECIMALS').closest('tr').hide();
		$('#PICKLIST_VALUES').closest('tr').show();
		$('#FORMULA_LOGIC').closest('tr').hide();
	}

}
function close_popup() {
	$('.drop-boxe').css('display', 'none');
	$('.drop-boxess').css('display', 'none');
	$('.drop-boxes').css('display', 'none');

}
function primary_banner() {
	var keyData_val = localStorage.getItem('keyData');
	if (keyData_val) { }
	else {
		keyData_val = $('.iconhvr .col-md-3.pad-0 input[id^=QSTN_]').val();
	}
	KeyValueToTable_txt = "Quotes";
	if (KeyValueToTable_txt == 'Quotes' && keyData_val == undefined) {
		keyData_val = localStorage.getItem("masterquoteRecId")
		localStorage.setItem('avoid_loading', '1');
	}
	if (KeyValueToTable_txt) {
		var bannerContentValueReset_txt = localStorage.getItem("bannerContentValueReset");
		var avoid_loading_val = localStorage.getItem('avoid_loading');
		if (avoid_loading_val == '1' || avoid_loading_val == '0') {
			var currentTab = $("ul#carttabs_head li.active a span").text();
			if (!currentTab) {
				currentTab = localStorage.getItem('CurrentTAB'); // Get currentab for contracts tab
				if (!currentTab) {
					currentTab = 'Quotes' //get currentab for qutoes tab in c4c
				}
			}
			try {
				cpq.server.executeScript("SYCONUPDAL", {
					'keyData_val': keyData_val,
					'CurrentTab': currentTab
				}, function (dataset) {
					banner_data = dataset[0];
					editicon_data = dataset[1];
					cpqid_data = dataset[2];
					required_data = dataset[3];
					currency_data = dataset[4];
					// RAMESH A043S001P01-8018 START
					sectionedit_data = dataset[5];
					// RAMESH A043S001P01-8018 END
					// Recall Button Validation - Start
					recallbtn = dataset[6];
					if (recallbtn == 1) {
						$('#recall_for_edit').css('display', 'block');
					}
					// Recall Button Validation - End
					if (banner_data) {
						currenttab = $(".materialMainBan.cart_page .tabsfiled .active a span").text()
						if (banner_data[0] && banner_data[1]) {
							if (banner_data[0] && banner_data[1][0] && banner_data[1][1] && banner_data[1][2]) {
								if (bannerContentValueReset_txt == '2') {
									localStorage.getItem("bannerContentValueReset", '0');
									$('.product_txt').text('');
									$('.part_number_header').text('');
									$('.sap_desc_header').text('');
									$('.product_txt_to_top abbr').text('');
									$('.product_txt_to_top abbr').attr('title', '');
									$('.part_number_content abbr').text('');
									$('.part_number_content abbr').attr('title', '');
									$('.sap_desc_content abbr').text('');
									$('.sap_desc_content abbr').attr('title', '');
									$('.segment_part_number_heading').text('');
									$('.segment_part_heading').text('');
									$('.segment_part_number_text abbr').text('');
									$('.segment_part_number_text abbr').attr('title', '');
									$('.segment_part_text abbr').text('');
									$('.segment_part_text abbr').attr('title', '');
									$('.order_mgmt_date_heading').text('');
									$('.order_mgmt_date_text abbr').attr('title', '');
									$('.order_mgmt_date_text').text('');
									$('.segment_revision_heading').text('');
									$('.segment_revision_text abbr').attr('title', '');
									$('.segment_revision_text').text('');
								}
								else {
									$('.order_mgmt_date').css('display', 'none');
									localStorage.setItem('KeyToCurrency', banner_data[1][0].Value);
									localStorage.setItem('keyData', banner_data[1][0].Value);
									//A043S001P01-8665 Start
									var headerValue_split = banner_data[0].split(',');
									// A043S001P01-8665 End
									$('.product_txt').text(headerValue_split[0]);
									$('.part_number_header').text(headerValue_split[1]);
									$('.sap_desc_header').text(headerValue_split[2]);
									$('.product_txt_to_top abbr').text(banner_data[1][0].Value);
									$('.product_txt_to_top abbr').attr('title', banner_data[1][0].Value);
									$('.product_txt_to_top').text(banner_data[1][0].Value);
									$('.part_number_content abbr').text(banner_data[1][1].Value);
									$('.part_number_content abbr').attr('title', banner_data[1][1].Value);
									$('.sap_desc_content abbr').text(banner_data[1][2].Value);
									$('.sap_desc_content abbr').attr('title', banner_data[1][2].Value);
									$('.segment_part_number_heading').text(headerValue_split[1]);
									$('.segment_part_heading').text(headerValue_split[2]);
									$('.segment_quote_heading').text(headerValue_split[3]);
									$('.segment_part_number_text abbr').text(banner_data[1][1].Value);
									$('.segment_part_number_text abbr').attr('title', banner_data[1][1].Value);
									$('.segment_part_text abbr').text(banner_data[1][2].Value);
									$('.segment_part_text abbr').attr('title', banner_data[1][2].Value);
									currenttab = $("ul#carttabs_head li.active a span").text();
									getCurrentTabName = $("ul#carttabs_head li.active a span").text();
									/*if (!currenttab) {
										currenttab = localStorage.getItem('CurrentTAB')
										getCurrentTabName =  localStorage.getItem('CurrentTAB')
									}
									if(!currenttab){
										getCurrentTabName = "Quotes"
										currenttab = "Quotes"
									}
									*/
									if ($(".segment_part_number_heading").text() == "Contract ID") {
										getCurrentTabName = "Contracts"
										currenttab = "Contracts"
									} else {
										getCurrentTabName = "Quotes"
										currenttab = "Quotes"
									}
									if ((headerValue_split.length > 3) && (getCurrentTabName != "Contracts")) {
										$('.segment_quote_text abbr').text(banner_data[1][3].Value);
										$('.segment_quote_text abbr').attr('title', banner_data[1][3].Value);
									}
									// if ((headerValue_split.length > 3) && (getCurrentTabName == "Approval Chain")) {
									// 	$('.segment_quote_text abbr').text(banner_data[1][3]);
									// 	$('.segment_quote_text abbr').attr('title', banner_data[1][3]);
									// }
									if ((headerValue_split[4]) && (getCurrentTabName != "Contracts")) {
										$('.segment_revision_Acc').css('display', 'block');
										$('.segment_revision_Acc_heading').text(headerValue_split[4]);
										$('.segment_revision_Acc_text abbr').text(banner_data[1][4].Value);
										$('.segment_revision_Acc_text abbr').attr('title', banner_data[1][4].Value);
									}
									if ((headerValue_split[5]) && (currenttab != "Contracts" && currenttab != "Quotes")) {
										$('.segment_revision_Sale').css('display', 'block');
										$('.segment_revision_Sale_heading').text(headerValue_split[5]);
										$('.segment_revision_Sale_text abbr').text(banner_data[1][5].Value);
										$('.segment_revision_Sale_text abbr').attr('title', banner_data[1][5].Value);
									}
									//A055S000P01-4191 code starts..
									if ((headerValue_split[6]) && (currenttab != "Contracts" && currenttab != "Quotes")) {
										$('.segment_revision_doc_type').css('display', 'block');
										$('.segment_revision_doc_type_heading').text(headerValue_split[6]);
										$('.segment_revision_doc_type_text abbr').text(banner_data[1][6].Value);
										$('.segment_revision_doc_type_text abbr').attr('title', banner_data[1][6].Value);
									}

									if (headerValue_split[7]) {
										$('.segment_revision_sale_id').css('display', 'block');
										$('.segment_revision_sale_id_heading').text(headerValue_split[7]);
										$('.segment_revision_sale_id_text abbr').text(banner_data[1][7].Value);
										$('.segment_revision_sale_id_text abbr').attr('title', banner_data[1][7].Value);
									}
									if (headerValue_split[8]) {
										$('.segment_revision_sale_org').css('display', 'block');
										$('.segment_revision_sale_org_heading').text(headerValue_split[8]);
										$('.segment_revision_sale_org_text abbr').text(banner_data[1][8].Value);
										$('.segment_revision_sale_org_text abbr').attr('title', banner_data[1][8].Value);
									}
									if (headerValue_split[9]) {
										$('.segment_revision_quote_owner').css('display', 'block');
										$('.segment_revision_quote_owner_heading').text(headerValue_split[9]);
										$('.segment_revision_quote_owner_text abbr').text(banner_data[1][9].Value);
										$('.segment_revision_quote_owner_text abbr').attr('title', banner_data[1][9].Value);
									}
									if (headerValue_split[10]) {
										$('.segment_revision_trans_type').css('display', 'block');
										$('.segment_revision_trans_type_heading').text(headerValue_split[10]);
										$('.segment_revision_trans_type_text abbr').text(banner_data[1][10].Value);
										$('.segment_revision_trans_type_text abbr').attr('title', banner_data[1][10].Value);
									}
									if ((headerValue_split[11]) && currenttab == 'Quotes') {
										$('.segment_revision_poes').css('display', 'block');
										$('.segment_revision_poes_heading').text(headerValue_split[11]);
										$('.segment_revision_poes_text abbr').attr('title', banner_data[1][11].Value);
										if (banner_data[1][11].Value == false) {
											var td = '<input type="CHECKBOX" value = "False" class="custom" disabled><span class="lbl"></span>'
										}
										else if (banner_data[1][11].Value == true) {

											var td = '<input type="CHECKBOX" value = "True" class="custom" checked disabled><span class="lbl"></span>'
										}
										$('.segment_revision_poes_text abbr').html(td)
									}
									if ((headerValue_split[12]) && currenttab == 'Quotes') {
										$('.segment_revision_low').css('display', 'block');
										$('.segment_revision_low_heading').text(headerValue_split[12]);
										$('.segment_revision_low_text abbr').attr('title', banner_data[1][12].Value);
										if (banner_data[1][12].Value == false) {
											var td = '<input type="CHECKBOX" value = "False" class="custom" disabled><span class="lbl"></span>'
										}
										else if (banner_data[1][12].Value == true) {

											var td = '<input type="CHECKBOX" value = "True" class="custom" checked disabled><span class="lbl"></span>'
										}
										$('.segment_revision_low_text abbr').html(td)
									}
									if ((headerValue_split[13]) && currenttab == 'Quotes') {
										$('.quote_revision_expiration').css('display', 'block');
										$('.quote_revision_expiration_heading').text(headerValue_split[13]);
										$('.quote_revision_expiration_text abbr').attr('title', banner_data[1][13].Value);
										if (banner_data[1][13].Value == false) {
											var td = '<input type="CHECKBOX" value = "False" class="custom" disabled><span class="lbl"></span>'
										}
										else if (banner_data[1][13].Value == true) {

											var td = '<input type="CHECKBOX" value = "True" class="custom" checked disabled><span class="lbl"></span>'
										}
										$('.quote_revision_expiration_text abbr').html(td)
									}
									//A055S000P01-4191 code ends..
									// to show check box in PHP for Active column in approval chains tab -start
									if ((headerValue_split.length > 5) && (getCurrentTabName == "Approval Chain")) {
										var checkvalue = $('#check_cont3176 ul li label input').prop("checked");
										if (checkvalue == true) {
											var td = '<input type="CHECKBOX" value = "True" class="custom" checked disabled><span class="lbl"></span>'
										}
										else {
											var td = '<input type="CHECKBOX" value = "False" class="custom" disabled><span class="lbl"></span>'
										}
										//$('.segment_revision_id').removeClass("disp_none").addClass("disp_blk");
										$('.segment_revision_Sale_heading').text(headerValue_split[5]);
										$('.segment_revision_Sale_text').html(td);
									}
									// to show check box in PHP for Active column in approval chains tab -end
									if ((headerValue_split[3]) && (getCurrentTabName == "Contracts")) {
										$('.segment_quote_heading').text(headerValue_split[3]);
										/* OM's Code Start Here */
										// $('.order_mgmt_date_text abbr').text(invoice_date);
										// $('.order_mgmt_date_text abbr').attr('title', invoice_date);
										timestmp = parseInt(banner_data[1][3].Value.match(/\d+/g)[0])
										var dateval = new Date(timestmp)
										var dd = dateval.getDate();
										var mm = dateval.getMonth() + 1;
										var yyyy = dateval.getFullYear();
										formated_date_to_show = mm + "/" + dd + "/" + yyyy;
										$('.segment_quote_text abbr').attr('title', formated_date_to_show);
										$('.segment_quote_text abbr').text(formated_date_to_show);
									}
									if (currenttab == "Quotes") {
										if (headerValue_split[5]) {
											$('.segment_revision_status').css('display', 'block');
											$('.segment_revision_status_heading').text(headerValue_split[5]);
											try {
												if (banner_data[1][5].Value != null) {
													timestmp = parseInt(banner_data[1][5].Value.match(/\d+/g)[0])
													var dateval = new Date(timestmp)
													if (currenttab == "Quotes") {
														//var dd = dateval.getDate().toString().padStart(2, "0");
														//var month = dateval.getMonth() + 1;
														//var mm = month.toString().padStart(2, "0");
														formated_date_to_show = banner_data[1][5].Value
													}
													else {
														var dd = dateval.getDate();
														var mm = dateval.getMonth() + 1;
														var yyyy = dateval.getFullYear();
														formated_date_to_show = mm + "/" + dd + "/" + yyyy;
													}

													$('.segment_revision_status_text abbr').attr('title', formated_date_to_show);
													$('.segment_revision_status_text abbr').text(formated_date_to_show);
												}
											} catch (e) {
												console.log(e);
											}
										}

										if (headerValue_split[6]) {
											$('.segment_revision_heading').text(headerValue_split[6]);
											if (banner_data[1][6].Value != null) {
												timestmp = parseInt(banner_data[1][6].Value.match(/\d+/g)[0])
												var dateval = new Date(timestmp)
												if (currenttab == "Quotes") {
													//var dd = dateval.getDate().toString().padStart(2, "0");
													//var month = dateval.getMonth() + 1;
													//var mm = month.toString().padStart(2, "0");
													formated_date_to_show = banner_data[1][6].Value
												}
												else {
													var dd = dateval.getDate();
													var mm = dateval.getMonth() + 1;
													var yyyy = dateval.getFullYear();
													formated_date_to_show = mm + "/" + dd + "/" + yyyy;
												}

												$('.segment_revision_text abbr').attr('title', formated_date_to_show);
												$('.segment_revision_text abbr').text(formated_date_to_show);
											}
										}
									}
									if (currenttab == "Quotes" || currentTab == "Quotes") {
										$('.product_txt_div').css('display', 'none');
										$('#php_banner_image > img').attr('src', '/mt/APPLIEDMATERIALS_PRD/Additionalfiles/contract_quotesfull.svg');
									}
									if (currenttab == "Contracts" || currentTab == "Contracts") {
										$('.product_txt_div').css('display', 'none');
										$('#php_banner_image > img').attr('src', '/mt/APPLIEDMATERIALS_PRD/Additionalfiles/Contract_Information.svg');
									}
									//A055S000P01-3259 to restrict quote type & sale type labels in PHP while navigating from Source contract id hyperlink from quote information node -start
									if (getCurrentTabName == "Contracts") {
										$(".segment_revision_Acc").css("display", "none");
										$(".segment_revision_Sale").css("display", "none");
									}
									//A055S000P01-3259 to restrict quote type & sale type labels in PHP while navigating from Source contract id hyperlink from quote information node -end
									if (currenttab == "Contracts") {
										if (headerValue_split[4]) {
											$('.segment_revision_heading').text(headerValue_split[4]);
											/* OM's Code Start Here */
											// $('.order_mgmt_date_text abbr').text(invoice_date);
											// $('.order_mgmt_date_text abbr').attr('title', invoice_date);
											timestmp = parseInt(banner_data[1][4].Value.match(/\d+/g)[0])
											var dateval = new Date(timestmp)
											var dd = dateval.getDate();
											var mm = dateval.getMonth() + 1;
											var yyyy = dateval.getFullYear();
											formated_date_to_show = mm + "/" + dd + "/" + yyyy;
											$('.segment_revision_text abbr').attr('title', formated_date_to_show);
											$('.segment_revision_text abbr').text(formated_date_to_show);
										}
									}
									
								}

							}
						}// A043S001P01-13633 Start
						else {
							//currenttab = "Quotes";
							currenttab = $("ul#carttabs_head li.active a span").text();
							localStorage.setItem("Banner_Hiding_Var", '0');
							$('.product_txt').text(currenttab);
							$('.part_number_header').text('');
							$('.sap_desc_header').text('');
							$('.product_txt_to_top abbr').text('');
							$('.product_txt_to_top abbr').attr('title', '');
							$('.part_number_content abbr').text('');
							$('.part_number_content abbr').attr('title', '');
							$('.sap_desc_content abbr').text('');
							$('.sap_desc_content abbr').attr('title', '');
							$('.segment_part_number_heading').text('');
							$('.segment_part_heading').text('');
							$('.segment_part_number_text abbr').text('');
							$('.segment_part_number_text abbr').attr('title', '');
							$('.segment_part_text abbr').text('');
							$('.segment_part_text abbr').attr('title', '');
							$('.order_mgmt_date_heading').text('');
							$('.order_mgmt_date_text abbr').attr('title', '');
							$('.order_mgmt_date_text').text('');
							$('.segment_revision_heading').text('');
							$('.segment_revision_text abbr').attr('title', '');
							$('.segment_revision_text').text('');
						}// A043S001P01-13633 End
					}
				});
			}
			catch {

			}
		}
	}


}

function navigatequotelist(ele) {
	var current_url = window.location.href;
	var regex = new RegExp('QUOTATION\/Cart\.aspx', "i");  // Check Regex pattern Only for Quotes. Ignore case for C4C
	if (regex.test(current_url)) {
		localStorage.setItem('CURRENTTABFROMCARTPAGE', ele.id);
		//window.location.replace("https://rssandbox.webcomcpq.com/QUOTATION/LOADQUOTE.ASPX");
		var current_origin = window.location.origin
		window.location.replace(current_origin.concat("/QUOTATION/LOADQUOTE.ASPX"));
	}
	else {
		localStorage.setItem('CURRENTTABFROMCARTPAGE', null);
	}
	//console.log(ele);
	if (ele.id == "Contracts") {
		$("li#Quotes.Quotes").removeClass("active");
		$("li#Contracts.Quotes").addClass("active");
	} else {
		$("li#Contracts.Quotes").removeClass("active");
		$("li#Quotes.Quotes").addClass("active");
	}
	//$("li#"+ ele.id +".Quotes").addClass("active");
	$(".subtab_list3").removeClass("active");
	$(".subtab_list2").removeClass("active");
	$(".subtab_list1").addClass("active");
	TabContainerFullList(ele);
}

function activequotelist(ele) {
	//console.log(ele);
	if (ele.id == "subtab_list2") {
		$(".subtab_list1").removeClass("active");
		$(".subtab_list2").addClass("active");
		$(".subtab_list3").removeClass("active");
	} else if (ele.id == "subtab_list3") {
		$(".subtab_list1").removeClass("active");
		$(".subtab_list2").removeClass("active");
		$(".subtab_list3").addClass("active");
	} else {
		$(".subtab_list1").addClass("active");
		$(".subtab_list2").removeClass("active");
		$(".subtab_list3").removeClass("active");
	}
	//$("."+ele.id).addClass("active");
	TabContainerFullList(ele);
}

function BacktoList(ele) {
	/*var current_url = window.location.href;
	var regex = new RegExp('QUOTATION\/Cart\.aspx');  // Check Regex pattern Only for Quotes.
	if (regex.test(current_url)){ */
	var current_origin = window.location.origin
	localStorage.setItem('BACKTOLISTCURRENTTAB', $("ul#carttabs_head li.active a span").text());
	localStorage.setItem("sales_current_tab", $("ul#carttabs_head li.active a span").text());
	window.location.replace(current_origin.concat("/QUOTATION/LOADQUOTE.ASPX"));
	//window.location.replace("https://rssandbox.webcomcpq.com/QUOTATION/LOADQUOTE.ASPX");
	/*}
	else {
		localStorage.setItem('BACKTOLISTCURRENTTAB', null);
		localStorage.setItem('sales_current_tab', null);
	} */
}
// Insert data into SAQRIB table for GeneratingBillingMatrix
function generatingbillingmatrix(ele) {
	//console.log(ele);
	$('#COMMON_TABS').css('display', 'block');
	localStorage.setItem('generatingbillingmatrix', 'generatingbillingmatrix')
	var apr_current_rec_id = localStorage.getItem('keyData');
	try {
		cpq.server.executeScript("CQCRUDOPTN", {
			'Opertion': 'INSERT',
			'ActionType': 'SHOW_PRICING_BENCHMARKING_NOTIFICATION',
			'NodeType': 'BILLING MATRIX MODEL',
			'OBJECTNAME': 'SAQRIB',
			'TREEPARAM': 'Billing',
			'CurrentRecordId': apr_current_rec_id,
		}, function (resultset) {
			CommonLeftView(apr_current_rec_id);

		});
	}
	catch { console.log('===error for inserting data into SAQRIB') }
}


function new_revisions_add(ele) {

	//console.log('called revisions scripts--',ele)
	var get_currentnode = node.nodeId

	cpq.server.executeScript("CQREVISION", { 'Opertion': 'NEW_REV', 'cartrev': '' }, function (dataset) {
		$("#step1").removeClass("complete").addClass("disabled");
		$("#step1 .bar_number").css("display", "block");
		$("#step1 .bar_tick_img").css("display", "none");
		$("#step2").removeClass("active").addClass("disabled");
		$("[id='qtn_save'] span").click();
		primary_banner();
		//primary_banner();
		//[CurrentRecordId,RecName] = ['SYOBJR-98869','div_CTR_Revisions'];
		//CommonRightView(get_currentnode);
		window.location.reload();
		//loadRelatedList(CurrentRecordId,RecName);
	});
	//CommonLeftView();



	localStorage.setItem('NEW_REV', 'NEW_REV')
	localStorage.setItem("add_new_functionality", "TRUE"); //added to redirection A055S000P01-9522

}
function loadrevisionsgrid() {
	//console.log('27188-----------------')
	setTimeout(function () {
		CommonRightView(3);
		var getrevisions = localStorage.getItem('NEW_REV')
		if (getrevisions == 'NEW_REV') { CommonRightView(3); localStorage.setItem('NEW_REV', '') }
	}, 100);
}

function salesorgclose() {

	//console.log('called revisions scripts--');
	$('#revision_edit_decrip').css('display', 'none');


}


function set_as_active(ele) {

	var cartrev = $(ele).closest('tr').find('td:nth-child(3)').text();

	cpq.server.executeScript("CQREVISION", { 'Opertion': 'SET_ACTIVE', 'cartrev': cartrev }, function (dataset) {

		[CurrentRecordId, RecName] = ['SYOBJR-98869', 'div_CTR_Revisions'];
		$("[id='qtn_save'] span").click();
		Subbaner('No Subtab', node.nodeId, node.id, node.objname);
		primary_banner();
		//loadRelatedList(CurrentRecordId,RecName);
		window.location.reload();
	});
	//  CommonLeftView();
	//primary_banner();
	$("#step1").removeClass("complete").addClass("disabled");
	$("#step1 .bar_number").css("display", "block");
	$("#step1 .bar_tick_img").css("display", "none");
	$("#step2").removeClass("active").addClass("disabled");

	localStorage.setItem("add_new_functionality", "TRUE"); //added to redirection A055S000P01-9522

}
function submit_to_customer(ele) {

	var doc_rec_id = $(ele).closest('tr').find('td:nth-child(4) abbr').attr('id');
	//localStorage.setItem("doc_rec_id", cardoc_id);
	//var cartrev_id  = localStorage.getItem("cartrev_id");
	cpq.server.executeScript("CQDOCUGENR", { 'ACTION': 'SUBMIT_TO_CUSTOMER', 'doc_rec_id': doc_rec_id }, function (dataset) {

		[CurrentRecordId, RecName] = ['SYOBJR-98878', 'div_CTR_related_list'];
		loadRelatedList(CurrentRecordId, RecName);
		primary_banner();


	});
}
function customer_accepted(ele) {

	var doc_rec_id = $(ele).closest('tr').find('td:nth-child(4) abbr').attr('id');
	cpq.server.executeScript("CQDOCUGENR", { 'ACTION': 'CUSTOMER_ACCEPTED', 'doc_rec_id': doc_rec_id }, function (dataset) {

		[CurrentRecordId, RecName] = ['SYOBJR-98878', 'div_CTR_related_list'];
		loadRelatedList(CurrentRecordId, RecName);
		primary_banner();
		var getquotetype = $('.segment_revision_trans_type_text').text()
		var getpoes = $(".segment_revision_poes_text > abbr > input").val()
		if (getquotetype == "A-QUOTE" || getpoes == "True") {
			$('#Newrevision1').css('display', 'none')
		}
		else {
			$('#Newrevision1').css('display', 'block')
		}
	});
}
function customer_rejected(ele) {

	var doc_rec_id = localStorage.getItem('SelectedDocument');
	var reject_comment = $('#reject_statement_content').find('#doc_revision_edit_decrip_text').val();
	cpq.server.executeScript("CQDOCUGENR", { 'ACTION': 'CUSTOMER_REJECTED', 'doc_rec_id': doc_rec_id, 'REJECT_COMMENT': reject_comment }, function (dataset) {

		[CurrentRecordId, RecName] = ['SYOBJR-98878', 'div_CTR_related_list'];
		loadRelatedList(CurrentRecordId, RecName);
		primary_banner();
	});
}
function doc_edit_desc(ele) {

	$('#doc_revision_edit_decrip').css('display', 'block');
	$('#doc_revision_edit_decrip').addClass('in');
	var cartdoc_des = $(ele).closest('tr').find('td:nth-child(7)').text();
	val = $('#doc_revision_edit_decrip_text').val(cartdoc_des);
	var cardoc_id = $(ele).closest('tr').find('td:nth-child(4)').text();
	localStorage.setItem("cardoc_id", cardoc_id);
	var doc_rec_id = $(ele).closest('tr').find('td:nth-child(4) abbr').attr('id');
	localStorage.setItem("doc_rec_id", doc_rec_id);

}
function doc_desc_close() {

	//console.log('called revisions scripts--');
	$('#doc_revision_edit_decrip').css('display', 'none');


}

function doc_revision_edit_decrip(ele) {

	var doc_rec_desc = $('#doc_revision_edit_decrip_text').val();
	$('#doc_revision_edit_decrip').css('display', 'none');
	var rec_id = localStorage.getItem("doc_rec_id");
	cpq.server.executeScript("CQDOCUGENR", { 'ACTION': 'SAVE_DESC', 'doc_desc_val': doc_rec_desc, 'doc_rec_id': rec_id }, function (dataset) {

		[CurrentRecordId, RecName] = ['SYOBJR-98878', 'div_CTR_related_list'];
		loadRelatedList(CurrentRecordId, RecName);

	});
	localStorage.setItem("doc_rec_id", '');
}

function edit_desc(ele) {

	$('#revision_edit_decrip').css('display', 'block');
	$('#revision_edit_decrip').addClass('in');
	var cartrev_des = $(ele).closest('tr').find('td:nth-child(5)').text();
	val = $('#revision_edit_decrip_text').val(cartrev_des);
	var cartrev_id = $(ele).closest('tr').find('td:nth-child(3)').text();
	localStorage.setItem("cartrev_id", cartrev_id);

}

function revision_edit_decrip(ele) {

	var REV_DESC = $('#revision_edit_decrip_text').val();
	$('#revision_edit_decrip').css('display', 'none');
	//var cartrev_id = $(ele).closest('tr').find('td:nth-child(3)').text();
	var cartrev_id = localStorage.getItem("cartrev_id");
	cpq.server.executeScript("CQREVISION", { 'Opertion': 'SAVE_DESC', 'cartrev': REV_DESC, 'cartrev_id': cartrev_id }, function (dataset) {

		[CurrentRecordId, RecName] = ['SYOBJR-98869', 'div_CTR_Revisions'];
		loadRelatedList(CurrentRecordId, RecName);

	});

	localStorage.setItem("cartrev_id", '');

}



function onclick_datepicker_locdate(id) {
	var billing_date = $("#" + id).val();
	if (billing_date) {

		var contract_start_date = $(".segment_revision_status_text abbr").text();
		var contract_end_date = $('.segment_revision_text  abbr').text();
		var start_current_date = new Date(contract_start_date);
		var end_current_date = new Date(contract_end_date);
		var startDate = new Date(start_current_date.getFullYear(), start_current_date.getMonth(), start_current_date.getDate(), 1);
		var endDate = new Date(end_current_date.getFullYear(), end_current_date.getMonth(), end_current_date.getDate(), 0);
		$("#" + id).datepicker({
			autoclose: true,
			startDate: startDate,
			endDate: endDate
		});
		$("#" + id).datepicker('show');
	}
}



function iconhide() {
	$('.jqx-fill-state-pressed').click()
	$('span.icon.expand-icon.glyphicon.glyphicon-plus').click()
	//$('#mainicondiv').hide()
	//$('#content1234').show()
	//$('.dummyclicksec').hide()
	$('.iconshow').show()
	$('.iconhide').hide()
	//$(".jqx-splitter").addClass("splitleft");
	$("#content12345").removeClass("fullwidthright");
	$("#content1234").removeClass("width3");
	//$("#commontreeview").removeClass("brdrremove");
}

function iconshow() {
	$('span.icon.expand-icon.glyphicon.glyphicon-minus').click()
	$('span.icon.expand-icon.glyphicon.glyphicon-minus').click()
	$('span.icon.expand-icon.glyphicon.glyphicon-minus').click()
	$('span.icon.expand-icon.glyphicon.glyphicon-minus').click()
	$('span.icon.expand-icon.glyphicon.glyphicon-minus').click()
	$('span.icon.expand-icon.glyphicon.glyphicon-minus').click()
	$('span.icon.expand-icon.glyphicon.glyphicon-minus').click()
	$('.jqx-fill-state-pressed').click()

	//$('#mainicondiv').show()
	//$('#content1234').hide()
	$('.iconshow').hide()
	$('.iconhide').show()
	//$('.dummyclicksec').show()
	//$('.Dummysplitter.iconhide').hide()
	$("#content12345").addClass("fullwidthright");
	//$(".jqx-splitter").removeClass("splitleft");
	$("#content1234").css("visibility", "visible");
	$("#content1234").addClass("width3");
	//$("#commontreeview").addClass("brdrremove");

}

function edit_annual_pick() {
	loadRelatedList("SYOBJR-00009", "div_CTR_Assemblies")
	var get_pick_annualitems = $("#anual_grid_picklist").val();
	localStorage.setItem("get_pick_annualitems", get_pick_annualitems);

}

function OnclickNsoEdit(ele) {
	//console.log('ele--',ele)
	included_value = $(ele).prop("checked")
	selected_value = ''
	nso_index = $(ele).closest('table').find('[data-field="QUOTE_REV_PO_EQUIPMENT_PARTS_RECORD_ID"]').index() + 1;
	selected_nso = $(ele).closest('tr').find('td:nth-child(' + nso_index + ')').text().trim()
	fab_index = ''
	selected_index = ''
	selected_fab = ''
	try {
		cpq.server.executeScript("CQASSMEDIT", {
			'ACTION': 'SAVE_NSO',
			'selected_nso': selected_nso,
			'included_value': included_value,
			'subtab': localStorage.getItem("currentSubTab"),
			'selected_value': selected_value,
		}, function (data) {
		});

	} catch (e) {
		console.log(e);
	}
}

function waitingmyapproval(ele) {
	localStorage.setItem("headerMenuTab", "Approvals");
	//$(".cartlist_fixedheader").hide();
	//$("span#waitforapproval").trigger("click");
	cpq.server.executeScript(
		"QTLISTPAGE",
		{
			ACTION: "WAIT_APPROVAL",
		},
		function (data) {
			document.getElementById('TabContainerFull').innerHTML = '';
			$("#TabContainerFull").html(data);

		}
	);
}
